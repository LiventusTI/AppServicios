@{
    ViewBag.Title = "GestionarServicios";
    Layout = "~/Views/MasterPage.cshtml";
    int PerfilInterior = Convert.ToInt32(Session["PerfilInterior"]);
    string Usuario = Session["User"].ToString().ToUpper();
}
<style>
    .swal-wide {
        width: 2000px !important;
    }

    .cancelarservicio {
        width: 600px !important;
    }

    .btn-sm {
        width: 18%;
        table-layout: fixed;
        border-collapse: collapse;
    }
</style>

<div class="col-sm-12">
    <div class="x_panel">
        <div class="x_title">
            <div class="row">
                <div class="col-sm-7">
                    <h3 class="tr" key="gestionreservas">Gestión Reservas y Servicios</h3>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>

        <div class="x_content">
            <div class="x_panel">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="col-lg-3 col-md-3 col-sm-12" style="text-align:center">
                            <label class="control-label tr">Filtro por Estado en Colores: </label>
                            <i title="DESCRIPCIÓN DE ESTADOS POR COLORES:
                               MORADO: SERVICIOS CON ALERTA CRITICA DE MSC.
                               ROJO: SERVICIOS CON CONTROLADOR ASOCIADO Y SIN VALIDACION TECNICA.
                               NARANJO: SERVICIOS RESERVADOS ETA DE NAVE VENCIDO.
                               AMARILLO: SERVICIOS RESERVADOS CON ETA DE NAVE POR CUMPLIRSE (1 DIA ANTES).
                               CELESTE: SERVICIOS PRE-CANCELADOS O CANCELADOS SIN CONFIRMACION DE LA NAVIERA.
                               BLANCO: SERVICIOS RESERVADOS SIN ALERTAS DE ETA DE NAVE.
                               VERDE: SERVICIOS CON CONTROLADOR ASOCIADO Y CON VALIDACION TECNICA OK.
                               PLOMO: SERVICIOS CANCELADOS." class="fa fa-info-circle"></i>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">

                            <div>
                                <select class="selectpicker form-control" data-live-search="true" name="ListaColor" id="ListaColor">
                                    <option selected value="0">SELECT COLUMN</option>
                                    <option value="1">MORADO </option>
                                    <option value="2">ROJO </option>
                                    <option value="3">NARANJO </option>
                                    <option value="4">AMARILLO</option>
                                    <option value="5">CELESTE</option>
                                    <option value="6">BLANCO</option>
                                    <option value="7">VERDE</option>
                                    <option value="8">PLOMO</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                            <button type="button" class="btn btn-primary tr btn-sm" key="FiltroColores" id="FiltroColores">Filtrar</button>
                            <button type="button" class="btn btn-success tr btn-sm" key="LimpiarFiltro" id="LimpiarFiltro">Limpiar</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="x_panel">
                <div class="col-sm-12 col-md-12 col-lg-12">
                    <div id="guardadocorrectamente" hidden="hidden"><p style="color:red">Guardado Correctamente</p></div>
                    <table id="Tb_Servicios" class="table table-striped table-bordered display nowrap">
                        <thead>
                            <tr>
                                <th></th>
                                <th>ALERTA</th>
                                <th>ULTIMA GESTION REALIZADA</th>
                                <th>FECHA ULT. GESTION</th>
                                <th>ESTADO SERVICIO</th>
                                <th>ID SERVICIO</th>
                                <th>NAVE 1</th>
                                <th>VIAJE 1</th>
                                <th>NAVIERA</th>
                                <th>BOOKING</th>
                                <th>CONTROLADOR</th>
                                <th>N° CONTENEDOR</th>
                                <th>SERVICIO CON MODEM</th>
                                <th>MODEM</th>
                                <th>SENSOR</th>
                                <th>PAIS EXPORTADOR</th>
                                <th>EXPORTADOR</th>
                                <th>FREIGHT FORWARDER</th>
                                <th>PUERTO ORIGEN</th>
                                <th>PUERTO DESTINO</th>
                                <th>COMMODITY</th>
                                <th>SET POINT</th>
                                <th>TEMPERATURA</th>
                                <th>COMMODITY A PROGRAMAR</th>
                                <th>SEMANA</th>
                                <th>ETA NAVE</th>
                                <th>INICIO STACKING</th>
                                <th>TERMINO STACKING</th>
                                <th>ETD</th>
                                <th>ETA POD</th>
                                <th>OBSERVACIONES</th>
                                <th>FECHA DE REGISTRO</th>
                                <th>SERVICE PROVIDER</th>
                                <th>PAIS DEPOSITO</th>
                                <th>DEPOSITO</th>
                                <th>CONTINENTE ORIGEN</th>
                                <th>PAIS ORIGEN</th>
                                <th>CONTINENTE DESTINO</th>
                                <th>CONSIGNATARIO</th>
                                <th>FECHA INSTALACION CONTROLADOR</th>
                                <th>BATERIA CONTROLADOR</th>
                                <th>FECHA ASOC. BATERIA CONTROLADOR</th>
                                <th>TIPO LUGAR INSTALACION CONTROLADOR</th>
                                <th>LUGAR INSTALACION CONTROLADOR</th>
                                <th>TECNICO INSTALADOR CONTROLADOR</th>
                                <th>FECHA INSTALACION MODEM</th>
                                <th>BATERIA MODEM</th>
                                <th>FECHA ASOC. BATERIA MODEM</th>
                                <th>TIPO LUGAR INSTALACION MODEM</th>
                                <th>LUGAR INSTALACION MODEM</th>
                                <th>TECNICO INSTALADOR MODEM</th>
                                <th>PRECINTO SECURITY</th>
                                <th>CANDADO</th>
                                <th>SELLO P. 1 LEAK TEST</th>
                                <th>SELLO P. 2 LEAK TEST</th>
                                <th>SELLO SECURITY LEAK TEST</th>
                                <th>SELLO P. 1 SERVICIO</th>
                                <th>SELLO P. 2 SERVICIO</th>
                                <th>SELLO SECURITY SERVICIO</th>
                                <th>OBSERVACION SELLOS</th>
                                <th>FECHA POSTURA CORTINA</th>
                                <th>PAIS POSTURA CORTINA</th>
                                <th>TIPO LUGAR POSTURA CORTINA</th>
                                <th>LUGAR POSTURA CORTINA</th>
                                <th>CANTIDAD SACHET PURAFIL</th>
                                <th>INSTALADOR CORTINA</th>
                                <th>FECHA GASIFICACION</th>
                                <th>TIPO LUGAR GASIFICACION</th>
                                <th>LUGAR GASIFICACION</th>
                                <th>TECNICO GASIFICADOR</th>
                                <th>TIPO TRATAMIENTO CO2</th>
                                <th>CANTIDAD FILTROS</th>
                                <th>CANTIDAD CAL (KG)</th>
                                <th>NOTA LOGISTICA</th>
                                <th>VALIDACION TECNICA</th>
                                <th>VALIDACION PRE-ZARPE</th>
                                <th>HABILITADO</th>
                                <th>MOV. CONTENEDOR REPORTADO NAVIERA</th>
                                <th>VALIDACION SERVICIO</th>
                                <th>TIPO ENTREGA DEPOSITO</th>
                                <th>N° INTERNO CARGA DEPOSITO</th>
                            </tr>
                            <tr>
                                <th></th>
                                <th class="tr" key="alertaservicio">ALERTA</th>
                                <th class="tr" key="">ULTIMA GESTION REALIZADA</th>
                                <th class="tr" key="">FECHA ULT. GESTION</th>
                                <th class="tr" key="estadoservicio">ESTADO SERVICIO</th>
                                <th class="tr" key="IdServicio">ID SERVICIO</th>
                                <th class="tr" key="naveservicio">NAVE 1</th>
                                <th class="tr" key="viajereserva">VIAJE 1</th>
                                <th class="tr" key="navierasolicitud">NAVIERA</th>
                                <th>BOOKING</th>
                                <th class="tr" key="controladorservicio">CONTROLADOR</th>
                                <th class="tr" key="NumeroContenedor">N° CONTENEDOR</th>
                                <th class="tr" key="LlevaModem">SERVICIO CON MODEM</th>
                                <th class="tr" key="NumeroModem">MODEM</th>
                                <th>SENSOR</th>
                                <th>PAIS EXPORTADOR</th>
                                <th class="tr" key="exportadorreserva">EXPORTADOR</th>
                                <th>FREIGHT FORWARDER</th>
                                <th class="tr" key="PuertoOrigen">PUERTO ORIGEN</th>
                                <th class="tr" key="PuertoDestino">PUERTO DESTINO</th>
                                <th>COMMODITY</th>
                                <th>SET POINT</th>
                                <th class="tr" key="Temperatura">TEMPERATURA</th>
                                <th class="tr" key="CommodityProgramar">COMMODITY A PROGRAMAR</th>
                                <th class="tr" key="Semana">SEMANA</th>
                                <th class="tr" key="etareserva">ETA NAVE</th>
                                <th class="tr" key="iniciostackingreserva">INICIO STACKING</th>
                                <th class="tr" key="terminostackingreserva">TERMINO STACKING</th>
                                <th>ETD</th>
                                <th>ETA POD</th>
                                <th class="tr" key="Observaciones">OBSERVACIONES</th>
                                <th class="tr" key="fecharegistroreserva">FECHA DE REGISTRO</th>
                                <th>SERVICE PROVIDER</th>
                                <th class="tr" key="PaisDeposito">PAIS DEPOSITO</th>
                                <th class="tr" key="Deposito">DEPOSITO</th>
                                <th class="tr" key="ContienenteOrigen">CONTINENTE ORIGEN</th>
                                <th class="tr" key="PaisOrigen">PAIS ORIGEN</th>
                                <th class="tr" key="ContienenteDestino">CONTINENTE DESTINO</th>
                                <th class="tr" key="consignatarioreserva">CONSIGNATARIO</th>
                                <th class="tr" key="FechaControlador">FECHA INSTALACION CONTROLADOR</th>
                                <th class="tr" key="bateriacontroladorservicio">BATERIA CONTROLADOR</th>
                                <th class="tr" key="FechaAsociacionControlador">FECHA ASOC. BATERIA CONTROLADOR</th>
                                <th class="tr" key="TipoLugarControlador">TIPO LUGAR INSTALACION CONTROLADOR</th>
                                <th class="tr" key="LugarControlador">LUGAR INSTALACION CONTROLADOR</th>
                                <th class="tr" key="TecnicoControlador">TECNICO INSTALADOR CONTROLADOR</th>
                                <th class="tr" key="FechaModem">FECHA INSTALACION MODEM</th>
                                <th class="tr" key="bateriamodemservicio">BATERIA MODEM</th>
                                <th class="tr" key="FechaAsociacionModem">FECHA ASOC. BATERIA MODEM</th>
                                <th class="tr" key="TipoLugarModem">TIPO LUGAR INSTALACION MODEM</th>
                                <th class="tr" key="LugarModem">LUGAR INSTALACION MODEM</th>
                                <th class="tr" key="TecnicoModem">TECNICO INSTALADOR MODEM</th>
                                <th class="tr" key="PrecintoSecurity">PRECINTO SECURITY</th>
                                <th class="tr" key="Candado">CANDADO</th>
                                <th class="tr" key="SelloPerno1">SELLO P. 1 LEAK TEST</th>
                                <th class="tr" key="SelloPerno2">SELLO P. 2 LEAK TEST</th>
                                <th class="tr" key="SelloSecurityLeaktest">SELLO SECURITY LEAK TEST</th>
                                <th class="tr" key="SelloPanel1">SELLO P. 1 SERVICIO</th>
                                <th class="tr" key="SelloPanel2">SELLO P. 2 SERVICIO</th>
                                <th class="tr" key="SelloSecurityServicio">SELLO SECURITY SERVICIO</th>
                                <th class="tr" key="ObservacionSellos">OBSERVACION SELLOS</th>
                                <th class="tr" key="fechacortinaservicio">FECHA POSTURA CORTINA</th>
                                <th class="tr" key="Paiscortinaservicio">PAIS POSTURA CORTINA</th>
                                <th class="tr" key="tipolugarcortinaservicio">TIPO LUGAR POSTURA CORTINA</th>
                                <th class="tr" key="lugarcortinaservicio">LUGAR POSTURA CORTINA</th>
                                <th class="tr" key="cantidadpurafilservicio">CANTIDAD SACHET PURAFIL</th>
                                <th class="tr" key="TecnicoCortina">INSTALADOR CORTINA</th>
                                <th class="tr" key="fechagasificacionservicio">FECHA GASIFICACION</th>
                                <th class="tr" key="tipolugargasificacionservicio">TIPO LUGAR GASIFICACION</th>
                                <th class="tr" key="lugargasificacionservicio">LUGAR GASIFICACION</th>
                                <th class="tr" key="tecnicogasificacionservicio">TECNICO GASIFICADOR</th>
                                <th class="tr" key="tratamientoco2servicio">TIPO TRATAMIENTO CO2</th>
                                <th class="tr" key="cantidadfiltroservicio">CANTIDAD FILTROS</th>
                                <th class="tr" key="cantidadcalservicio">CANTIDAD CAL (KG)</th>
                                <th class="tr" key="NotaLogistica">NOTA LOGISTICA</th>
                                <th class="tr" key="ValidacionTecnica">VALIDACION TECNICA</th>
                                <th class="tr" key="ValidacionPrezarpe">VALIDACION PRE-ZARPE</th>
                                <th class="tr" key="Habilitado">HABILITADO</th>
                                <th class="tr" key="MovimientoContenedor">MOV. CONTENEDOR REPORTADO NAVIERA</th>
                                <th class="tr" key="ValidacionServicio">VALIDACION SERVICIO</th>
                                <th class="tr" key="TipoEntregaDeposito">TIPO ENTREGA DEPOSITO</th>
                                <th class="tr" key="NumeroCargaDeposito">N° INTERNO CARGA DEPOSITO</th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <th></th>
                                <th class="tr" key="alertaservicio">1. ALERTA</th>
                                <th class="tr" key="fechaultimagestinotabla">2. ULTIMA GESTION REALIZADA</th>
                                <th class="tr" key="fechaultimagestinotabla">3. FECHA ULT. GESTION</th>
                                <th class="tr" key="estadoservicio">4. ESTADO SERVICIO</th>
                                <th class="tr" key="IdServicio">5. ID SERVICIO</th>
                                <th class="tr" key="naveservicio">6. NAVE 1</th>
                                <th class="tr" key="viajereserva">7. VIAJE 1</th>
                                <th class="tr" key="navierasolicitud">8. NAVIERA</th>
                                <th class="tr" key="bookingtabla">9. BOOKING</th>
                                <th class="tr" key="controladorservicio">10. CONTROLADOR</th>
                                <th class="tr" key="NumeroContenedor">11. N° CONTENEDOR</th>
                                <th class="tr" key="LlevaModem">12. SERVICIO CON MODEM</th>
                                <th class="tr" key="NumeroModem">13. MODEM</th>
                                <th class="tr" key="sensortabla">14. SENSOR</th>
                                <th>15. PAIS EXPORTADOR</th>
                                <th class="tr" key="exportadorreserva">16. EXPORTADOR</th>
                                <th class="tr" key="freightforwardertabla">17. FREIGHT FORWARDER</th>
                                <th class="tr" key="PuertoOrigen">18. PUERTO ORIGEN</th>
                                <th class="tr" key="PuertoDestino">19. PUERTO DESTINO</th>
                                <th class="tr" key="commoditytabla">20. COMMODITY</th>
                                <th class="tr" key="setpointtabla">21. SET POINT</th>
                                <th class="tr" key="Temperatura">22. TEMPERATURA</th>
                                <th class="tr" key="CommodityProgramar">23. COMMODITY A PROGRAMAR</th>
                                <th class="tr" key="Semana">24. SEMANA</th>
                                <th class="tr" key="etareserva">25. ETA NAVE</th>
                                <th class="tr" key="iniciostackingreserva">26. INICIO STACKING</th>
                                <th class="tr" key="terminostackingreserva">27. TERMINO STACKING</th>
                                <th class="tr" key="etdtabla">28. ETD</th>
                                <th class="tr" key="etapodtabla">29. ETA POD</th>
                                <th class="tr" key="Observaciones">30. OBSERVACIONES</th>
                                <th class="tr" key="fecharegistroreserva">31. FECHA DE REGISTRO</th>
                                <th class="tr" key="serviceProvidertabla">32. SERVICE PROVIDER</th>
                                <th class="tr" key="PaisDeposito">33. PAIS DEPOSITO</th>
                                <th class="tr" key="Deposito">34. DEPOSITO</th>
                                <th class="tr" key="ContienenteOrigen">35. CONTINENTE ORIGEN</th>
                                <th class="tr" key="PaisOrigen">36. PAIS ORIGEN</th>
                                <th class="tr" key="ContienenteDestino">37. CONTINENTE DESTINO</th>
                                <th class="tr" key="consignatarioreserva">38. CONSIGNATARIO</th>
                                <th class="tr" key="FechaControlador">39. FECHA INSTALACION CONTROLADOR</th>
                                <th class="tr" key="bateriacontroladorservicio">40. BATERIA CONTROLADOR</th>
                                <th class="tr" key="FechaAsociacionControlador">41. FECHA ASOC. BATERIA CONTROLADOR</th>
                                <th class="tr" key="TipoLugarControlador">42. TIPO LUGAR INSTALACION CONTROLADOR</th>
                                <th class="tr" key="LugarControlador">43. LUGAR INSTALACION CONTROLADOR</th>
                                <th class="tr" key="TecnicoControlador">43. TECNICO INSTALADOR CONTROLADOR</th>
                                <th class="tr" key="FechaModem">45. FECHA INSTALACION MODEM</th>
                                <th class="tr" key="bateriamodemservicio">46. BATERIA MODEM</th>
                                <th class="tr" key="FechaAsociacionModem">47. FECHA ASOC. BATERIA MODEM</th>
                                <th class="tr" key="TipoLugarModem">48. TIPO LUGAR INSTALACION MODEM</th>
                                <th class="tr" key="LugarModem">49. LUGAR INSTALACION MODEM</th>
                                <th class="tr" key="TecnicoModem">50. TECNICO INSTALADOR MODEM</th>
                                <th class="tr" key="PrecintoSecurity">51. PRECINTO SECURITY</th>
                                <th class="tr" key="Candado">52. CANDADO</th>
                                <th class="tr" key="SelloPerno1">53. SELLO P. 1 LEAK TEST</th>
                                <th class="tr" key="SelloPerno2">54. SELLO P. 2 LEAK TEST</th>
                                <th class="tr" key="SelloSecurityLeaktest">55. SELLO SECURITY LEAK TEST</th>
                                <th class="tr" key="SelloPanel1">56. SELLO P. 1 SERVICIO</th>
                                <th class="tr" key="SelloPanel2">57. SELLO P. 2 SERVICIO</th>
                                <th class="tr" key="SelloSecurityServicio">58. SELLO SECURITY SERVICIO</th>
                                <th class="tr" key="ObservacionSellos">59. OBSERVACION SELLOS</th>
                                <th class="tr" key="fechacortinaservicio">60. FECHA POSTURA CORTINA</th>
                                <th class="tr" key="Paiscortinaservicio">61. PAIS POSTURA CORTINA</th>
                                <th class="tr" key="tipolugarcortinaservicio">62. TIPO LUGAR POSTURA CORTINA</th>
                                <th class="tr" key="lugarcortinaservicio">63. LUGAR POSTURA CORTINA</th>
                                <th class="tr" key="cantidadpurafilservicio">64. CANTIDAD SACHET PURAFIL</th>
                                <th class="tr" key="TecnicoCortina">65. INSTALADOR CORTINA</th>
                                <th class="tr" key="fechagasificacionservicio">66. FECHA GASIFICACION</th>
                                <th class="tr" key="tipolugargasificacionservicio">67. TIPO LUGAR GASIFICACION</th>
                                <th class="tr" key="lugargasificacionservicio">68. LUGAR GASIFICACION</th>
                                <th class="tr" key="tecnicogasificacionservicio">69. TECNICO GASIFICADOR</th>
                                <th class="tr" key="tratamientoco2servicio">70. TIPO TRATAMIENTO CO2</th>
                                <th class="tr" key="cantidadfiltroservicio">71. CANTIDAD FILTROS</th>
                                <th class="tr" key="cantidadcalservicio">72. CANTIDAD CAL (KG)</th>
                                <th class="tr" key="NotaLogistica">73. NOTA LOGISTICA</th>
                                <th class="tr" key="ValidacionTecnica">74. VALIDACION TECNICA</th>
                                <th class="tr" key="ValidacionPrezarpe">75. VALIDACION PRE-ZARPE</th>
                                <th class="tr" key="Habilitado">76. HABILITADO</th>
                                <th class="tr" key="MovimientoContenedor">77. MOV. CONTENEDOR REPORTADO NAVIERA</th>
                                <th class="tr" key="ValidacionServicio">78. VALIDACION SERVICIO</th>
                                <th class="tr" key="TipoEntregaDepositotabla">79. TIPO ENTREGA DEPOSITO</th>
                                <th class="tr" key="NumeroCargaDepositotabla">80. N° INTERNO CARGA DEPOSITO</th>
                            </tr>
                            <tr>
                                <th colspan="1" class="tr2" key="estadostablaservicio"></th>
                                <th colspan="4" class="tr" key="EstadosAgrupacion">ESTADOS</th>
                                <th colspan="55" class="tr" key="datosdelareservahistorico">DATOS DEL SERVICIO</th>
                                <th colspan="6" class="tr" key="DATOSCORTINA">INSTALACION CORTINA</th>
                                <th colspan="4" class="tr" key="GASIFICACION">GASIFICACION</th>
                                <th colspan="3" class="tr" key="tratamientoservicio">TRATAMIENTO CO2</th>
                                <th colspan="1" class="tr" key="LOGISTICA">LOGISTICA</th>
                                <th colspan="5" class="tr" key="Validaciones">VALIDACIONES</th>
                                <th colspan="2" class="tr" key="InternoDeposito">INTERNO DEPOSITO</th>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
            <div class="divider"></div>
            <div class="row" id="botonesacciones">
                <div class="col-lg-11 col-lg-offset-1">
                    <button type="button" class="btn btn-primary tr btn-sm" key="AgregarReserva" id="AgregarReserva">Agregar Reserva</button>
                    <button class="btn btn-primary tr btn-success btn-sm" key="EditarReserva" id="EditarReserva">Editar Servicios por Booking</button>
                    @*<button class="btn btn-primary tr btn-info btn-sm" key="EditarReservaNave" id="EditarReservaNave">Editar Servicios por Nave</button>*@
                    <button class="btn btn-primary tr btn-info btn-sm" key="EditarReserva" id="EditarServicioViaje">Editar Viaje de Servicios</button>
                    <button class="btn btn-primary tr btn-success btn-sm" key="AgregarNuevoServicio" data-toggle="modal" data-target="#myModal3" id="AgregarNuevoServicio">Agregar Servicios</button>
                    <button class="btn btn-primary tr btn-warning btn-sm" key="CancelarServicio" id="CancelarServicio">Cancelar/Precancelar Servicios</button>
                </div>
                <div class="col-lg-11 col-lg-offset-1">
                    <button class="btn btn-primary tr btn-success btn-sm" key="DescancelarServicio" id="DescancelarServicio">Descancelar Servicios</button>
                    <button class="btn btn-primary tr btn-danger btn-sm" key="EliminarServicio" id="EliminarServicio">Eliminar Servicios</button>
                    <button class="btn btn-primary tr btn-primary btn-sm" key="GenerarServiceReport" id="GenerarServiceReport" onclick="ExportarServiceReport()">Generar Service Report</button>
                    <button class="btn btn-primary tr btn-success btn-sm" key="ValidarServicios" id="ValidarServicios">Validación Técnica</button>
                    <button class="btn btn-primary tr btn-success btn-sm" key="ValidarServiciosAdmin" id="ValidarServiciosAdmin" hidden="hidden" style="display: none;">Validación Técnica Admin</button>
                    <button class="btn btn-primary tr btn-info btn-sm" key="HistoricoControladoresBoton" id="HistoricoControladoresBoton">Historico Servicio</button>

                </div>
                <div class="col-lg-11 col-lg-offset-1">
                    <button class="btn btn-primary tr btn-primary btn-sm" key="GraficoUnitario" id="GraficoUnitario">Ver Grafico</button>
                    <button class="btn btn-primary tr btn-primary btn-sm" key="HistoricoValidacion" id="HistoricoValidacion">Historico Validación Servicio</button>
                    <button class="btn btn-primary tr btn-info btn-sm" key="ValidacionServicioBoton" id="ValidacionServicio">Validación Servicio</button>
                    <button class="btn btn-primary tr btn-success btn-sm" key="GenerarGraficos" id="GenerarGraficos">Generar Graficos Masivos</button>
                    @*<button class="btn btn-primary tr btn-success btn-sm" key="" id="CambiosPendientesEDI">Cambios Pendientes EDI</button>*@
                    <button class="btn btn-primary tr btn-primary btn-sm" key="asociarbateria" id="AsociarBateria">Asociar Bateria a Equipo</button>
                </div>
                <div class="col-lg-11 col-lg-offset-1">
                    <button class="btn btn-primary tr btn-info btn-sm" key="ValidacionPrezarpe" id="BtnValidacionPrezarpe">Validación Prezarpe</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!--Modal para Asociar Bateria-->
<div class="modal fade" id="myModalAsociarBateria" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="margin-left:80px; margin-right:10px;">
    <div class="modal-dialog" role="document" style="width:100%">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title tr" id="myModalLabel" key="tituloloasociarbateria"> Asociar Bateria a un equipo</h4>
            </div>
            <div class="modal-body">
                <div class="row x_panel">
                    <div class="x_panel">
                        <div class="col-lg-12 col-md-12 col-sm-12 form-group">
                            <div class="col-lg-3 col-md-3 col-sm-3">
                                <label id="lb_id" class="control-label tr" key="bateria">Batería (*)</label>
                            </div>
                            <div class="col-lg-3 col-md-3 col-sm-12" style="text-align:center">
                                <input type="text" class="form-control" autocomplete="off" name="BateriaAsociada" id="BateriaAsociada" />
                            </div>
                            <div class="col-lg-3 col-md-3 col-sm-3">
                                <button class="btn btn-primary tr btn-primary btn-sm" key="ValidarBateria" id="ValidarBateria">Validar</button>
                            </div>
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 form-group">
                            <div class="col-lg-3 col-md-3 col-sm-3">

                                <label id="lb_id" class="control-label tr" key="numeroESN">Número ESN  (*)</label>
                            </div>
                            <div class="col-md-3 col-sm-3 col-xs-3">
                                <input type="text" onkeyup="this.value = this.value.toUpperCase();" class="form-control" autocomplete="off" name="ESN" id="ESN" />
                            </div>

                            <div class="col-lg-1 col-md-1 col-sm-1">
                                <label id="lb_id" class="control-label tr" key="tipoESN">Tipo Equipo (*)</label>
                            </div>
                            <div class="col-md-3 col-sm-3 col-xs-3">
                                <select class="selectpicker form-control" id="tipo_esn" data-live-search="true">
                                    <option value="0" selected>Seleccione Tipo ESN</option>
                                    <option value="1">CONTROLADOR</option>
                                    <option value="2">MODEM</option>
                                </select>
                            </div>
                            <div class="col-lg-1 col-md-1 col-sm-1">
                            </div>



                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 form-group">
                            <div class="col-lg-3 col-md-3 col-sm-3">
                                <label id="lb_id" class="control-label tr" key="fechaAsociacion">Fecha Asociación (*)</label>
                            </div>
                            <div class="col-md-3 col-sm-3 col-xs-3">
                                <input type="text" id="FechaAsociacion" class="form-control" autocomplete="off">
                            </div>
                            <div class="col-lg-1 col-md-1 col-sm-1">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer" id="div_botones_salida">
                <button type="button" class="btn btn-success tr" id="Guardar_asociacion" key="botonguardarlogistica">Guardar</button>
                <button type="button" class="btn btn-danger tr" data-dismiss="modal" key="botoncancelarlogistica">Cancelar</button>
            </div>
        </div>
    </div>
</div>
<!--Modal para Asociar Bateria-->
<!--Modal Editar Reserva-->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="margin-left:80px; margin-right:10px;">
    <div class="modal-dialog" role="document" style="width:100%">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h2 class="modal-title tr" id="myModalLabel" key="tituloposturacortinaagregar">Editar Reserva</h2>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                        <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                            <label class="control-label tr" key="ColumnaEditar">Columna a Editar (*)</label>
                            <div>
                                <select class="selectpicker form-control" data-live-search="true" name="columnaseditar" id="columnaseditar">
                                    <option selected value="0">SELECT COLUMN</option>
                                    <option value="1">NAVIERA</option>
                                    @*<option value="2">NAVE</option>*@
                                    <option value="3">EXPORTADOR</option>
                                    <option value="4">FREIGHT FORWARDER</option>
                                    <option value="5">CONSIGNATARIO</option>
                                    <option value="6">COMMODITY</option>
                                    @*<option value="7">SET POINT</option>
                                        <option value="8">INICIO STACKING</option>
                                        <option value="9">TERMINO STACKING</option>
                                        <option value="10">VIAJE</option>
                                        <option value="11">PUERTO EMBARQUE</option>
                                        <option value="12">PUERTO DESTINO</option>
                                        <option value="13">ETD</option>
                                        <option value="14">ETA NAVE</option>
                                        <option value="15">ETA PUERTO DESTINO</option>*@
                                    <option value="16">TEMPERATURA</option>
                                    <option value="17">SERVICE PROVIDER</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    </div>
                </div>
                <div class="divider"></div>
                <div class="row" id="ColumnaNaviera" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Naviera (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" id="Naviera"></select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaNave" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Nave (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="Nave" id="Nave"></select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaExportador" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Exportador recomendado por EDI</label>
                        <div>
                            <input type="text" id="ExportadorEdi" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Pais (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="PaisExportador" id="PaisExportador"></select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Exportador (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="Exportador" id="Exportador"></select>
                        </div>
                    </div>
                </div>
                <div class="row" id="ColumnaFreightForwarder" hidden="hidden">
                    <div class="col-lg-6 col-md-6 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Freight Forwarder recomendado por EDI</label>
                        <div>
                            <input type="text" id="FFWEdi" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12" style="text-align:center">
                        <label class="control-label tr">FreightForwarder (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="FreightForwarder" id="FreightForwarder"></select>
                        </div>
                    </div>
                </div>
                <div class="row" id="ColumnaConsignatario" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Consignatario (*)</label>
                        <div>
                            <input type="text" id="Consignatario" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaCommodity" hidden="hidden">
                    <div class="col-lg-6 col-md-6 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Commodity (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="Commodity" id="Commodity"></select>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Setpoint (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="Setpoint" id="Setpoint"></select>
                        </div>
                    </div>
                </div>
                <div class="row" id="ColumnaSetPoint" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Setpoint (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="Setpoint1" id="Setpoint1"></select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaInicioStacking" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Inicio Stacking (*)</label>
                        <div>
                            <input type="text" id="InicioStacking" name="InicioStacking" class="form-control" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaTerminoStacking" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Termino Stacking (*)</label>
                        <div>
                            <input type="text" id="TerminoStacking" name="TerminoStacking" class="form-control" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaViaje" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Viaje (*)</label>
                        <div>
                            <input type="text" id="Viaje" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaPuertoOrigen" hidden="hidden">
                    <div class="col-lg-6 col-md-6 col-sm-12" style="text-align:center">
                        <label class="control-label tr">País (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="PaisPuertoOrigen" id="PaisPuertoOrigen"></select>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Puerto Embarque (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="PuertoOrigen" id="PuertoOrigen"></select>
                        </div>
                    </div>
                </div>
                <div class="row" id="ColumnaPuertoDestino" hidden="hidden">
                    <div class="col-lg-6 col-md-6 col-sm-12" style="text-align:center">
                        <label class="control-label tr">País (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="PaisPuertoDestino" id="PaisPuertoDestino"></select>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Puerto Destino (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="PuertoDestino" id="PuertoDestino"></select>
                        </div>
                    </div>
                </div>
                <div class="row" id="ColumnaEtd" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">ETD (*)</label>
                        <div>
                            <input type="text" id="Etd" name="Etd" class="form-control" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaEtaNave" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Eta Nave (*)</label>
                        <div>
                            <input type="text" id="EtaNave" name="EtaNave" class="form-control" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaEtaPuerto" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Eta Puerto (*)</label>
                        <div>
                            <input type="text" id="EtaPuerto" name="EtaPuerto" class="form-control" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaTemperatura" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Temperatura (*)</label>
                        <div>
                            <input type="text" id="Temperatura" name="Temperatura" class="form-control" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaServiceProvider" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Service Provider (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" id="ServiceProvider"></select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
            </div>
            <div class="modal-footer" style="text-align:center">
                <button type="button" class="btn btn-success btn-lg" id="EditarDatos">Guardar</button>
            </div>
        </div>
    </div>
</div>
<!--Modal Editar Reserva-->
<!--Modal Editar Reserva Nave-->
<div class="modal fade" id="myModal5" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="margin-left:80px; margin-right:10px;">
    <div class="modal-dialog" role="document" style="width:100%">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h2 class="modal-title tr" id="myModalLabel" key="tituloposturacortinaagregar">Editar Reserva</h2>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                        <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                            <label class="control-label tr">Columna a Editar (*)</label>
                            <div>
                                <select class="selectpicker form-control" data-live-search="true" name="columnaseditarNave" id="columnaseditarNave">
                                    <option selected value="0">SELECT COLUMN</option>
                                    <option value="1">VIAJE</option>
                                    <option value="2">ETA NAVE</option>
                                    <option value="3">ETD</option>
                                    <option value="4">INICIO STACKING</option>
                                    <option value="5">TERMINO STACKING</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    </div>
                </div>
                <div class="divider"></div>
                <div class="row" id="ColumnaInicioStackingNave" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Inicio Stacking (*)</label>
                        <div>
                            <input type="text" id="InicioStackingNave" name="InicioStackingNave" class="form-control" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaTerminoStackingNave" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Termino Stacking (*)</label>
                        <div>
                            <input type="text" id="TerminoStackingNave" name="TerminoStackingNave" class="form-control" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaViajeNave" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Viaje (*)</label>
                        <div>
                            <input type="text" id="ViajeNave" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaEtdNave" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">ETD (*)</label>
                        <div>
                            <input type="text" id="EtdNave" name="EtdEtdNave" class="form-control" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaEtaNave1" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Eta Nave (*)</label>
                        <div>
                            <input type="text" id="EtaNave1" name="EtaNave1" class="form-control" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
            </div>
            <div class="modal-footer" style="text-align:center">
                <button type="button" class="btn btn-success btn-lg" id="EditarDatosNave">Guardar</button>
            </div>
        </div>
    </div>
</div>
<!--Modal Editar Reserva Nave-->
<!--Modal Editar Servicios Viaje-->
<div class="modal fade" id="myModal8" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="margin-left:80px; margin-right:10px;">
    <div class="modal-dialog" role="document" style="width:100%">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h2 class="modal-title tr" id="myModalLabel" key="tituloposturacortinaagregar">Editar Viaje de Servicios</h2>
            </div>
            <div class="modal-body">
                <form class="form-horizontal">
                    <div class="form-group">
                        <label for="Puerto" class="alerta col-sm-2 control-label" key="nombreviaje">Viaje (*)</label>
                        <div class="col-sm-10">
                            <select class="selectpicker form-control" data-live-search="true" id="NumViajes"></select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="PuertoOrigen" class="alerta col-sm-2 control-label" key="puertoorigen">Puerto de Origen (*)</label>
                        <div class="col-sm-10">
                            <select class="selectpicker form-control" data-live-search="true" id="PuertoOrigenViajes" disabled="disabled"></select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="PuertoDestino" class="alerta col-sm-2 control-label" key="puertodestino">Puerto de Destino (*)</label>
                        <div class="col-sm-10">
                            <select class="selectpicker form-control" data-live-search="true" id="PuertoDestinoViajes" disabled="disabled"></select>
                        </div>
                    </div>
                </form>
                <br />
            </div>
            <div class="modal-footer" style="text-align:center">
                <button type="button" class="btn btn-success btn-lg" id="EditarDatosViaje">Guardar</button>
            </div>
        </div>
    </div>
</div>
<!--Modal Editar Servicios Viaje-->
<!--Modal Editar Celdas-->
<div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="margin-left:100px; margin-right:10px; width:85%">
    <div class="modal-dialog" role="document" style="width:100%">
        <div class="modal-content">
            <div class="modal-header titulo">
                <button type="button" class="close closeCelda" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h2 class="modal-title tr" id="titulocelda"></h2>
            </div>
            <div class="modal-body">
                <div class="row" id="ColumnaNave1" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Nave 1 (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarNave1" id="EditarNave1"></select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaNave2" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Nave 2 (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarNave2" id="EditarNave2"></select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaNave3" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Nave 3 (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarNave3" id="EditarNave3"></select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaGestionServicio" hidden="hidden">
                    <div class="col-lg-12 col-md-12 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Gestión del Servicio </label>
                        <div>
                            <textarea class="form-control" rows="5" id="EditarGestionServicio" style="resize:none;"></textarea>
                        </div>
                    </div>
                </div>
                <div class="row" id="ColumnaViajeEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Viaje (*)</label>
                        <div>
                            <input type="text" id="EditarViaje" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaViajeEditar2" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Viaje (*)</label>
                        <div>
                            <input type="text" id="EditarViaje2" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaViajeEditar3" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Viaje (*)</label>
                        <div>
                            <input type="text" id="EditarViaje3" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaEtaNaveEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Eta Nave (*)</label>
                        <div>
                            <input type="text" id="EditarEtaNave" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaIniStackingEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Fecha Inicio Stacking (*)</label>
                        <div>
                            <input type="text" id="EditarIniStacking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaFinStackingEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Fecha Termino Stacking (*)</label>
                        <div>
                            <input type="text" id="EditarFinStacking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaFreightforwarderEditar" hidden="hidden">
                    <div class="col-lg-6 col-md-6 col-sm-12" style="text-align:center">
                        <label class="control-label tr">FFW recomendado por EDI</label>
                        <div>
                            <input type="text" id="FreightforwarderEdi" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Freight Forwarder (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarFreightforwarder" id="EditarFreightforwarder"></select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaConsignatarioEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Consignatario (*)</label>
                        <div>
                            <input type="text" id="EditarConsignatario" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaEtdEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">ETD (*)</label>
                        <div>
                            <input type="text" id="EditarEtd" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaEtaPuertoEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">ETA POD (*)</label>
                        <div>
                            <input type="text" id="EditarEtaPuerto" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaPuertoOrigenEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Puerto de Embarque (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarPuertoOrigen" id="EditarPuertoOrigen"></select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaPuertoDestinoEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Puerto de Destino (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarPuertoDestino" id="EditarPuertoDestino"></select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaBookingEditar" hidden="hidden">
                    <form class="form-inline">
                        <div class="form-group col-lg-4 col-md-4 col-sm-4">
                            <label class="control-label tr">Booking (*)</label>
                            <input type="text" id="EditarBooking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-6">
                            <button type="button" class="btn btn-success" id="ValidarBookingEditar">Validar</button>
                        </div>
                    </form>
                    <div class="divider"></div>
                    <div id="DatosReserva" hidden="hidden">
                        <form class="form-horizontal">
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="NavieraBooking" class="control-label">Naviera</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="NavieraBooking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly>
                                </div>
                                <div class="col-md-2">
                                    <label for="PuertoOrigenBooking" class="control-label">Puerto Embarque</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="PuertoOrigenBooking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="NaveBooking" class="control-label">Nave</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="NaveBooking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly>
                                </div>
                                <div class="col-md-2">
                                    <label for="PuertoDestinoBooking" class="control-label tr" key="paispuertoorigen">Puerto Destino</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="PuertoDestinoBooking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="ExportadorBooking" class="control-label">Exportador</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="ExportadorBooking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly>
                                </div>
                                <div class="col-md-2">
                                    <label for="EtanaveBooking" class="control-label tr" key="paispuertoorigen">Eta Nave</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="EtanaveBooking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="InistackingBooking" class="control-label">Inicio Stacking</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="InistackingBooking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly>
                                </div>
                                <div class="col-md-2">
                                    <label for="FinstackingBooking" class="control-label">Termino Stacking</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="FinstackingBooking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="FreightforwarderBooking" class="control-label">Freightforwarder</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="FreightforwarderBooking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly>
                                </div>
                                <div class="col-md-2">
                                    <label for="ViajeBooking" class="control-label">Viaje</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="ViajeBooking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="ConsiganatarioBooking" class="control-label">Consignatario</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="ConsiganatarioBooking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly>
                                </div>
                                <div class="col-md-2">
                                    <label for="EtdnaveBooking" class="control-label">Etd Nave</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="EtdnaveBooking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="CommodityBooking" class="control-label">Commodity</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="CommodityBooking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly>
                                </div>
                                <div class="col-md-2">
                                    <label for="SetpointBooking" class="control-label">Set Point</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="SetpointBooking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="TemperaturaBooking" class="control-label">Temperatura</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="TemperaturaBooking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly>
                                </div>
                                <div class="col-md-2">
                                    <label for="EtapuertoBooking" class="control-label">Eta Puerto</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="EtapuertoBooking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div id="DatosReservaEditar" hidden="hidden">
                        <form class="form-horizontal">
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="NavieraBookingEditar" class="control-label">Naviera (*)</label>
                                </div>
                                <div class="col-md-3">
                                    <select class="selectpicker form-control" data-live-search="true" id="NavieraBookingEditar">
                                        <option value="0" selected class="tr" key="selectnaviera">Seleccione Naviera</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <label for="PuertoOrigenBookingEditar" class="control-label">Puerto Embarque (*)</label>
                                </div>
                                <div class="col-md-3">
                                    <select class="selectpicker form-control" data-live-search="true" id="PuertoOrigenBookingEditar">
                                        <option value="0" selected class="tr" key="selectpuerto">Seleccione Puerto</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="NaveBookingEditar" class="control-label">Nave (*)</label>
                                </div>
                                <div class="col-md-3">
                                    <select class="selectpicker form-control" data-live-search="true" id="NaveBookingEditar">
                                        <option value="0" selected class="tr" key="selectnave">Seleccione Nave</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <label for="PuertoDestinoBookingEditar" class="control-label tr" key="paispuertoorigen">Puerto Destino (*)</label>
                                </div>
                                <div class="col-md-3">
                                    <select class="selectpicker form-control" data-live-search="true" id="PuertoDestinoBookingEditar">
                                        <option value="0" selected class="tr" key="selectpuerto">Seleccione Puerto</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="ExportadorBookingEditar" class="control-label">Exportador (*)</label>
                                </div>
                                <div class="col-md-3">
                                    <select class="selectpicker form-control" data-live-search="true" id="ExportadorBookingEditar">
                                        <option value="0" selected class="tr" key="selectexportador">Seleccione Exportador</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <label for="ViajeBookingEditar" class="control-label">Viaje (*)</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="ViajeBookingEditar" class="form-control" onkeyup="this.value = this.value.toUpperCase();" autocomplete="off">
                                </div>

                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="CommodityBookingEditar" class="control-label">Commodity (*)</label>
                                </div>
                                <div class="col-md-3">
                                    <select class="selectpicker form-control" data-live-search="true" id="CommodityBookingEditar">
                                        <option value="0" selected class="tr" key="selectcommodity">Seleccione Commodity</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <label for="EtanaveBookingEditar" class="control-label tr" key="paispuertoorigen">Eta Nave</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="EtanaveBookingEditar" class="form-control" onkeyup="this.value = this.value.toUpperCase();" autocomplete="off">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="SetpointBookingEditar" class="control-label">Set Point (*)</label>
                                </div>
                                <div class="col-md-3">
                                    <select class="selectpicker form-control" data-live-search="true" id="SetpointBookingEditar">
                                        <option value="0" selected class="tr" key="selectsetpoint">Seleccione Set Point</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <label for="InistackingBookingEditar" class="control-label">Inicio Stacking</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="InistackingBookingEditar" class="form-control" onkeyup="this.value = this.value.toUpperCase();" autocomplete="off">
                                </div>

                            </div>

                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="ConsiganatarioBookingEditar" class="control-label">Consignatario</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="ConsiganatarioBookingEditar" class="form-control" onkeyup="this.value = this.value.toUpperCase();">
                                </div>
                                <div class="col-md-2">
                                    <label for="FinstackingBookingEditar" class="control-label">Termino Stacking</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="FinstackingBookingEditar" class="form-control" onkeyup="this.value = this.value.toUpperCase();" autocomplete="off">
                                </div>

                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="FreightforwarderBookingEditar" class="control-label">Freightforwarder</label>
                                </div>
                                <div class="col-md-3">
                                    <select class="selectpicker form-control" data-live-search="true" id="FreightforwarderBookingEditar">
                                        <option value="0" selected class="tr" key="selectfreightforwarder">Seleccione Freight forwarder</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <label for="EtdnaveBookingEditar" class="control-label">Etd Nave (*)</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="EtdnaveBookingEditar" class="form-control" onkeyup="this.value = this.value.toUpperCase();" autocomplete="off">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="TemperaturaBookingEditar" class="control-label">Temperatura (*)</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="number" step="0.1" id="TemperaturaBookingEditar" class="form-control" autocomplete="off">
                                </div>
                                <div class="col-md-2">
                                    <label for="EtapuertoBookingEditar" class="control-label">Eta Puerto</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="EtapuertoBookingEditar" class="form-control" onkeyup="this.value = this.value.toUpperCase();" autocomplete="off">
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="row" id="ColumnaCommodityEditar" hidden="hidden">
                    <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:center">
                        <label class="control-label tr">Commodity (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarCommodity" id="EditarCommodity"></select>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:center">
                        <label class="control-label tr">Setpoint (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarSetpoint" id="EditarSetpoint"></select>
                        </div>
                    </div>
                </div>
                <div class="row" id="ColumnaTemperaturaEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Temperatura (*)</label>
                        <div>
                            <input type="number" step="0.1" id="EditarTemperatura" class="form-control" autocomplete="off">
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div id="ColumnaContenedorEditar" hidden="hidden">
                    <div class="row" id="contenedordatos">
                        <div class="col-lg-6" style="text-align:center">
                            <label class="checkbox-inline">
                                <input type="checkbox" id="quitar">Quitar contenedor
                            </label>
                        </div>
                        <div class="col-lg-6" style="text-align:center">
                            <label class="checkbox-inline">
                                <input type="checkbox" id="cambiar"> Agregar / Cambiar contenedor
                            </label>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <div id="cambiarcontenedor" hidden="hidden">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                                <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                                    <label class="control-label tr">N° Contenedor (*)</label>
                                    <div>
                                        <select class="selectpicker form-control" data-live-search="true" name="EditarContenedor" id="EditarContenedor"></select>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                            </div>
                        </div>
                        <div class="divider"></div>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="col-lg-3 col-md-3 col-sm-12" style="text-align:center">
                                    <label class="control-label tr">Sello Panel 1</label>
                                    <div>
                                        <input type="text" id="EditarSelloperno1" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12" style="text-align:center">
                                    <label class="control-label tr">Sello Panel 2</label>
                                    <div>
                                        <input type="text" id="EditarSelloperno2" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12" style="text-align:center">
                                    <label class="control-label tr">Sello Security</label>
                                    <div>
                                        <input type="text" id="EditarTapa" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12" style="text-align:center">
                                    <label class="control-label tr">Deposito</label>
                                    <div>
                                        <input type="text" id="EditarDeposito" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                                    </div>
                                </div>
                                @*<div class="col-lg-3 col-md-3 col-sm-12" style="text-align:center; display:none;">
                                        <label class="control-label tr">Deposito</label>
                                        <div>
                                            <input type="text" id="EditarPais" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                                        </div>
                                    </div>*@
                            </div>
                            <div class="col-lg-12">
                                <div class="col-lg-3 col-md-3 col-sm-12" style="text-align:center">
                                    <label class="control-label tr">Controlador</label>
                                    <div>
                                        <input type="text" id="EditarControladorLeak" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12" style="text-align:center">
                                    <label class="control-label tr">Bateria Controlador</label>
                                    <div>
                                        <input type="text" id="EditarBateriaLeak" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12" style="text-align:center">
                                    <label class="control-label tr">Modem</label>
                                    <div>
                                        <input type="text" id="EditarModemLeak" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12" style="text-align:center">
                                    <label class="control-label tr">Bateria Modem</label>
                                    <div>
                                        <input type="text" id="EditarBateriaModemLeak" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12">
                                <div class="col-lg-3 col-md-3 col-sm-12" style="text-align:center">
                                    <label class="control-label tr">Fecha Inst. Bateria</label>
                                    <div>
                                        <input type="text" id="EditarFechaControladorLeak" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12" style="text-align:center">
                                    <label class="control-label tr">Tecnico Instalador</label>
                                    <div>
                                        <input type="text" id="EditarTecnicoLeak" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12" style="text-align:center">
                                    <label class="control-label tr">Tipo Lugar Instalacion</label>
                                    <div>
                                        <input type="text" id="EditarTipoLugarLeak" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12" style="text-align:center">
                                    <label class="control-label tr">Lugar Instalacion</label>
                                    <div>
                                        <input type="text" id="EditarLugarLeak" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="quitarcontenedor" hidden="hidden">
                        <input type="text" id="IdServcioEditarContendor" hidden="hidden" />
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:center">
                                <div>
                                    <input type="text" id="EditarContenedorInput" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:center;">
                                <div>
                                    <button type="button" class="btn btn-danger" id="QuitarContenedor">Quitar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" id="ColumnaLlevaModemEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">SERVICIO CON MODEM</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarLlevaModem" id="EditarLlevaModem">
                                <option value="-1">SELECCIONE ...</option>
                                <option value=1>SI</option>
                                <option value=0>NO</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div id="ColumnaControladorEditar" hidden="hidden">
                    <div class="row" id="controladordatos">
                        <div class="col-lg-6" style="text-align:center">
                            <label class="checkbox-inline">
                                <input type="checkbox" id="quitarControladorCheck">Quitar Controlador
                            </label>
                        </div>
                        <div class="col-lg-6" style="text-align:center">
                            <label class="checkbox-inline">
                                <input type="checkbox" id="cambiarControladorCheck"> Agregar / Cambiar Controlador
                            </label>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <div id="cambiarControladorDiv" hidden="hidden">
                        <div>
                            <form class="form-inline">
                                <div class="form-group col-lg-6 col-md-6 col-sm-6">
                                    <input type="email" class="form-control" id="EditarControlador" placeholder="Controlador (ESN)" onkeyup="this.value = this.value.toUpperCase();">
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <button type="button" class="btn btn-success" id="ValidarControlador">Validar</button>
                                </div>
                            </form>
                        </div>
                        <div class="divider"></div>
                        <div id="LugarOrigen" hidden="hidden">
                            <h2>Lugar cambio de Controlador Antiguo</h2>
                            <div class="divider"></div>
                            <form class="form-inline">
                                <div class="form-group col-lg-6 col-md-6 col-sm-6">
                                    <label class="sr-only" for="TipoNodoControlador">Password</label>
                                    <select class="selectpicker form-control" data-live-search="true" name="TipoNodoControlador" id="TipoNodoControlador"></select>
                                </div>
                                <div class="form-group col-lg-6 col-md-6 col-sm-6">
                                    <label class="sr-only" for="NodoControlador">Password</label>
                                    <select class="selectpicker form-control" data-live-search="true" name="NodoControlador" id="NodoControlador"></select>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div id="quitarControladorDiv" hidden="hidden">
                        <input type="text" id="IdServcioEditarControlador" hidden="hidden" />
                        <input type="text" id="IdEstadoServicioControlador" hidden="hidden" />
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:center">
                                <div>
                                    <input type="text" id="EditarControladorInput" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:center;">
                                <div>
                                    <button type="button" class="btn btn-danger" id="QuitarControladorBtn">Quitar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="ColumnaModemEditar" hidden="hidden">
                    <div class="row" id="modemdatos">
                        <div class="col-lg-6" style="text-align:center">
                            <label class="checkbox-inline">
                                <input type="checkbox" id="quitarModemCheck">Quitar Modem
                            </label>
                        </div>
                        <div class="col-lg-6" style="text-align:center">
                            <label class="checkbox-inline">
                                <input type="checkbox" id="cambiarModemCheck"> Agregar / Cambiar Modem
                            </label>
                        </div>
                    </div>
                    <div id="cambiarModemDiv">
                        <form class="form-inline">
                            <div class="form-group col-lg-6 col-md-6 col-sm-6">
                                <input type="email" class="form-control" id="EditarModem" placeholder="Modem (ESN)" onkeyup="this.value = this.value.toUpperCase();">
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <button type="button" class="btn btn-success" id="ValidarModem">Validar</button>
                            </div>
                        </form>
                    </div>
                    <div id="quitarModemDiv" hidden="hidden">
                        <input type="text" id="IdServcioEditarModem" hidden="hidden" />
                        <input type="text" id="IdEstadoServicioModem" hidden="hidden" />
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:center">
                                <div>
                                    <input type="text" id="EditarModemInput" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:center;">
                                <div>
                                    <button type="button" class="btn btn-danger" id="QuitarModemBtn">Quitar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" id="ColumnaTipolugarcontroladorEditar" hidden="hidden">
                    <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:center">
                        <label class="control-label tr">Tipo Lugar Instalación Controlador (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarTipolugarcontrolador" id="EditarTipolugarcontrolador"></select>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:center">
                        <label class="control-label tr">Lugar Instalación Controlador (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarLugarcontrolador" id="EditarLugarcontrolador"></select>
                        </div>
                    </div>
                </div>
                <div class="row" id="ColumnaTecnicocontroladorEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Técnico Instalador Controlador(*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarTecnicocontrolador" id="EditarTecnicocontrolador"></select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaTipolugarModemEditar" hidden="hidden">
                    <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:center">
                        <label class="control-label tr">Tipo Lugar Instalación Modem</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarTipolugarModem" id="EditarTipolugarModem"></select>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:center">
                        <label class="control-label tr">Lugar Instalación Modem</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarLugarModem" id="EditarLugarModem"></select>
                        </div>
                    </div>
                </div>
                <div class="row" id="ColumnaTecnicoModemEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Técnico Instalador Modem</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarTecnicoModem" id="EditarTecnicoModem"></select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaBateriaEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Bateria (*)</label>
                        <div>
                            <input type="text" id="EditarBateria" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaPrecintoEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Precinto Security (*)</label>
                        <div>
                            <input type="text" id="EditarPrecintosecurity" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaCandadoEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Candado (*)</label>
                        <div>
                            <input type="text" id="EditarCandado" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaSelloP1ServicioEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Sello P.1 Servicio</label>
                        <div>
                            <input type="text" id="EditarSelloP1Servicio" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaSelloP2ServicioEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Sello P.2 Servicio</label>
                        <div>
                            <input type="text" id="EditarSelloP2Servicio" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaObservacionesSellosEditar" hidden="hidden">
                    <div class="col-lg-12 col-md-12 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Observaciones</label>
                        <div>
                            <textarea class="form-control" rows="5" id="EditarObservacionSellos">INGRESAR COMENTARIO DE SELLOS ALTERADOS</textarea>
                        </div>
                    </div>
                </div>
                <div class="row" id="ColumnaSelloSecurityServicioEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Sello Security Servicio</label>
                        <div>
                            <input type="text" id="EditarSelloSecurityServicio" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaTipolugarcortinaEditar" hidden="hidden">
                    <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:center">
                        <label class="control-label tr">Tipo Lugar Instalación Cortina (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarTipolugarcortina" id="EditarTipolugarcortina"></select>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:center">
                        <label class="control-label tr">Lugar Instalación Cortina (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarLugarcortina" id="EditarLugarcortina"></select>
                        </div>
                    </div>
                </div>
                <div class="row" id="ColumnaFechacontroladorEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Fecha Instalación Controlador (*)</label>
                        <div>
                            <input type="text" id="EditarFechaControlador" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaFechaModemEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Fecha Instalación Modem (*)</label>
                        <div>
                            <input type="text" id="EditarFechaModem" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaFechaValidacionPreZarpeEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Fecha Última Validación Pre-Zarpe (*)</label>
                        <div>
                            <input type="text" id="EditarFechaValidacionPreZarpe" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaFechacortinaEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Fecha Instalación Cortina (*)</label>
                        <div>
                            <input type="text" id="EditarFechaCortina" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaPurafilEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Cantidad Sachet Purafil (*)</label>
                        <div>
                            <input type="number" min="0" id="EditarPurafil" class="form-control" autocomplete="off">
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaTecnicocortinaEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Instalador Cortina(*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarTecnicocortina" id="EditarTecnicocortina">
                                <option value="PERSONAL LIVENTUS">PERSONAL LIVENTUS</option>
                                <option value="PERSONAL TERCEROS">PERSONAL TERCEROS</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaFechagasificacionEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Fecha Gasificación (*)</label>
                        <div>
                            <input type="text" id="EditarFechagasificacion" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaTipolugargasificacionEditar" hidden="hidden">
                    <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:center">
                        <label class="control-label tr">Tipo Lugar Gasificación (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarTipolugargasificacion" id="EditarTipolugargasificacion"></select>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:center">
                        <label class="control-label tr">Lugar Gasificación(*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarLugargasificacion" id="EditarLugargasificacion"></select>
                        </div>
                    </div>
                </div>
                <div class="row" id="ColumnaGasesEditar" hidden="hidden">
                    <div class="col-lg-6 col-md-6 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Cantidad O2 (*)</label>
                        <div>
                            <input type="number" step="0.1" id="EditarCantidadco2" class="form-control" autocomplete="off">
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Cantidad CO2 (*)</label>
                        <div>
                            <input type="number" step="0.1" id="EditarCantidadn2" class="form-control" autocomplete="off">
                        </div>
                    </div>
                </div>
                <div class="row" id="ColumnaTenicogasificacionEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Tecnica Gasificador</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarTecnicogasificacion" id="EditarTecnicogasificacion"></select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaTratamientoEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label id="lb_tratamiento" class="control-label">Tratamiento CO2 (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" id="EditarTratamiento"></select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaFiltrosEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Filtro Scrubber(*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarCantidadfiltros" id="EditarCantidadfiltros">
                                <option value="SINGLE">SINGLE</option>
                                <option value="DOUBLE">DOUBLE</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaCalEditar" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Cantidad CAL (KG)</label>
                        <div>
                            <input type="number" min="0" id="EditarCal" class="form-control" autocomplete="off">
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaNotaServicioEditar" hidden="hidden">
                    <div class="col-lg-12 col-md-12 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Observaciones </label>
                        <div>
                            <textarea class="form-control" rows="5" id="EditarNotaservicio"></textarea>
                        </div>
                    </div>
                </div>
                <div class="row" id="ColumnaNotaLogisticaEditar" hidden="hidden">
                    <div class="col-lg-12 col-md-12 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Nota Logistica(*)</label>
                        <div>
                            <textarea class="form-control" rows="5" id="EditarNotalogistica"></textarea>
                        </div>
                    </div>
                </div>
                <div class="row" id="ColumnaValidado" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">VALIDADO (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarValidado" id="EditarValidado">
                                <option value="-1">SELECCIONE ...</option>
                                <option value=0>SI VALIDADO</option>
                                <option value=1>NO VALIDADO</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaHabilitacion" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">HABILITADO (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarHabilitado" id="EditarHabilitado">
                                <option value="-1">SELECCIONE ...</option>
                                <option value=0>SI ES HABILITACION</option>
                                <option value=1>NO ES HABILITACION</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>
                <div class="row" id="ColumnaValidacionPreZarpe" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">VALIDACION ATMOSFERA PRE-ZARPE(*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarValidacionPreZarpe" id="EditarValidacionPreZarpe">
                                <option value="-1">SELECCIONE ...</option>
                                <option value=0>SI</option>
                                <option value=1>NO</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>

                <div class="row" id="ColumnaPosContenedorNave" hidden="hidden">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">POSICION CONTENEDOR EN NAVE</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" name="EditarPosContenedorNave" id="EditarPosContenedorNave">
                                <option value="-1">SELECCIONE ...</option>
                                <option value="1">BAJO CUBIERTA</option>
                                <option value="2">SOBRE CUBIERTA</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                </div>

                <div class="row" id="ColumnaDeposito" hidden="hidden">
                    <div class="col-lg-12 col-md-12 col-sm-12" style="text-align:center">
                        <label class="control-label tr">Depósito (*)</label>
                        <div>
                            <select class="selectpicker form-control" data-live-search="true" id="EditarDeposito2"></select>
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer EditarCelda" style="text-align:center">
                <button type="button" class="btn btn-success btn-lg" id="EditarCelda">Guardar</button>
            </div>
            <div class="modal-footer EditarBooking" style="text-align:center;">
                <button type="button" class="btn btn-success btn-lg" id="Rolear">Rolear</button>
            </div>
            <div class="modal-footer EditarRoleoBooking" style="text-align:center;">
                <button type="button" class="btn btn-success btn-lg" id="RolearEditar" onclick="RolearEditar()">Rolear</button>
            </div>
        </div>
    </div>
</div>
<!--Modal Editar Celdas-->
<!--Modal Editar Reserva-->
<div class="modal fade" id="myModal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="margin-left:80px; margin-right:10px;">
    <div class="modal-dialog" role="document" style="width:100%">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h2 class="modal-title tr" id="myModalLabel" key="tituloposturacortinaagregar">Agregar Servicios a Reserva</h2>
            </div>
            <div class="modal-body">
                <div class="divider"></div>
                <div class="row" id="ColumnaConsignatario">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">BOOKING (*)</label>
                        <div>
                            <input type="text" id="AgregarServicioBooking" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                        </div>
                    </div>

                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <button type="button" class="btn btn-success" id="ValidarBooking2">Validar</button>
                    </div>
                </div>
                <div class="row" id="ColumnaServicios">
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                    <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                        <label class="control-label tr">CANTIDAD SERVICIOS (*)</label>
                        <div>
                            <input type="number" id="CantidadServiciosBooking" class="form-control" min="0" max="100" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer" style="text-align:center">
                <button type="button" class="btn btn-success btn-lg" id="AgregarServicio">Agregar</button>
            </div>
        </div>
    </div>
</div>
<!--Modal Editar Reserva-->
<!--Modal Historico Servicio-->
<div class="modal fade" id="myModal4" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="margin-left:80px; margin-right:10px;">
    <div class="modal-dialog" role="document" style="width:100%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Historial Modificaciones</h4>
            </div>
            <div class="modal-body">

                <div class="x_panel">
                    <table id="Tb_Historico" class="table table-striped table-bordered display nowrap">
                        <thead>
                            <tr>
                                <th>ACCIÓN</th>
                                <th>FECHA ACCIÓN</th>
                                <th>USUARIO ACCIÓN</th>
                                <th>ALERTA</th>
                                <th>ULTIMA GESTION REALIZADA</th>
                                <th>FECHA ULT. GESTION</th>
                                <th>ESTADO SERVICIO</th>
                                <th>ID SERVICIO</th>
                                <th>NAVE 1</th>
                                <th>VIAJE 1</th>
                                <th>NAVIERA</th>
                                <th>BOOKING</th>
                                <th>CONTROLADOR</th>
                                <th>N° CONTENEDOR</th>
                                <th>SERVICIO CON MODEM</th>
                                <th>MODEM</th>
                                <th>SENSOR</th>
                                <th>PAIS EXPORTADOR</th>
                                <th>EXPORTADOR</th>
                                <th>FREIGHT FORWARDER</th>
                                <th>PUERTO ORIGEN</th>
                                <th>PUERTO DESTINO</th>
                                <th>COMMODITY</th>
                                <th>SET POINT</th>
                                <th>TEMPERATURA</th>
                                <th>COMMODITY A PROGRAMAR</th>
                                <th>SEMANA</th>
                                <th>ETA NAVE</th>
                                <th>INICIO STACKING</th>
                                <th>TERMINO STACKING</th>
                                <th>ETD</th>
                                <th>ETA POD</th>
                                <th>OBSERVACIONES</th>
                                <th>FECHA DE REGISTRO</th>
                                <th>SERVICE PROVIDER</th>
                                <th>PAIS DEPOSITO</th>
                                <th>DEPOSITO</th>
                                <th>CONTINENTE ORIGEN</th>
                                <th>PAIS ORIGEN</th>
                                <th>CONTINENTE DESTINO</th>
                                <th>CONSIGNATARIO</th>
                                <th>FECHA INSTALACION CONTROLADOR</th>
                                <th>BATERIA CONTROLADOR</th>
                                <th>FECHA ASOC. BATERIA CONTROLADOR</th>
                                <th>TIPO LUGAR INSTALACION CONTROLADOR</th>
                                <th>LUGAR INSTALACION CONTROLADOR</th>
                                <th>TECNICO INSTALADOR CONTROLADOR</th>
                                <th>FECHA INSTALACION MODEM</th>
                                <th>BATERIA MODEM</th>
                                <th>FECHA ASOC. BATERIA MODEM</th>
                                <th>TIPO LUGAR INSTALACION MODEM</th>
                                <th>LUGAR INSTALACION MODEM</th>
                                <th>TECNICO INSTALADOR MODEM</th>
                                <th>PRECINTO SECURITY</th>
                                <th>CANDADO</th>
                                <th>SELLO P. 1 LEAK TEST</th>
                                <th>SELLO P. 2 LEAK TEST</th>
                                <th>SELLO SECURITY LEAK TEST</th>
                                <th>SELLO P. 1 SERVICIO</th>
                                <th>SELLO P. 2 SERVICIO</th>
                                <th>SELLO SECURITY SERVICIO</th>
                                <th>OBSERVACION SELLOS</th>
                                <th>FECHA POSTURA CORTINA</th>
                                <th>PAIS POSTURA CORTINA</th>
                                <th>TIPO LUGAR POSTURA CORTINA</th>
                                <th>LUGAR POSTURA CORTINA</th>
                                <th>CANTIDAD SACHET PURAFIL</th>
                                <th>INSTALADOR CORTINA</th>
                                <th>FECHA GASIFICACION</th>
                                <th>TIPO LUGAR GASIFICACION</th>
                                <th>LUGAR GASIFICACION</th>
                                <th>TECNICO GASIFICADOR</th>
                                <th>TIPO TRATAMIENTO CO2</th>
                                <th>CANTIDAD FILTROS</th>
                                <th>CANTIDAD CAL (KG)</th>
                                <th>NOTA LOGISTICA</th>
                                <th>VALIDACION TECNICA</th>
                                <th>HABILITADO</th>
                                <th>MOV. CONTENEDOR REPORTADO NAVIERA</th>
                                <th>VALIDACION SERVICIO</th>
                                <th>TIPO ENTREGA DEPOSITO</th>
                                <th>N° INTERNO CARGA DEPOSITO</th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <th>ACCIÓN</th>
                                <th>FECHA ACCIÓN</th>
                                <th>USUARIO ACCIÓN</th>
                                <th>ALERTA</th>
                                <th>ULTIMA GESTION REALIZADA</th>
                                <th>FECHA ULT. GESTION</th>
                                <th>ESTADO SERVICIO</th>
                                <th>ID SERVICIO</th>
                                <th>NAVE 1</th>
                                <th>VIAJE 1</th>
                                <th>NAVIERA</th>
                                <th>BOOKING</th>
                                <th>CONTROLADOR</th>
                                <th>N° CONTENEDOR</th>
                                <th>SERVICIO CON MODEM</th>
                                <th>MODEM</th>
                                <th>SENSOR</th>
                                <th>PAIS EXPORTADOR</th>
                                <th>EXPORTADOR</th>
                                <th>FREIGHT FORWARDER</th>
                                <th>PUERTO ORIGEN</th>
                                <th>PUERTO DESTINO</th>
                                <th>COMMODITY</th>
                                <th>SET POINT</th>
                                <th>TEMPERATURA</th>
                                <th>COMMODITY A PROGRAMAR</th>
                                <th>SEMANA</th>
                                <th>ETA NAVE</th>
                                <th>INICIO STACKING</th>
                                <th>TERMINO STACKING</th>
                                <th>ETD</th>
                                <th>ETA POD</th>
                                <th>OBSERVACIONES</th>
                                <th>FECHA DE REGISTRO</th>
                                <th>SERVICE PROVIDER</th>
                                <th>PAIS DEPOSITO</th>
                                <th>DEPOSITO</th>
                                <th>CONTINENTE ORIGEN</th>
                                <th>PAIS ORIGEN</th>
                                <th>CONTINENTE DESTINO</th>
                                <th>CONSIGNATARIO</th>
                                <th>FECHA INSTALACION CONTROLADOR</th>
                                <th>BATERIA CONTROLADOR</th>
                                <th>FECHA ASOC. BATERIA CONTROLADOR</th>
                                <th>TIPO LUGAR INSTALACION CONTROLADOR</th>
                                <th>LUGAR INSTALACION CONTROLADOR</th>
                                <th>TECNICO INSTALADOR CONTROLADOR</th>
                                <th>FECHA INSTALACION MODEM</th>
                                <th>BATERIA MODEM</th>
                                <th>FECHA ASOC. BATERIA MODEM</th>
                                <th>TIPO LUGAR INSTALACION MODEM</th>
                                <th>LUGAR INSTALACION MODEM</th>
                                <th>TECNICO INSTALADOR MODEM</th>
                                <th>PRECINTO SECURITY</th>
                                <th>CANDADO</th>
                                <th>SELLO P. 1 LEAK TEST</th>
                                <th>SELLO P. 2 LEAK TEST</th>
                                <th>SELLO SECURITY LEAK TEST</th>
                                <th>SELLO P. 1 SERVICIO</th>
                                <th>SELLO P. 2 SERVICIO</th>
                                <th>SELLO SECURITY SERVICIO</th>
                                <th>OBSERVACION SELLOS</th>
                                <th>FECHA POSTURA CORTINA</th>
                                <th>PAIS POSTURA CORTINA</th>
                                <th>TIPO LUGAR POSTURA CORTINA</th>
                                <th>LUGAR POSTURA CORTINA</th>
                                <th>CANTIDAD SACHET PURAFIL</th>
                                <th>INSTALADOR CORTINA</th>
                                <th>FECHA GASIFICACION</th>
                                <th>TIPO LUGAR GASIFICACION</th>
                                <th>LUGAR GASIFICACION</th>
                                <th>TECNICO GASIFICADOR</th>
                                <th>TIPO TRATAMIENTO CO2</th>
                                <th>CANTIDAD FILTROS</th>
                                <th>CANTIDAD CAL (KG)</th>
                                <th>NOTA LOGISTICA</th>
                                <th>VALIDACION TECNICA</th>
                                <th>HABILITADO</th>
                                <th>MOV. CONTENEDOR REPORTADO NAVIERA</th>
                                <th>VALIDACION SERVICIO</th>
                                <th>TIPO ENTREGA DEPOSITO</th>
                                <th>N° INTERNO CARGA DEPOSITO</th>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>
<!--Modal Historico Servicio-->
<!--Modal Historico Validacion-->
<div class="modal fade" id="myModal6" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="margin-left:80px; margin-right:10px;">
    <div class="modal-dialog" role="document" style="width:100%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Historial Modificaciones</h4>
            </div>
            <div class="modal-body">
                <div class="x_panel">
                    <table id="Tb_HistoricoValidacion" class="table table-striped table-bordered display nowrap" width="100%">
                        <thead>
                            <tr>
                                <th>FECHA ACCION</th>
                                <th>USUARIO</th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <th>FECHA ACCION</th>
                                <th>USUARIO</th>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>
<!--Modal Historico Validacion-->
<!--Modal Grafico-->
<div class="modal fade" id="myModal7" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="margin-left:80px; margin-right:10px;">
    <div class="modal-dialog" role="document" style="width:100%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Gráfico CO2 / O2</h4>
            </div>
            <div class="modal-body">
                <img src="" id="imagepreview" style="width: 100%; height: 264px;">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger cerrarmodalGrafico" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>
<!--Modal Grafico-->
<!--Cambios Pendientes EDI-->
<div class="modal fade" id="myModal9" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="margin-left:80px; margin-right:10px;">
    <div class="modal-dialog" role="document" style="width:100%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Cambios Pendientes EDI</h4>
            </div>
            <div class="modal-body">
                <table id="Tb_Modal9" class="table table-striped table-bordered display nowrap">
                    <thead>
                        <tr>
                            <th>BOOKING</th>
                            <th>ITEM A MODIFICAR</th>
                            <th>VALOR ACTUAL</th>
                            <th>VALOR NUEVO</th>
                            <th>FECHA ACTUALIZACIÓN</th>
                            <th>APROBAR</th>
                            <th>RECHAZAR</th>
                            <th>ESTADO</th>
                        </tr>
                    </thead>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>
<!--Cambios Pendientes EDI-->

<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal8" id="EditarServicioViajeTrigger" style="display:none;"></button>
<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal" id="EditarReservaTrigger" style="display:none;"></button>
<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal2" id="EditarCeldas" style="display:none;"></button>
<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal3" id="AgregarCeldas" style="display:none;"></button>
<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal4" id="HistoricoControlador" style="display:none;"></button>
<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal5" id="EditarReservaNaveTrigger" style="display:none;"></button>
<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal6" id="HistoricoValidacionServicioTrigger" style="display:none;"></button>
<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal7" id="GraficoUnitarioModal" style="display:none;"></button>
<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal9" id="CambiosPendientesEDITrigger" style="display:none;"></button>
<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModalAsociarBateria" id="AsociarBateriaTrigger" style="display:none;"></button>

<input type="text" class="input form_control" id="BookingEditar" disabled="disabled" hidden />
<input type="text" class="input form_control" id="ContenedorEliminar" disabled="disabled" hidden />

<script src="~/build/js/Perfiles.js"></script>
<script src="~/build/js/PerfilGestionServicios.js"></script>
<script type="text/javascript">

    var lenguaje = document.cookie;

    if (@PerfilInterior == 19 || @PerfilInterior == 5 || @PerfilInterior == 6 || @PerfilInterior == 7 ||
        @PerfilInterior == 8 || @PerfilInterior == 9 || @PerfilInterior == 10) {
        $("#botonesacciones").hide();
    }

    function formatDate(date) {
        if(date != null){
            var fecha = date.substring(0, 10);
            var ano = date.substring(0, 4);
            var mes = date.substring(5, 7);
            var dia = date.substring(8, 10);
            return dia + "-" + mes + "-" + ano;
        }else {
            return "";
        }
    }

    function getCurrentDate(date) {
        var today = new Date();
        var dd = today.getDate();
        var mm = today.getMonth()+1; //January is 0!

        var yyyy = today.getFullYear();
        if(dd<10){
            dd='0'+dd;
        }
        if(mm<10){
            mm='0'+mm;
        }
        var today = dd+'-'+mm+'-'+yyyy;
        return today;
    }

    $(document).ready(function () {

        $('#Tb_Servicios thead tr:eq(1) th').each( function (i) {
            var title = $('#example thead tr:eq(0) th').eq( $(this).index() ).text();
            if($(this).index() != 0){
                $(this).html( '<input type="text" class="form-control" placeholder="FILTER" data-index="'+i+'"/>' );
            }
        });

        var table = $("#Tb_Servicios").DataTable({

            initComplete: function () {
                this.api().columns().every( function () {
                    var column = this;
                    if(column.index() ==1){
                        //alert(column.index());

                        var select = $('<select><option value=""></option></select>')
                            .appendTo( $(column.footer()).empty() )
                            .on( 'change', function () {
                                var val = $.fn.dataTable.util.escapeRegex(
                                    $(this).val()
                                );

                                column
                                    .search( val ? '^'+val+'$' : '', true, false )
                                    .draw();
                            } );

                        column.data().unique().sort().each( function ( d, j ) {
                            select.append( '<option value="'+d+'">'+d+'</option>' )
                        } );
                    }
                } );
            },
            orderCellsTop:  true,
            fixedColumns:   true,
            scrollX: true,
            pageLength: 15,
            ajax: {
                "url": "@Url.Action("GetHistoricosServicios1", "Reservas")",
                "dataSrc": ''
            },
            dom: 'Bfrtip',
            buttons: [
                {
                    extend: 'excel',
                    exportOptions: {
                        orthogonal: 'export'
                    },
                }
            ],
            "rowCallback": function (row, data, index)
            {
                // LOGICA COLORES
                var posee_alertas_importantes = false;

                if(data.EstadoServicio.indexOf("CANCELLED") > -1){
                    // SIN COLOR
                }
                else
                {
                    if(data.DetalleAlerta != null && data.DetalleAlerta != "" )
                    {
                        if (data.DetalleAlerta.indexOf("CONTENEDOR MSC EN TERMINAL SIN AC") > -1)
                        {
                            $('td', row).css("background-color", "rgba(213, 184, 255, 1)"); // MORADO
                            posee_alertas_importantes = true;
                        }
                        else if (data.DetalleAlerta.indexOf("ETA NAVE VENCIDO") > -1)
                        {
                            $('td', row).css("background-color", "rgba(255, 0, 0, 0.4);"); // ROJO
                            posee_alertas_importantes = true;
                        }
                        else if (data.DetalleAlerta.indexOf("ETA NAVE POR VENCER") > -1)
                        {
                            $('td', row).css("background-color", "rgba(255, 165,0, 0.6);"); // NARANJO
                            posee_alertas_importantes = true;
                        }
                        else if (data.DetalleAlerta.indexOf("SIN VALIDACION PREZARPE") > -1 && data.DetalleAlerta.length == 23)
                        {
                            posee_alertas_importantes = false;
                        }
                        else
                        {
                            $('td', row).css("background-color", "rgba(255,255,0)"); // AMARILLO
                            posee_alertas_importantes = false;
                        }
                    }

                    if (data.Validado==0 && posee_alertas_importantes == false)
                    {
                        $('td', row).css("background-color", "rgba(0,255,0,0.6)"); // VERDE
                    }
                }
            },
            columns: [
                { "data": "Checkbox" },
                { "data": "DetalleAlerta"},
                { "data": "GestionServicio" ,
                    'render': function(data, type, full, meta){
                        if(type === 'display'){
                            data = strtrunc(data, 40);
                        }else if(type === 'export'){
                            $.ajax({
                                type: "POST",
                                url: '@Url.Action("GetGestion", "Reservas")',
                                data: {idServicio : full["IdServicio"]},
                                async: false,
                                success: function (response) {
                                    if(response != ""){
                                        data = response;
                                    }else{
                                        data = "";
                                    }

                                },
                            });
                        }
                        return data;
                    }
                },
                { "data": "FechaGestion",
                    "render":
                      function( data, type, row, meta){
                          if(data != null){
                              var fecha = FormatDateControlador(data);
                              return fecha;
                          }else{
                              return "";
                          }
                      }
                },
                { "data": "EstadoServicio"},
                { "data": "IdServicio" },
                { "data": "Nave1" },
                { "data": "Viaje" },
                { "data": "Naviera" },
                { "data": "Booking" },
                { "data": "Controlador" },
                { "data": "Contenedor" },
                { "data": "LlevaModem",
                    "render":
                    function( data, type, row, meta){
                        if(data == 0){
                            return "NO";
                        }else{
                            return "SI";
                        }
                    }
                },
                { "data": "Modem" },
                { "data": "Sensor" },
                { "data": "PaisExportador" },
                { "data": "Exportador" },
                { "data": "Freightforwarder" },
                { "data": "PuertoOrigen" },
                { "data": "PuertoDestino" },
                { "data": "Commodity" },
                { "data": "Setpoint" },
                { "data": "Temperatura" },
                { "data": "CommodityTecnica" },
                { "data": "Semana"},
                { "data": "EtaNave",
                    "render":
                      function( data, type, row, meta){
                          if(data != null){
                              var fecha = FormatDate(data);
                              return fecha;
                          }else{
                              return "";
                          }
                      }
                },
                { "data": "FechaIniStacking",
                    "render":
                    function( data, type, row, meta){
                        if(data != null){
                            var fecha = FormatDate(data);
                            return fecha;
                        }else{
                            return "";
                        }
                    }
                },
                { "data": "FechaFinStacking",
                    "render":
                    function( data, type, row, meta){
                        if(data != null){
                            var fecha = FormatDate(data);
                            return fecha;
                        }else{
                            return "";
                        }
                    }
                },
                { "data": "Etd",
                    "render":
                    function( data, type, row, meta){
                        if(data != null){
                            var fecha = FormatDate(data);
                            return fecha;
                        }else{
                            return "";
                        }
                    }
                },
                { "data": "EtaPuerto",
                    "render":
                    function( data, type, row, meta){
                        if(data != null){
                            var fecha = FormatDate(data);
                            return fecha;
                        }else{
                            return "";
                        }
                    }
                },
                { "data": "NotaServicio" },
                 { "data": "FechaRegistro",
                     "render":
                     function( data, type, row, meta){
                         if(data != null){
                             var fecha = FormatDate(data);
                             return fecha;
                         }else{
                             return "";
                         }
                     }
                 },
                 { "data": "ServiceProvider" },
                 { "data": "PaisDeposito" },
                 { "data": "Deposito" },
                 { "data": "ContinenteOrigen" },
                 { "data": "PaisPuertoOrigen" },
                 { "data": "ContinenteDestino" },
                 { "data": "Consignatario" },

                 { "data": "FechaControlador",
                     "render":
                     function( data, type, row, meta){
                         if(data != null){
                             var fecha = FormatDateControlador(data);
                             return fecha;
                         }else{
                             return "";
                         }
                     }
                 },
                 { "data": "Bateria" },
                 { "data": "FechaAsociacionBateriaControlador",
                     "render":
                     function( data, type, row, meta){
                         if(data != null){
                             var fecha = FormatDateControlador(data);
                             return fecha;
                         }else{
                             return "";
                         }
                     }
                 },
                 { "data": "TipoLugarControlador" },
                 { "data": "LugarControlador" },
                 { "data": "TecnicoControlador" },
                 { "data": "FechaModem",
                     "render":
                     function( data, type, row, meta){
                         if(data != null){
                             var fecha = FormatDateControlador(data);
                             return fecha;
                         }else{
                             return "";
                         }
                     }
                 },
                { "data": "BateriaModem" },
                { "data": "FechaAsociacionBateriaModem",
                    "render":
                    function( data, type, row, meta){
                        if(data != null){
                            var fecha = FormatDateControlador(data);
                            return fecha;
                        }else{
                            return "";
                        }
                    }
                },
                { "data": "TipoLugarModem" },
                { "data": "LugarModem" },
                { "data": "TecnicoModem" },
                { "data": "PrecintoSecurity" },
                { "data": "Candado" },
                { "data": "SelloPerno1" },
                { "data": "SelloPerno2" },
                { "data": "SelloTapa" },
                { "data": "SelloPanel1" },
                { "data": "SelloPanel2" },
                { "data": "SelloSecurity" },
                { "data": "ObservacionSellos" },
                { "data": "FechaCortina",
                    "render":
                    function( data, type, row, meta){
                        if(data != null){
                            var fecha = FormatDate(data);
                            return fecha;
                        }else{
                            return "";
                        }
                    }
                },
                { "data": "PaisCortina" },
                { "data": "TipoLugarCortina" },
                { "data": "LugarCortina" },
                { "data": "PurafilCortina" },
                { "data": "TecnicoCortina" },
                { "data": "FechaGasificacion",
                    "render":
                    function( data, type, row, meta){
                        if(data != null){
                            var fecha = FormatDate(data);
                            return fecha;
                        }else{
                            return "";
                        }
                    }
                },
                { "data": "TipoLugarGasificacion" },
                { "data": "LugarGasificacion" },
                { "data": "TecnicoGasificacion" },
                { "data": "TratamientoCo2" },
                { "data": "FiltroScrubber" },
                { "data": "CantidadCalScrubber" },
                { "data": "NotasLogistica" },
                { "data": "Validado",
                    "render":
                    function( data, type, row, meta){
                        if(data == 1){
                            return "NO";
                        }else if(data == 0){
                            return "SI";
                        }else{
                            return "POR VALIDAR";
                        }
                    }
                },
                { "data": "ValidadoPreZarpe",
                    "render":
                    function( data, type, row, meta){
                        if(data == 0){
                            return "SI";
                        }else if(data == 1){
                            return "NO";
                        }else if(data == 2){
                            return "NO - SIN DESCARGA DATOS";
                        }else if(data == 3){
                            return "NO - FALLÓ FAULT ANALYSIS";
                        }else{
                            return "POR VALIDAR";
                        }
                    }
                },
                { "data": "Habilitado",
                    "render":
                    function( data, type, row, meta){
                        if(data == 1){
                            return "NO";
                        }else{
                            return "SI";
                        }
                    }
                },
                { "data": "MovContenedor",
                    "render":
                    function( data, type, row, meta){
                        if(data =="MSH"){
                            return "DEPOSIT OUTPUT";
                        }else if(data =="ECY"){
                            return "TERMINAL INPUT";
                        }else{
                            return "";
                        }
                    }
                },
                { "data": "ValidacionServicio",
                    "render":
                    function( data, type, row, meta){
                        if(data == 1){
                            return "NO";
                        }else if(data == 0){
                            return "SI";
                        }else{
                            return "POR VALIDAR";
                        }
                    }
                },
                { "data": "TipoEntrega" },
                { "data": "NumeroOrdenCarga" },
            ],
            columnDefs: [
                {
                    'targets': 0,
                    'checkboxes': {
                        'selectRow': true
                    }
                }
            ],
            select: {
                'style': 'multi'
            },
        });

        $( table.table().container() ).on('keyup', 'thead input', function () {
            table
                .column( $(this).data('index'))
                .search( this.value )
                .draw();
        });

        $('#example-select-all').on('click', function(){
            // Get all rows with search applied
            var rows = table.rows({ 'search': 'applied' }).nodes();
            // Check/uncheck checkboxes for all rows in the table
            $('input[type="checkbox"]', rows).prop('checked', this.checked);
        });

        function diferenciaDias(FechaLeaktest) {
            var date1 = new Date(FechaLeaktest);
            var date2 = new Date();
            if (date1 < date2) {
                var aux = -1;
            } else {
                var aux = 1;
            }
            var timeDiff = Math.abs(date2.getTime() - date1.getTime());
            var diffDays = Math.ceil((timeDiff / (1000 * 3600 * 24)) * aux);
            return diffDays;
        };

        function FormatDate(data) {
            var dateString = data.substr(6);
            var currentTime = new Date(parseInt(dateString));
            var month = currentTime.getMonth() + 1;
            var day = currentTime.getDate();
            var year = currentTime.getFullYear();

            if (month < 10) {
                month = "0" + month;
            } else {
                month;
            }

            if (day < 10) {
                day = "0" + day;
            } else {
                day;
            }

            var fecha=currentTime.toLocaleString('pt-PT', { timeZone: 'America/Santiago' })
            var res = fecha.replace("/", "-");
            var res = res.replace("/", "-");
            var res2 = res.slice(0, 10);
            //var c =new Date().toLocaleString('es-ES', { timeZone: 'America/Santiago' })

            var date = day + "-" + month + "-" + year;
            return res2;
        }

        function FormatDateControlador(data) {
            var dateString = data.substr(6);
            var currentTime = new Date(parseInt(dateString));
            var month = currentTime.getMonth() + 1;
            var day = currentTime.getDate();
            var year = currentTime.getFullYear();
            var Hora = currentTime.getHours();
            var Minutos = currentTime.getMinutes();

            if (month < 10) {
                month = "0" + month;
            } else {
                month;
            }

            if (day < 10) {
                day = "0" + day;
            } else {
                day;
            }

            if (Hora < 10 && Hora != 0) {
                Hora = "0" + Hora;
            } else if(Hora == 0) {
                Hora = "00";
            }else {
                Hora;
            }

            if (Minutos < 10 && Minutos != 0) {
                Minutos = "0" + Minutos;
            } else if(Minutos == 0) {
                Minutos = "00" ;
            }else {
                Minutos;
            }

            var date = day + "-" + month + "-" + year + " " + Hora + ":" + Minutos;
            return date;
        }

        function FormatDateStacking(data) {
            var dateString = data.substr(6);
            var currentTime = new Date(parseInt(dateString));
            var month = currentTime.getMonth() + 1;
            var day = currentTime.getDate();
            var year = currentTime.getFullYear();

            if (month < 10) {
                month = "0" + month;
            } else {
                month;
            }

            if (day < 10) {
                day = "0" + day;
            } else {
                day;
            }

            var date = month + "-" + day + "-" + year;
            return date;
        }

        function FormatDateSemana(data){
            var dateString = data.substr(6);
            var currentTime = new Date(parseInt(dateString ));
            var month = currentTime.getMonth() + 1;
            var day = currentTime.getDate();
            var year = currentTime.getFullYear();
            var date = month + "-" + day + "-" + year;
            return date;
        }



        $(function () {
            $("#FechaAsociacion,#InicioStacking,#TerminoStacking,#InicioStackingNave,#TerminoStackingNave,#Etd,#EtaNave,#EtdNave,#EtaNave1,#EtaPuerto,#Fecha_inicio,#Fecha_termino,#EditarEtaNave,#EditarIniStacking,#EditarFinStacking,#EditarEtd,#EditarEtaPuerto,#EditarFechaCortina,#EditarFechagasificacion,#EtanaveBookingEditar,#InistackingBookingEditar,#FinstackingBookingEditar,#EtdnaveBookingEditar,#EtapuertoBookingEditar").datepicker({
                dateFormat: "dd-mm-yy",
                firstDay: 1,
                dayNamesMin: ["Do", "Lu", "Ma", "Mi", "Ju", "Vi", "Sa"],
                dayNamesShort: ["Dom", "Lun", "Mar", "Mie", "Jue", "Vie", "Sab"],
                monthNames:
                    ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio",
                    "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"],
                monthNamesShort:
                    ["Ene", "Feb", "Mar", "Abr", "May", "Jun",
                    "Jul", "Ago", "Sep", "Oct", "Nov", "Dic"],
                showWeek: true
            });

            $('#EditarFechaControlador').datetimepicker({});
            $('#EditarFechaModem').datetimepicker({});
            $('#EditarFechaCortina').datetimepicker({});
            $('#EditarFechagasificacion').datetimepicker({});
        });



        //CARGAR NAVIERAS PARA EDITAR BOOKING
            @*$.ajax({
                type: "POST",
                url: '@Url.Action("GetNavierasActivas", "Naviera")',
                success: function (response) {
                    var data = [];
                    var json = JSON.parse(response);
                    var cuenta = json.length;
                    var optionsAsString = "";
                    for (var i = 0; i < cuenta; i++) {
                        optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + "</option>";
                    }
                    $('#NavieraBookingEditar').append(optionsAsString);
                    $('#NavieraBookingEditar').selectpicker('refresh');
                },
            });*@
        //CARGAR NAVIERAS PARA EDITAR BOOKING

        //CARGAR NAVES PARA EDITAR BOOKING
        @*$.ajax({
            type: "POST",
            url: '@Url.Action("GetNaves", "Nave")',
            success: function (response) {
                var data = [];
                var json = JSON.parse(response);
                var cuenta = json.length;
                var optionsAsString = ""
                for (var i = 0; i < cuenta; i++) {
                    optionsAsString += "<option value='" + json[i].IdNave + "'>" + json[i].NombreNave + "</option>";
                }
                $('#NaveBookingEditar').append(optionsAsString);
                $('#NaveBookingEditar').selectpicker('refresh');
            },
        });*@
        //CARGAR NAVES PARA EDITAR BOOKING

        //CARGAR PUERTOS PARA EDITAR BOOKING
        @*$.ajax({
            type: "POST",
            url: '@Url.Action("GetPuertos", "Puertos")',
            success: function (response) {
                var data = [];
                var json = JSON.parse(response);
                var cuenta = json.length;
                var optionsAsString = "";
                for (var i = 0; i < cuenta; i++) {
                    optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad +  "</option>";
                }
                $('#PuertoDestinoBookingEditar').append(optionsAsString);
                $('#PuertoDestinoBookingEditar').selectpicker('refresh');
                $('#PuertoOrigenBookingEditar').append(optionsAsString);
                $('#PuertoOrigenBookingEditar').selectpicker('refresh');
            },
        });*@
        //CARGAR PUERTOS PARA EDITAR BOOKING

        //CARGAR EXPORTADOR PARA EDITAR BOOKING
        @*$.ajax({
            type: "POST",
            url: '@Url.Action("GetExportadorActivos", "Exportador")',
            success: function (response) {
                var data = [];
                var json = JSON.parse(response);
                var cuenta = json.length;
                var optionsAsString = "";
                for (var i = 0; i < cuenta; i++) {
                    optionsAsString += "<option value='" + json[i].Id_Exportador + "'>" + json[i].NombreExportador + "</option>";
                }
                $('#ExportadorBookingEditar').append(optionsAsString);
                $('#ExportadorBookingEditar').selectpicker('refresh');
            },
        });*@
        //CARGAR EXPORTADOR PARA EDITAR BOOKING

        //CARGAR COMMODITY PARA EDITAR BOOKING
        @*$.ajax({
            type: "POST",
            url: '@Url.Action("GetCommodity", "Commoditie")',
            success: function (response) {
                var data = [];
                var json = JSON.parse(response);
                var cuenta = json.length;
                var optionsAsString = "";
                for (var i = 0; i < cuenta; i++) {
                    optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + "</option>";
                }
                $('#CommodityBookingEditar').append(optionsAsString);
                $('#CommodityBookingEditar').selectpicker('refresh');
            },
        });*@
        //CARGAR COMMODITY PARA EDITAR BOOKING

        //CARGAR FREIGHTFORWARDER PARA EDITAR BOOKING
        @*$.ajax({
            type: "POST",
            url: '@Url.Action("GetFreightForwarderActivos", "FreightForwarder")',
            success: function (response) {
                var data = [];
                var json = JSON.parse(response);
                var cuenta = json.length;
                var optionsAsString = "";
                for (var i = 0; i < cuenta; i++) {
                    optionsAsString += "<option value='" + json[i].Id_FreightForwarder + "'>" + json[i].NombreFreightForwarder + "</option>";
                }
                $('#FreightforwarderBookingEditar').append(optionsAsString);
                $('#FreightforwarderBookingEditar').selectpicker('refresh');
            },
        });*@
        //CARGAR FREIGHTFORWARDER PARA EDITAR BOOKING

        //CARGAR SET POINT PARA EDITAR BOOKING
        @*$.ajax({
            type: "POST",
            url: '@Url.Action("GetSetpoint", "Setpoint")',
            success: function (response) {
                var data = [];
                var json = JSON.parse(response);
                var cuenta = json.length;
                var optionsAsString = "";
                for (var i = 0; i < cuenta; i++) {
                    optionsAsString += "<option value='" + json[i].IdSetpoint + "'>" + json[i].CO2 + "% CO2, " + json[i].O2 + "% O2" + "</option>";
                }
                $('#SetpointBookingEditar').append(optionsAsString);
                $('#SetpointBookingEditar').selectpicker('refresh');
            },
        });*@
        //CARGAR SET POINT PARA EDITAR BOOKING
    });

    $('#Tb_Servicios').on( 'click', 'tbody td:not(:first-child)', function (e) {
        if( @PerfilInterior == 19 || @PerfilInterior == 6 || @PerfilInterior == 7 ||
            @PerfilInterior == 8 || @PerfilInterior == 9 || @PerfilInterior == 10){
            return false;
        }
        //VALIDAR DATOS QUE NO SE PODRAN MODIFICAR
        var Cabecera = $('#Tb_Servicios thead tr th').eq($(this).index()).text().trim();
        var texto = "EDITAR " + Cabecera;
        $(".titulo").find('h2').text("");
        $(".titulo").find('h2').text(texto)
        $("#guardadocorrectamente").hide();
            if(Cabecera == "ESTADO SERVICIO" ){
                swal('Ups!', 'No es posible editar este campo.', 'error');
                return false;
            }else if(Cabecera == "CANTIDAD O2"){
                swal('Ups!', 'Para modificar este dato debe modificalo junto a Cantidad CO2.', 'error');
                return false;
            }else if(Cabecera == "NAVIERA" || Cabecera == "EXPORTADOR" || Cabecera == "SET POINT" || Cabecera == "COMMODITY" ){
                swal('Ups!', 'No es posible editar este campo, ya que es un campo de la Reserva.', 'error');
                return false;
            }else if(Cabecera == "FECHA SERVICIO"){
                swal('Ups!', 'No es posible editar la fecha del servicio ya que se carga automaticamente.', 'error');
                return false;
            }else if(Cabecera == "SELLO P. 1 LEAKTEST" || Cabecera == "SELLO P. 2 LEAKTEST" || Cabecera == "SELLO SECURITY LEAKTEST") {
                swal('Ups!', 'No es posible editar los sellos de Leak Test', 'error');
                return false;
            }else if(Cabecera == "NAVE 1") {
                swal('Ups!', 'No es posible editar la Nave, ya que es un campo del Viaje', 'error');
                return false;
            }else if(Cabecera == "VIAJE 1") {
                swal('Ups!', 'No es posible editar la Numero de Viaje, ya que es un campo del Viaje', 'error');
                return false;
            }else if(Cabecera == "ETA NAVE") {
                swal('Ups!', 'No es posible editar el ETA de la Nave, ya que es un campo del Viaje', 'error');
                return false;
            } else if(Cabecera == "INICIO STACKING") {
                swal('Ups!', 'No es posible editar el Inicio de Stacking, ya que es un campo del Viaje', 'error');
                return false;
            } else if(Cabecera == "TERMINO STACKING") {
                swal('Ups!', 'No es posible editar el Termino de Stacking, ya que es un campo del Viaje', 'error');
                return false;
            } else if(Cabecera == "ETD") {
                swal('Ups!', 'No es posible editar la ETD de la Nave, ya que es un campo del Viaje', 'error');
                return false;
            } else if(Cabecera == "ETA POD") {
                swal('Ups!', 'No es posible editar el ETA del Puerto de Destino, ya que es un campo del Viaje', 'error');
                return false;
            } else if(Cabecera == "PUERTO ORIGEN") {
                swal('Ups!', 'No es posible editar el Puerto de Origen, ya que es un campo del Viaje', 'error');
                return false;
            } else if(Cabecera == "PUERTO DESTINO") {
                swal('Ups!', 'No es posible editar el Puerto de Destino, ya que es un campo del Viaje', 'error');
                return false;
            }  else if(Cabecera == "CONSIGNATARIO") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Consignatario");
                localStorage.setItem("CampoBase", "CONSIGNATARIO");
                $('#EditarConsignatario').val("");
                $('#ColumnaConsignatarioEditar').show();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "FREIGHT FORWARDER") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Freightforwarder");
                localStorage.setItem("CampoBase", "ID_FREIGHTFORWARDER");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').show();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetFreightForwarderActivos", "FreightForwarder")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarFreightforwarder').empty();
                        var optionsAsString = "";
                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].Id_FreightForwarder + "'>" + json[i].NombreFreightForwarder + "</option>";
                        }
                        $('#EditarFreightforwarder').append(optionsAsString);
                        $('#EditarFreightforwarder').selectpicker('refresh');
                    },
                });
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetDatosBookingEdi", "Reservas")',
                    data: {Booking : $('#Tb_Servicios tbody tr:eq('+$(this).parent().index()+') td:eq(9)').text() },
                    success: function (response1) {
                        var json = JSON.parse(response1);
                        $("#FreightforwarderEdi").val(json.FreightForwarder);
                    },
                });
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "PUERTO ORIGEN") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "PuertoOrigen");
                localStorage.setItem("CampoBase", "ID_PUERTOORIGEN");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').show();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetPuertos", "Puertos")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarPuertoOrigen').empty();
                        var optionsAsString = "";
                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                        }

                        $('#EditarPuertoOrigen').append(optionsAsString);
                        $('#EditarPuertoOrigen').selectpicker('refresh');
                    },
                });
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "PUERTO DESTINO") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "PuertoDestino");
                localStorage.setItem("CampoBase", "ID_PUERTODESTINO");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').show();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetPuertos", "Puertos")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarPuertoDestino').empty();
                        var optionsAsString = "";
                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                        }

                        $('#EditarPuertoDestino').append(optionsAsString);
                        $('#EditarPuertoDestino').selectpicker('refresh');
                    },
                });
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "TEMPERATURA") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Temperatura");
                localStorage.setItem("CampoBase", "TEMPERATURA");
                $('#EditarTemperatura').val("");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').show();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if (Cabecera == "N° CONTENEDOR") {

                var validacion_servicio = $('#Tb_Servicios tbody tr:eq(' + $(this).parent().index() + ') td:eq(78)').text();

                if(validacion_servicio == "SI"){
                    swal('Ups!', 'No se puede editar el contenedor a servicios que posean su Validación de Servicio correcta.', 'error');
                    return false;
                }
                else
                {
                    $('#quitarcontenedor').hide();
                    $('#cambiarcontenedor').hide();
                    $('#quitar').prop('checked', false);
                    $('#cambiar').prop('checked', false);
                    $('.EditarCelda').hide();

                    localStorage.setItem("Fila", $(this).parent().index());
                    localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                    localStorage.setItem("Campo", "Contenedor");
                    localStorage.setItem("CampoBase", "ID_CONTENEDOR");

                    if ($('#Tb_Servicios tbody tr:eq(' + $(this).parent().index() + ') td:eq(' + $(this).parent().children().index($(this)) + ')').text() != "") {
                        $("#EditarContenedorInput").val($('#Tb_Servicios tbody tr:eq(' + $(this).parent().index() + ') td:eq(' + $(this).parent().children().index($(this)) + ')').text());
                        $("#IdServcioEditarContendor").val($('#Tb_Servicios tbody tr:eq(' + $(this).parent().index() + ') td:eq(5)').text());
                    }

                    $('#EditarSelloperno1').val("");
                    $('#EditarSelloperno2').val("");
                    $('#EditarTapa').val("");
                    $('#EditarDeposito').val("");
                    $('#EditarPais').val("");
                    $('#ColumnaConsignatarioEditar').hide();
                    $('#ColumnaNave1').hide();
                    $('#ColumnaNave2').hide();
                    $('#ColumnaNave3').hide();
                    $('#ColumnaViajeEditar').hide();
                    $('#ColumnaViajeEditar2').hide();
                    $('#ColumnaViajeEditar3').hide();
                    $('#ColumnaEtaNaveEditar').hide();
                    $('#ColumnaIniStackingEditar').hide();
                    $('#ColumnaFinStackingEditar').hide();
                    $('#ColumnaFreightforwarderEditar').hide();
                    $('#ColumnaEtdEditar').hide();
                    $('#ColumnaEtaPuertoEditar').hide();
                    $('#ColumnaPuertoOrigenEditar').hide();
                    $('#ColumnaPuertoDestinoEditar').hide();
                    $('#ColumnaBookingEditar').hide();
                    $('#ColumnaCommodityEditar').hide();
                    $('#ColumnaTemperaturaEditar').hide();
                    $('#ColumnaContenedorEditar').show();
                    $('#ColumnaControladorEditar').hide();
                    $('#ColumnaTipolugarcontroladorEditar').hide();
                    $('#ColumnaTecnicocontroladorEditar').hide();
                    $('#ColumnaTipolugarModemEditar').hide();
                    $('#ColumnaTecnicoModemEditar').hide();
                    $('#ColumnaFechaModemEditar').hide();
                    $('#ColumnaLlevaModemEditar').hide();
                    $('#ColumnaBateriaEditar').hide();
                    $('#ColumnaPrecintoEditar').hide();
                    $('#ColumnaCandadoEditar').hide();
                    $('#ColumnaSelloP1ServicioEditar').hide();
                    $('#ColumnaSelloP2ServicioEditar').hide();
                    $('#ColumnaObservacionesSellosEditar').hide();
                    $('#ColumnaSelloSecurityServicioEditar').hide();
                    $('#ColumnaHorallegadaEditar').hide();
                    $('#ColumnaHorasalidaEditar').hide();
                    $('#ColumnaTipolugarcortinaEditar').hide();
                    $('#ColumnaFechacontroladorEditar').hide();
                    $('#ColumnaFechacortinaEditar').hide();
                    $('#ColumnaPurafilEditar').hide();
                    $('#ColumnaTecnicocortinaEditar').hide();
                    $('#ColumnaFechagasificacionEditar').hide();
                    $('#ColumnaTipolugargasificacionEditar').hide();
                    $('#ColumnaGasesEditar').hide();
                    $('#ColumnaTenicogasificacionEditar').hide();
                    $('#ColumnaTratamientoEditar').hide();
                    $('#ColumnaFiltrosEditar').hide();
                    $('#ColumnaCalEditar').hide();
                    $('#ColumnaNotaServicioEditar').hide();
                    $('#ColumnaNotaLogisticaEditar').hide();
                    $('#ColumnaValidado').hide();
                    $('#ColumnaHabilitacion').hide();
                    $('#ColumnaModemEditar').hide();
                    $('#ColumnaValidacionPreZarpe').hide();
                    $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                    $('#ColumnaPosContenedorNave').hide();
                    $('.EditarCelda').hide();
                    $(".EditarBooking").hide();
                    $(".EditarRoleoBooking").hide();
                    $('#ColumnaGestionServicio').hide();
                    $('#EditarCeldas').trigger('click');
                }


            }else if (Cabecera == "SERVICIO CON MODEM") {

                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "LlevaModem");
                localStorage.setItem("CampoBase", "LLEVA_MODEM");

                if ($('#Tb_Servicios tbody tr:eq(' + $(this).parent().index() + ') td:eq(' + $(this).parent().children().index($(this)) + ')').text() != "") {
                    $("#EditarContenedorInput").val($('#Tb_Servicios tbody tr:eq(' + $(this).parent().index() + ') td:eq(' + $(this).parent().children().index($(this)) + ')').text());
                    $("#IdServcioEditarContendor").val($('#Tb_Servicios tbody tr:eq(' + $(this).parent().index() + ') td:eq(5)').text());
                }

                $('#EditarSelloperno1').val("");
                $('#EditarSelloperno2').val("");
                $('#EditarTapa').val("");
                $('#EditarDeposito').val("");
                $('#EditarPais').val("");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaLlevaModemEditar').show();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "CONTROLADOR") {
                if($('#Tb_Servicios tbody tr:eq(4) td:eq('+$(this).parent().index()+')').text() == "NOT RECOVERED"){
                    swal('Ups!', 'No es posible modificar controlador de un servicio que esta "NOT RECOVERED"', 'error');
                    return false;
                }else if($('#Tb_Servicios tbody tr:eq(4) td:eq('+$(this).parent().index()+')').text() == "RECOVERED"){
                    swal('Ups!', 'No es posible modificar controlador de un servicio que esta "RECOVERED"', 'error');
                    return false;
                }else if($('#Tb_Servicios tbody tr:eq(4) td:eq('+$(this).parent().index()+')').text() == "CANCELLED"){
                    swal('Ups!', 'No es posible modificar controlador de un servicio que esta "CANCELLED"', 'error');
                    return false;
                }else{
                    $('#quitarcontroladorDiv').hide();
                    $('#cambiarcontroladorDiv').hide();
                    $('#quitarControladorCheck').prop('checked', false);
                    $('#cambiarControladorCheck').prop('checked', false);
                    $('.EditarCelda').hide();

                    localStorage.setItem("Fila", $(this).parent().index());
                    localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                    localStorage.setItem("Campo", "Controlador");
                    localStorage.setItem("CampoBase", "ID_CONTROLADOR");

                    if ($('#Tb_Servicios tbody tr:eq(' + $(this).parent().index() + ') td:eq(' + $(this).parent().children().index($(this)) + ')').text() != "") {
                        $("#EditarControladorInput").val($('#Tb_Servicios tbody tr:eq(' + $(this).parent().index() + ') td:eq(' + $(this).parent().children().index($(this)) + ')').text());
                        $("#IdServcioEditarControlador").val($('#Tb_Servicios tbody tr:eq(' + $(this).parent().index() + ') td:eq(5)').text());
                        $("#IdEstadoServicioControlador").val($('#Tb_Servicios tbody tr:eq(' + $(this).parent().index() + ') td:eq(4)').text());
                    }


                    $("button[data-id=TipoNodoControlador]").css("background", "rgba(255, 0, 0, 0)");
                    $("button[data-id=NodoControlador]").css("background", "rgba(255, 0, 0, 0)");
                    if($('#Tb_Servicios tbody tr:eq('+$(this).parent().index()+') td:eq('+$(this).parent().children().index($(this))+')').text() != ""){
                        $('#LugarOrigen').show();
                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetTipoLugares", "TipoLugar")',
                            async: false,
                            success: function (response) {
                                var data = [];
                                var json = JSON.parse(response);
                                var cuenta = json.length;
                                var optionsAsString = "";
                                $('#TipoNodoControlador').empty();

                                for (var i = 0; i < cuenta; i++) {
                                    optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + "</option>";
                                }
                                $('#TipoNodoControlador').append(optionsAsString);
                                $('#TipoNodoControlador').selectpicker('refresh');
                            },
                        });
                    }else{
                        $('#LugarOrigen').hide();
                    }

                    $('#EditarControlador').val("");
                    $('#ColumnaConsignatarioEditar').hide();
                    $('#ColumnaNave1').hide();
                    $('#ColumnaNave2').hide();
                    $('#ColumnaNave3').hide();
                    $('#ColumnaViajeEditar').hide();
                    $('#ColumnaViajeEditar2').hide();
                    $('#ColumnaViajeEditar3').hide();
                    $('#ColumnaEtaNaveEditar').hide();
                    $('#ColumnaIniStackingEditar').hide();
                    $('#ColumnaFinStackingEditar').hide();
                    $('#ColumnaFreightforwarderEditar').hide();
                    $('#ColumnaEtdEditar').hide();
                    $('#ColumnaEtaPuertoEditar').hide();
                    $('#ColumnaPuertoOrigenEditar').hide();
                    $('#ColumnaPuertoDestinoEditar').hide();
                    $('#ColumnaBookingEditar').hide();
                    $('#ColumnaCommodityEditar').hide();
                    $('#ColumnaTemperaturaEditar').hide();
                    $('#ColumnaContenedorEditar').hide();
                    $('#ColumnaControladorEditar').show();
                    $('#ColumnaTipolugarcontroladorEditar').hide();
                    $('#ColumnaTecnicocontroladorEditar').hide();
                    $('#ColumnaTipolugarModemEditar').hide();
                    $('#ColumnaTecnicoModemEditar').hide();
                    $('#ColumnaFechaModemEditar').hide();
                    $('#ColumnaLlevaModemEditar').hide();
                    $('#ColumnaBateriaEditar').hide();
                    $('.EditarCelda').hide();
                    $('#ColumnaPrecintoEditar').hide();
                    $('#ColumnaCandadoEditar').hide();
                    $('#ColumnaSelloP1ServicioEditar').hide();
                    $('#ColumnaSelloP2ServicioEditar').hide();
                    $('#ColumnaObservacionesSellosEditar').hide();
                    $('#ColumnaSelloSecurityServicioEditar').hide();
                    $('#ColumnaHorallegadaEditar').hide();
                    $('#ColumnaHorasalidaEditar').hide();
                    $('#ColumnaTipolugarcortinaEditar').hide();
                    $('#ColumnaFechacontroladorEditar').hide();
                    $('#ColumnaFechacortinaEditar').hide();
                    $('#ColumnaPurafilEditar').hide();
                    $('#ColumnaTecnicocortinaEditar').hide();
                    $('#ColumnaFechagasificacionEditar').hide();
                    $('#ColumnaTipolugargasificacionEditar').hide();
                    $('#ColumnaGasesEditar').hide();
                    $('#ColumnaTenicogasificacionEditar').hide();
                    $('#ColumnaTratamientoEditar').hide();
                    $('#ColumnaFiltrosEditar').hide();
                    $('#ColumnaCalEditar').hide();
                    $('#ColumnaNotaServicioEditar').hide();
                    $('#ColumnaNotaLogisticaEditar').hide();
                    $('#ColumnaValidado').hide();
                    $('#ColumnaHabilitacion').hide();
                    $('#ColumnaModemEditar').hide();
                    $('#ColumnaValidacionPreZarpe').hide();
                    $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                    $('#ColumnaPosContenedorNave').hide();
                    $(".EditarBooking").hide();
                    $(".EditarRoleoBooking").hide();
                    $('#ColumnaGestionServicio').hide();
                    $('#EditarCeldas').trigger('click');
                }
            }else if(Cabecera == "MODEM") {
                if($('#Tb_Servicios tbody tr:eq(4) td:eq('+$(this).parent().index()+')').text() == "NOT RECOVERED"){
                    swal('Ups!', 'No es posible modificar Modem de un servicio que esta "NOT RECOVERED"', 'error');
                    return false;
                }else if($('#Tb_Servicios tbody tr:eq(4) td:eq('+$(this).parent().index()+')').text() == "RECOVERED"){
                    swal('Ups!', 'No es posible modificar Modem de un servicio que esta "RECOVERED"', 'error');
                    return false;
                }else if($('#Tb_Servicios tbody tr:eq(4) td:eq('+$(this).parent().index()+')').text() == "CANCELLED"){
                    swal('Ups!', 'No es posible modificar Modem de un servicio que esta "CANCELLED"', 'error');
                    return false;
                }else{
                    $('#quitarModemDiv').hide();
                    $('#cambiarModemDiv').hide();
                    $('#quitarModemCheck').prop('checked', false);
                    $('#cambiarModemCheck').prop('checked', false);
                    $('.EditarCelda').hide();

                    localStorage.setItem("Fila", $(this).parent().index());
                    localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                    localStorage.setItem("Campo", "Modem");
                    localStorage.setItem("CampoBase", "MODEM");

                    if ($('#Tb_Servicios tbody tr:eq(' + $(this).parent().index() + ') td:eq(' + $(this).parent().children().index($(this)) + ')').text() != "") {
                        $("#EditarModemInput").val($('#Tb_Servicios tbody tr:eq(' + $(this).parent().index() + ') td:eq(' + $(this).parent().children().index($(this)) + ')').text());
                        $("#IdServcioEditarModem").val($('#Tb_Servicios tbody tr:eq(' + $(this).parent().index() + ') td:eq(5)').text());
                        $("#IdEstadoServicioModem").val($('#Tb_Servicios tbody tr:eq(' + $(this).parent().index() + ') td:eq(4)').text());
                    }

                    $('#EditarModem').val("");
                    $('#ColumnaConsignatarioEditar').hide();
                    $('#ColumnaNave1').hide();
                    $('#ColumnaNave2').hide();
                    $('#ColumnaNave3').hide();
                    $('#ColumnaViajeEditar').hide();
                    $('#ColumnaViajeEditar2').hide();
                    $('#ColumnaViajeEditar3').hide();
                    $('#ColumnaEtaNaveEditar').hide();
                    $('#ColumnaIniStackingEditar').hide();
                    $('#ColumnaFinStackingEditar').hide();
                    $('#ColumnaFreightforwarderEditar').hide();
                    $('#ColumnaEtdEditar').hide();
                    $('#ColumnaEtaPuertoEditar').hide();
                    $('#ColumnaPuertoOrigenEditar').hide();
                    $('#ColumnaPuertoDestinoEditar').hide();
                    $('#ColumnaBookingEditar').hide();
                    $('#ColumnaCommodityEditar').hide();
                    $('#ColumnaTemperaturaEditar').hide();
                    $('#ColumnaContenedorEditar').hide();
                    $('#ColumnaControladorEditar').hide();
                    $('#ColumnaModemEditar').show();
                    $('#ColumnaTipolugarcontroladorEditar').hide();
                    $('#ColumnaTecnicocontroladorEditar').hide();
                    $('#ColumnaTipolugarModemEditar').hide();
                    $('#ColumnaTecnicoModemEditar').hide();
                    $('#ColumnaFechaModemEditar').hide();
                    $('#ColumnaLlevaModemEditar').hide();
                    $('#ColumnaBateriaEditar').hide();
                    $('.EditarCelda').hide();
                    $('#ColumnaPrecintoEditar').hide();
                    $('#ColumnaCandadoEditar').hide();
                    $('#ColumnaSelloP1ServicioEditar').hide();
                    $('#ColumnaSelloP2ServicioEditar').hide();
                    $('#ColumnaObservacionesSellosEditar').hide();
                    $('#ColumnaSelloSecurityServicioEditar').hide();
                    $('#ColumnaHorallegadaEditar').hide();
                    $('#ColumnaHorasalidaEditar').hide();
                    $('#ColumnaTipolugarcortinaEditar').hide();
                    $('#ColumnaFechacontroladorEditar').hide();
                    $('#ColumnaFechacortinaEditar').hide();
                    $('#ColumnaPurafilEditar').hide();
                    $('#ColumnaTecnicocortinaEditar').hide();
                    $('#ColumnaFechagasificacionEditar').hide();
                    $('#ColumnaTipolugargasificacionEditar').hide();
                    $('#ColumnaGasesEditar').hide();
                    $('#ColumnaTenicogasificacionEditar').hide();
                    $('#ColumnaTratamientoEditar').hide();
                    $('#ColumnaFiltrosEditar').hide();
                    $('#ColumnaCalEditar').hide();
                    $('#ColumnaNotaServicioEditar').hide();
                    $('#ColumnaNotaLogisticaEditar').hide();
                    $('#ColumnaValidado').hide();
                    $('#ColumnaHabilitacion').hide();
                    $('#ColumnaValidacionPreZarpe').hide();
                    $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                    $('#ColumnaPosContenedorNave').hide();
                    $(".EditarBooking").hide();
                    $(".EditarRoleoBooking").hide();
                    $('#ColumnaGestionServicio').hide();
                    $('#EditarCeldas').trigger('click');
                }
            }else if(Cabecera == "TIPO LUGAR INSTALACION CONTROLADOR") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Tipolugarcontrolador");
                localStorage.setItem("CampoBase", "ID_TIPOLUGARCONTROLADOR");
                $('#EditarLugarcontrolador').val("0");
                $('#EditarLugarcontrolador').selectpicker('refresh');
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').show();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetTipoLugares", "TipoLugar")',
                    async: false,
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        var optionsAsString = "";
                        $('#EditarTipolugarcontrolador').empty();

                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + "</option>";
                        }
                        $('#EditarTipolugarcontrolador').append(optionsAsString);
                        $('#EditarTipolugarcontrolador').selectpicker('refresh');
                    },
                });
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "TIPO LUGAR INSTALACION MODEM") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "TipolugarModem");
                localStorage.setItem("CampoBase", "ID_TIPOLUGARMODEM");
                $('#EditarLugarModem').val("0");
                $('#EditarLugarModem').selectpicker('refresh');
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').show();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetTipoLugares", "TipoLugar")',
                    async: false,
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        var optionsAsString = "";
                        $('#EditarTipolugarModem').empty();

                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + "</option>";
                        }
                        $('#EditarTipolugarModem').append(optionsAsString);
                        $('#EditarTipolugarModem').selectpicker('refresh');
                    },
                });
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "TECNICO INSTALADOR CONTROLADOR") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Tecnicocontrolador");
                localStorage.setItem("CampoBase", "ID_TECNICOCONTROLADOR");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').show();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetTecnicos", "Usuarios")',
                    async: false,
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        var optionsAsString = "";
                        $('#EditarTecnicocontrolador').empty();
                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].IdTecnico + "'>" + json[i].NombreTecnico + "</option>";
                        }
                        $('#EditarTecnicocontrolador').append(optionsAsString);
                        $('#EditarTecnicocontrolador').selectpicker('refresh');
                    },
                });
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }
            else if(Cabecera == "TECNICO INSTALADOR MODEM") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "TecnicoModem");
                localStorage.setItem("CampoBase", "ID_TECNICOMODEM");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTecnicoModemEditar').show();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetTecnicos", "Usuarios")',
                    async: false,
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        var optionsAsString = "";
                        $('#EditarTecnicoModem').empty();
                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].IdTecnico + "'>" + json[i].NombreTecnico + "</option>";
                        }
                        $('#EditarTecnicoModem').append(optionsAsString);
                        $('#EditarTecnicoModem').selectpicker('refresh');
                    },
                });
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "BATERIA") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Bateria");
                localStorage.setItem("CampoBase", "BATERIA");
                $('#EditarBateria').val("");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').show();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "PRECINTO SECURITY") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Precintosecurity");
                localStorage.setItem("CampoBase", "PRECINTOSECURITY");
                $('#EditarPrecintosecurity').val("");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaPrecintoEditar').show();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "CANDADO") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Candado");
                localStorage.setItem("CampoBase", "CANDADO");
                $('#EditarCandado').val("");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').show();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "SELLO P. 1 SERVICIO") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "SelloP1Servicio");
                localStorage.setItem("CampoBase", "SELLOP1SERVICIO");
                $('#EditarSelloP1Servicio').val("");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').show();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "SELLO P. 2 SERVICIO") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "SelloP2Servicio");
                localStorage.setItem("CampoBase", "SELLOP2SERVICIO");
                $('#EditarSelloP2Servicio').val("");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').show();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "SELLO SECURITY SERVICIO") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "SelloSecurityServicio");
                localStorage.setItem("CampoBase", "SELLOSECURITYSERVICIO");
                $('#EditarSelloSecurityServicio').val("");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').show();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "OBSERVACION SELLOS") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "ObservacionSellos");
                localStorage.setItem("CampoBase", "OBSERVACIONSELLOS");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').show();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "TIPO LUGAR POSTURA CORTINA") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Tipolugarcortina");
                localStorage.setItem("CampoBase", "ID_TIPOLUGARCORTINA");
                $('#EditarLugarcortina').val("0");
                $('#EditarLugarcortina').selectpicker('refresh');
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').show();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetTipoLugares", "TipoLugar")',
                    async: false,
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        var optionsAsString = "";
                        $('#EditarTipolugarcortina').empty();

                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + "</option>";
                        }
                        $('#EditarTipolugarcortina').append(optionsAsString);
                        $('#EditarTipolugarcortina').selectpicker('refresh');
                    },
                });
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "FECHA INSTALACION CONTROLADOR") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "FechaControlador");
                localStorage.setItem("CampoBase", "FECHACONTROLADOR");
                $('#EditarFechaControlador').val("");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').show();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "FECHA INSTALACION MODEM") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "FechaModem");
                localStorage.setItem("CampoBase", "FECHAMODEM");
                $('#EditarFechaModem').val("");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechaModemEditar').show();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "FECHA POSTURA CORTINA") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "FechaCortina");
                localStorage.setItem("CampoBase", "FECHACORTINA");
                $('#EditarFechaCortina').val("");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaFechacortinaEditar').show();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "CANTIDAD SACHET PURAFIL") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Purafil");
                localStorage.setItem("CampoBase", "PURAFILCORTINA");
                $('#EditarPurafil').val("");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').show();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "INSTALADOR CORTINA") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Tecnicocortina");
                localStorage.setItem("CampoBase", "TECNICOCORTINA");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').show();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "FECHA GASIFICACION") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Fechagasificacion");
                localStorage.setItem("CampoBase", "FECHAGASIFICACION");
                $('#EditarFechagasificacion').val("");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').show();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "TIPO LUGAR GASIFICACION") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Tipolugargasificacion");
                localStorage.setItem("CampoBase", "ID_TIPOLUGARGASIFICACION");
                $('#EditarLugargasificacion').val("0");
                $('#EditarLugargasificacion').selectpicker('refresh');
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').show();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetTipoLugares", "TipoLugar")',
                    async: false,
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        var optionsAsString = "";
                        $('#EditarTipolugargasificacion').empty();

                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + "</option>";
                        }
                        $('#EditarTipolugargasificacion').append(optionsAsString);
                        $('#EditarTipolugargasificacion').selectpicker('refresh');
                    },
                });
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "CANTIDAD CO2") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Cantidadco2");
                localStorage.setItem("CampoBase", "CO2GASIFICACION");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').show();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "TECNICO GASIFICADOR") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Tecnicogasificacion");
                localStorage.setItem("CampoBase", "ID_TECNICOGASIFICACION");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').show();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetTecnicos", "Usuarios")',
                    async: false,
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        var optionsAsString = "";
                        $('#EditarTecnicogasificacion').empty();
                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].IdTecnico + "'>" + json[i].NombreTecnico + "</option>";
                        }
                        $('#EditarTecnicogasificacion').append(optionsAsString);
                        $('#EditarTecnicogasificacion').selectpicker('refresh');
                    },
                });
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "TIPO TRATAMIENTO CO2") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Tratamiento");
                localStorage.setItem("CampoBase", "ID_TRATAMIENTOCO2");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').show();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetTratamientoCO2", "TratamientoCO2")',
                    async: false,
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarTratamiento').empty();
                        var optionsAsString = "";
                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + "</option>";
                        }
                        $('#EditarTratamiento').append(optionsAsString);
                        $('#EditarTratamiento').selectpicker('refresh');
                    },
                });
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "CANTIDAD FILTROS") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Cantidadfiltros");
                localStorage.setItem("CampoBase", "FILTROSCRUBBER");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').show();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "CANTIDAD CAL (KG)") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Cal");
                localStorage.setItem("CampoBase", "CANTIDADCALSCRUBBER");
                $('#EditarCal').val("");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').show();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "OBSERVACIONES") {

                if(@PerfilInterior == 1023 || @PerfilInterior == 1028){
                    swal('Ups!', 'Su perfil de usuario no puede agregar observaciones del servicio.', 'error');
                    return false;
                }
                else
                {
                    localStorage.setItem("Fila", $(this).parent().index());
                    localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                    localStorage.setItem("Campo", "Notaservicio");
                    localStorage.setItem("CampoBase", "NOTASERVICIO");
                    $('#ColumnaConsignatarioEditar').hide();
                    $('#ColumnaNave1').hide();
                    $('#ColumnaNave2').hide();
                    $('#ColumnaNave3').hide();
                    $('#ColumnaViajeEditar').hide();
                    $('#ColumnaViajeEditar2').hide();
                    $('#ColumnaViajeEditar3').hide();
                    $('#ColumnaEtaNaveEditar').hide();
                    $('#ColumnaIniStackingEditar').hide();
                    $('#ColumnaFinStackingEditar').hide();
                    $('#ColumnaFreightforwarderEditar').hide();
                    $('#ColumnaEtdEditar').hide();
                    $('#ColumnaEtaPuertoEditar').hide();
                    $('#ColumnaPuertoOrigenEditar').hide();
                    $('#ColumnaPuertoDestinoEditar').hide();
                    $('#ColumnaBookingEditar').hide();
                    $('#ColumnaCommodityEditar').hide();
                    $('#ColumnaTemperaturaEditar').hide();
                    $('#ColumnaContenedorEditar').hide();
                    $('#ColumnaControladorEditar').hide();
                    $('#ColumnaTipolugarcontroladorEditar').hide();
                    $('#ColumnaTecnicocontroladorEditar').hide();
                    $('#ColumnaBateriaEditar').hide();
                    $('#ColumnaCandadoEditar').hide();
                    $('#ColumnaPrecintoEditar').hide();
                    $('#ColumnaCandadoEditar').hide();
                    $('#ColumnaSelloP1ServicioEditar').hide();
                    $('#ColumnaSelloP2ServicioEditar').hide();
                    $('#ColumnaObservacionesSellosEditar').hide();
                    $('#ColumnaSelloSecurityServicioEditar').hide();
                    $('#ColumnaHorallegadaEditar').hide();
                    $('#ColumnaHorasalidaEditar').hide();
                    $('#ColumnaTipolugarcortinaEditar').hide();
                    $('#ColumnaFechacontroladorEditar').hide();
                    $('#ColumnaTipolugarModemEditar').hide();
                    $('#ColumnaTecnicoModemEditar').hide();
                    $('#ColumnaFechaModemEditar').hide();
                    $('#ColumnaLlevaModemEditar').hide();
                    $('#ColumnaFechacortinaEditar').hide();
                    $('#ColumnaPurafilEditar').hide();
                    $('#ColumnaTecnicocortinaEditar').hide();
                    $('#ColumnaFechagasificacionEditar').hide();
                    $('#ColumnaTipolugargasificacionEditar').hide();
                    $('#ColumnaGasesEditar').hide();
                    $('#ColumnaTenicogasificacionEditar').hide();
                    $('#ColumnaTratamientoEditar').hide();
                    $('#ColumnaFiltrosEditar').hide();
                    $('#ColumnaCalEditar').hide();
                    $('#ColumnaNotaServicioEditar').show();
                    $('#ColumnaNotaLogisticaEditar').hide();
                    $('#ColumnaValidado').hide();
                    $('#ColumnaHabilitacion').hide();
                    $('#ColumnaModemEditar').hide();
                    $('#ColumnaValidacionPreZarpe').hide();
                    $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                    $('#ColumnaPosContenedorNave').hide();
                    $(".EditarBooking").hide();
                    $(".EditarRoleoBooking").hide();
                    $('#ColumnaGestionServicio').hide();
                    $('#EditarCeldas').trigger('click');
                }

            }else if(Cabecera == "NOTA LOGISTICA") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Notalogistica");
                localStorage.setItem("CampoBase", "NOTALOGISTA");
                $('#EditarNotalogistica').val("SIN OBSERVACIONES");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').show();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "HABILITADO") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Habilitado");
                localStorage.setItem("CampoBase", "HABILITADO");
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#EditarHabilitado').val("-1");
                $('#EditarHabilitado').selectpicker('refresh');
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').show();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "VALIDACION PRE-ZARPE") {

                if($('#Tb_Servicios tbody tr:eq('+$(this).parent().index()+') td:eq(75)').text() == "NO - FALLÓ FAULT ANALYSIS"){
                    localStorage.setItem("Fila", $(this).parent().index());
                    localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                    localStorage.setItem("Campo", "ValidacionPreZarpe");
                    localStorage.setItem("CampoBase", "VALIDACIONPREZARPE");

                    $('#ColumnaConsignatarioEditar').hide();
                    $('#ColumnaNave1').hide();
                    $('#ColumnaNave2').hide();
                    $('#ColumnaNave3').hide();
                    $('#ColumnaViajeEditar').hide();
                    $('#ColumnaViajeEditar2').hide();
                    $('#ColumnaViajeEditar3').hide();
                    $('#ColumnaEtaNaveEditar').hide();
                    $('#ColumnaIniStackingEditar').hide();
                    $('#ColumnaFinStackingEditar').hide();
                    $('#ColumnaFreightforwarderEditar').hide();
                    $('#ColumnaEtdEditar').hide();
                    $('#ColumnaEtaPuertoEditar').hide();
                    $('#ColumnaPuertoOrigenEditar').hide();
                    $('#ColumnaPuertoDestinoEditar').hide();
                    $('#ColumnaBookingEditar').hide();
                    $('#ColumnaCommodityEditar').hide();
                    $('#ColumnaTemperaturaEditar').hide();
                    $('#ColumnaContenedorEditar').hide();
                    $('#ColumnaControladorEditar').hide();
                    $('#ColumnaTipolugarcontroladorEditar').hide();
                    $('#ColumnaTecnicocontroladorEditar').hide();
                    $('#ColumnaTipolugarModemEditar').hide();
                    $('#ColumnaTecnicoModemEditar').hide();
                    $('#ColumnaFechaModemEditar').hide();
                    $('#ColumnaLlevaModemEditar').hide();
                    $('#ColumnaBateriaEditar').hide();
                    $('#ColumnaCandadoEditar').hide();
                    $('#ColumnaPrecintoEditar').hide();
                    $('#ColumnaCandadoEditar').hide();
                    $('#ColumnaSelloP1ServicioEditar').hide();
                    $('#ColumnaSelloP2ServicioEditar').hide();
                    $('#ColumnaObservacionesSellosEditar').hide();
                    $('#ColumnaSelloSecurityServicioEditar').hide();
                    $('#ColumnaHorallegadaEditar').hide();
                    $('#ColumnaHorasalidaEditar').hide();
                    $('#ColumnaTipolugarcortinaEditar').hide();
                    $('#ColumnaFechacontroladorEditar').hide();
                    $('#ColumnaFechacortinaEditar').hide();
                    $('#ColumnaPurafilEditar').hide();
                    $('#ColumnaTecnicocortinaEditar').hide();
                    $('#ColumnaFechagasificacionEditar').hide();
                    $('#ColumnaTipolugargasificacionEditar').hide();
                    $('#ColumnaGasesEditar').hide();
                    $('#ColumnaTenicogasificacionEditar').hide();
                    $('#ColumnaTratamientoEditar').hide();
                    $('#ColumnaFiltrosEditar').hide();
                    $('#ColumnaCalEditar').hide();
                    $('#ColumnaNotaServicioEditar').hide();
                    $('#ColumnaNotaLogisticaEditar').hide();
                    $('#EditarHabilitado').val("-1");
                    $('#EditarHabilitado').selectpicker('refresh');
                    $('#ColumnaValidado').hide();
                    $('#ColumnaHabilitacion').hide();
                    $('#ColumnaValidacionPreZarpe').show();
                    $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                    $('#ColumnaModemEditar').hide();
                    $('#ColumnaPosContenedorNave').hide();
                    $(".EditarCelda").show();
                    $(".EditarBooking").hide();
                    $(".EditarRoleoBooking").hide();
                    $('#ColumnaGestionServicio').hide();
                    $('#EditarCeldas').trigger('click');
                }
                else{
                    swal('Ups!', 'No es posible editar la validación prezarpe, solo se puede editar cuando su valor es: NO - FALLÓ FAULT ANALYSIS', 'error');
                    return false;
                }

            }else if(Cabecera == "FECHA ULT. VALIDACION PRE-ZARPE") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "FechaValidacionPreZarpe");
                localStorage.setItem("CampoBase", "FECHAVALIDACIONPREZARPE");

                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#EditarHabilitado').val("-1");
                $('#EditarHabilitado').selectpicker('refresh');
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').show();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "POS. CONTENEDOR NAVE") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "PosContenedorNave");
                localStorage.setItem("CampoBase", "POSCONTENEDORNAVE");

                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaViajeEditar2').hide();
                $('#ColumnaViajeEditar3').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSelloP1ServicioEditar').hide();
                $('#ColumnaSelloP2ServicioEditar').hide();
                $('#ColumnaObservacionesSellosEditar').hide();
                $('#ColumnaSelloSecurityServicioEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#EditarHabilitado').val("-1");
                $('#EditarHabilitado').selectpicker('refresh');
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaPosContenedorNave').show();
                $(".EditarCelda").show();
                $(".EditarBooking").hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "BOOKING") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                localStorage.setItem("Campo", "Booking");
                localStorage.setItem("CampoBase", "BOOKING");

                $("#NavieraBooking").val();
                $("#PuertoOrigenBooking").val();
                $("#PuertoDestinoBooking").val();
                $("#NaveBooking").val();
                $("#ExportadorBooking").val();
                $("#IniStackingBooking").val();
                $("#FinStackingBooking").val();
                $("#FreightforwarderBooking").val();
                $("#ViajeBooking").val();
                $("#ConsiganatarioBooking").val();
                $("#EtdnaveBooking").val();
                $("#CommodityBooking").val();
                $("#SetpointBooking").val();
                $("#TemperaturaBooking").val();
                $("#EtapuertoBooking").val();
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').show();
                $('.EditarCelda').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSellosEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $('.EditarCelda').hide();
                $('.EditarBooking').hide();
                $('#DatosReserva').hide();
                $('#DatosReservaEditar').hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "ULTIMA GESTION REALIZADA") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                var servicio = $('#Tb_Servicios tbody tr:eq('+$(this).parent().index()+') td:eq(5)').text()
                localStorage.setItem("Campo", "GestionServicio");
                localStorage.setItem("CampoBase", "GestionServicio");

                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetGestion", "Reservas")',
                    data: {idServicio : servicio},
                    async: false,
                    success: function (response) {
                        if(response != ""){
                            $('#EditarGestionServicio').val(response);
                        }else{
                            $('#EditarGestionServicio').val("");
                        }

                    },
                });

                $("#NavieraBooking").val();
                $("#PuertoOrigenBooking").val();
                $("#PuertoDestinoBooking").val();
                $("#NaveBooking").val();
                $("#ExportadorBooking").val();
                $("#IniStackingBooking").val();
                $("#FinStackingBooking").val();
                $("#FreightforwarderBooking").val();
                $("#ViajeBooking").val();
                $("#ConsiganatarioBooking").val();
                $("#EtdnaveBooking").val();
                $("#CommodityBooking").val();
                $("#SetpointBooking").val();
                $("#TemperaturaBooking").val();
                $("#EtapuertoBooking").val();
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('.EditarCelda').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSellosEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $('.EditarCelda').show();
                $('.EditarBooking').hide();
                $('#DatosReserva').hide();
                $('#DatosReservaEditar').hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').show();
                $('#EditarCeldas').trigger('click');
            }else if(Cabecera == "DEPOSITO") {
                localStorage.setItem("Fila", $(this).parent().index());
                localStorage.setItem("Columna", $(this).parent().children().index($(this)));
                var servicio = $('#Tb_Servicios tbody tr:eq('+$(this).parent().index()+') td:eq(5)').text()
                localStorage.setItem("Campo", "Deposito2");
                localStorage.setItem("CampoBase", "Deposito2");

                //OBTENER DEPOSITOS
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetDepositosActivos", "Deposito")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#EditarDeposito2').append(optionsAsString);
                            $('#EditarDeposito2').selectpicker('refresh');
                        }
                    },
                });
                //OBTENER DEPOSITOS

                $("#NavieraBooking").val();
                $("#PuertoOrigenBooking").val();
                $("#PuertoDestinoBooking").val();
                $("#NaveBooking").val();
                $("#ExportadorBooking").val();
                $("#IniStackingBooking").val();
                $("#FinStackingBooking").val();
                $("#FreightforwarderBooking").val();
                $("#ViajeBooking").val();
                $("#ConsiganatarioBooking").val();
                $("#EtdnaveBooking").val();
                $("#CommodityBooking").val();
                $("#SetpointBooking").val();
                $("#TemperaturaBooking").val();
                $("#EtapuertoBooking").val();
                $('#ColumnaConsignatarioEditar').hide();
                $('#ColumnaNave1').hide();
                $('#ColumnaNave2').hide();
                $('#ColumnaNave3').hide();
                $('#ColumnaViajeEditar').hide();
                $('#ColumnaEtaNaveEditar').hide();
                $('#ColumnaIniStackingEditar').hide();
                $('#ColumnaFinStackingEditar').hide();
                $('#ColumnaFreightforwarderEditar').hide();
                $('#ColumnaEtdEditar').hide();
                $('#ColumnaEtaPuertoEditar').hide();
                $('#ColumnaPuertoOrigenEditar').hide();
                $('#ColumnaPuertoDestinoEditar').hide();
                $('#ColumnaBookingEditar').hide();
                $('.EditarCelda').hide();
                $('#ColumnaCommodityEditar').hide();
                $('#ColumnaTemperaturaEditar').hide();
                $('#ColumnaContenedorEditar').hide();
                $('#ColumnaControladorEditar').hide();
                $('#ColumnaTipolugarcontroladorEditar').hide();
                $('#ColumnaTecnicocontroladorEditar').hide();
                $('#ColumnaTipolugarModemEditar').hide();
                $('#ColumnaTecnicoModemEditar').hide();
                $('#ColumnaFechaModemEditar').hide();
                $('#ColumnaLlevaModemEditar').hide();
                $('#ColumnaBateriaEditar').hide();
                $('#ColumnaPrecintoEditar').hide();
                $('#ColumnaCandadoEditar').hide();
                $('#ColumnaSellosEditar').hide();
                $('#ColumnaHorallegadaEditar').hide();
                $('#ColumnaHorasalidaEditar').hide();
                $('#ColumnaTipolugarcortinaEditar').hide();
                $('#ColumnaFechacontroladorEditar').hide();
                $('#ColumnaFechacortinaEditar').hide();
                $('#ColumnaPurafilEditar').hide();
                $('#ColumnaTecnicocortinaEditar').hide();
                $('#ColumnaFechagasificacionEditar').hide();
                $('#ColumnaTipolugargasificacionEditar').hide();
                $('#ColumnaGasesEditar').hide();
                $('#ColumnaTenicogasificacionEditar').hide();
                $('#ColumnaTratamientoEditar').hide();
                $('#ColumnaFiltrosEditar').hide();
                $('#ColumnaCalEditar').hide();
                $('#ColumnaNotaServicioEditar').hide();
                $('#ColumnaNotaLogisticaEditar').hide();
                $('#ColumnaValidado').hide();
                $('#ColumnaHabilitacion').hide();
                $('#ColumnaValidacionPreZarpe').hide();
                $('#ColumnaFechaValidacionPreZarpeEditar').hide();
                $('#ColumnaModemEditar').hide();
                $('#ColumnaPosContenedorNave').hide();
                $('.EditarCelda').show();
                $('.EditarBooking').hide();
                $('#DatosReserva').hide();
                $('#DatosReservaEditar').hide();
                $(".EditarRoleoBooking").hide();
                $('#ColumnaGestionServicio').hide();
                $('#ColumnaDeposito').show();
                $('#EditarCeldas').trigger('click');
            }
    });

    $("#EditarCelda").click(function () {
        var fila = localStorage.getItem("Fila");
        var Columna = localStorage.getItem("Columna");
        var dato = $("#Editar"+localStorage.getItem("Campo")).val();

        if(localStorage.getItem("Campo") == "Commodity"){
            if($("#EditarSetpoint").val() == "0" || $("#EditarSetpoint").val() == null){
                swal('Ups!', 'Debe seleccionar un dato.', 'error');
                return false;
            }
        }else if(localStorage.getItem("Campo") == "Tipolugarcontrolador"){
            if($("#EditarLugarcontrolador").val() == "0" || $("#EditarLugarcontrolador").val() == null){
                swal('Ups!', 'Debe seleccionar un dato.', 'error');
                return false;
            }
        }else if(localStorage.getItem("Campo") == "Contenedor"){
            if($("#EditarContenedor").val() == "0" || $("#EditarContenedor").val() == null){
                swal('Ups!', 'Debe seleccionar un dato.', 'error');
                return false;
            }
        }else if(localStorage.getItem("Campo") == "Controlador"){
            if ($("#LugarOrigen").is(':visible')) {
                if($("#TipoNodoControlador").val() != "0"){
                    $("button[data-id=TipoNodoControlador]").css("background", "rgba(255, 0, 0, 0)");
                    if($("#NodoControlador").val() == "0"){
                        $("button[data-id=NodoControlador]").css("background", "rgba(255, 0, 0, 0.4)");
                        return false;
                    }
                }else{
                    $("button[data-id=TipoNodoControlador]").css("background", "rgba(255, 0, 0, 0.4)");
                    return false;
                }
            }
        }else if(localStorage.getItem("Campo") == "EtaNave"){
            if($("#EditarEtaNave").val() == "" || $("#EditarEtaNave").val() == null){
                swal('Ups!', 'Debe ingresar Eta Nave.', 'error');
                return false;
            }
        }else if(localStorage.getItem("Campo") == "IniStacking"){
            if($("#EditarIniStacking").val() == "" || $("#EditarIniStacking").val() == null){
                swal('Ups!', 'Debe ingresar Inicio Stacking.', 'error');
                return false;
            }
        }else if(localStorage.getItem("Campo") == "FinStacking"){
            if($("#EditarFinStacking").val() == "" || $("#EditarFinStacking").val() == null){
                swal('Ups!', 'Debe ingresar Termino Stacking.', 'error');
                return false;
            }
        }else if(localStorage.getItem("Campo") == "Etd"){
            if($("#EditarEtd").val() == "" || $("#EditarEtd").val() == null){
                swal('Ups!', 'Debe ingresar Etd.', 'error');
                return false;
            }
        }else if(localStorage.getItem("Campo") == "EtaPuerto"){
            if($("#EditarEtaPuerto").val() == "" || $("#EditarEtaPuerto").val() == null){
                swal('Ups!', 'Debe ingresar Eta Puerto.', 'error');
                return false;
            }
        }else if(localStorage.getItem("Campo") == "PosContenedorNave"){
            if($("#EditarPosContenedorNave").val() != "-1"){
                $("button[data-id=EditarPosContenedorNave]").css("background", "rgba(255, 0, 0, 0)");
            }else
            {
                $("button[data-id=EditarPosContenedorNave]").css("background", "rgba(255, 0, 0, 0.4)");
                return false;
            }
        }else if(localStorage.getItem("Campo") == "ValidacionPreZarpe"){
            if($("#EditarValidacionPreZarpe").val() != "-1"){
                $("button[data-id=EditarValidacionPreZarpe]").css("background", "rgba(255, 0, 0, 0)");
            }else
            {
                $("button[data-id=EditarValidacionPreZarpe]").css("background", "rgba(255, 0, 0, 0.4)");
                return false;
            }
        }else if(localStorage.getItem("Campo") == "LlevaModem"){
            if($("#EditarLlevaModem").val() != "-1"){
                $("button[data-id=EditarLlevaModem]").css("background", "rgba(255, 0, 0, 0)");
            }else
            {
                $("button[data-id=EditarLlevaModem]").css("background", "rgba(255, 0, 0, 0.4)");
                return false;
            }
        }

        //$('#Tb_Servicios tbody tr:eq('+fila+') td:eq('+Columna+')').text(dato);
        $.ajax({
            type: "POST",
            url: '@Url.Action("EditarCelda", "Reservas")',
            data: {
                IdServicio : $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(5)').text(),
                Campo : localStorage.getItem("Campo"),
                Valor : dato.toString(),
                Columna : localStorage.getItem("CampoBase"),
                IdSetpoint : $("#EditarSetpoint").val(),
                IdLugarControlador : $("#EditarLugarcontrolador").val(),
                IdLugarCortina : $("#EditarLugarcortina").val(),
                IdLugarGasificacion : $("#EditarLugargasificacion").val(),
                IdTipoNodoControladorOrigen : $("#TipoNodoControlador").val(),
                IdNodoControladorOrigen : $("#NodoControlador").val(),
                IdLugarModem: $("#EditarLugarModem").val(),
            },
            success: function (response) {
                var json = JSON.parse(response);
                if (json.validador == 0 || json.validador == 2) {
                    $("#guardadocorrectamente").show();
                    if($("#Editar"+localStorage.getItem("Campo")+" option:selected").text() == ""){
                        if(localStorage.getItem("Campo") == "Controlador"){
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq('+Columna+')').text(dato);
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(4)').text("ON SERVICE TRIP");
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(39)').text(getCurrentDate());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(74)').text("POR VALIDAR");
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(78)').text("POR VALIDAR");
                            if( $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "BLUEBERRIES" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "GRAPES" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "NECTARINES" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "PEACHES" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "PLUMS" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "KHAKI" ){
                                $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(66)').text(getCurrentDate());
                            }
                            $('#Tb_Servicios tbody tr:eq(' + fila + ') td').css("background-color", "rgba(255, 0, 0, 0.4)");
                        }else if(localStorage.getItem("Campo") == "Modem"){
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq('+Columna+')').text(dato);
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(45)').text(getCurrentDate());
                        }else if(localStorage.getItem("Campo") == "FechaControlador"){
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq('+Columna+')').text(dato);
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(39)').text($("#EditarFechaControlador").val());
                            if( $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "BLUEBERRIES" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "GRAPES" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "NECTARINES" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "PEACHES" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "PLUMS" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "KHAKI" ){
                                $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(66)').text($("#EditarFechaControlador").val());
                            }

                            var Habilitacion = ValidarHabilitacion($("#EditarFechaControlador").val());

                            if(Habilitacion == 0){
                                $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(76)').text('YES');
                            }else{
                                $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(76)').text('NO');
                            }

                        }else if(localStorage.getItem("Campo") == "GestionServicio"){
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq('+Columna+')').text(strtrunc(dato,40));

                            var today = new Date();
                            var dd = today.getDate();
                            var mm = today.getMonth() + 1; //January is 0!

                            var yyyy = today.getFullYear();
                            if (dd < 10) {
                                dd = '0' + dd;
                            }
                            if (mm < 10) {
                                mm = '0' + mm;
                            }
                            var today = dd + '-' + mm + '-' + yyyy + " "+ today.getHours() + ':' + today.getHours() ;
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(38)').text(today);
                        }else{
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq('+Columna+')').text(dato);
                        }
                    }else{
                        if(localStorage.getItem("Campo") == "Commodity"){
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq('+Columna+')').text($("#Editar"+localStorage.getItem("Campo")+" option:selected").text());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(21)').text($("#EditarSetpoint option:selected").text());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(74)').text("POR VALIDAR");
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(78)').text("POR VALIDAR");
                        }else if(localStorage.getItem("Campo") == "Contenedor"){
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq('+Columna+')').text($("#Editar"+localStorage.getItem("Campo")+" option:selected").text());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(53)').text($("#EditarSelloperno1").val());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(54)').text($("#EditarSelloperno2").val());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(55)').text($("#EditarSelloTapa").val());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(32)').text($("#EditarPais").val());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(33)').text($("#EditarDeposito").val());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(74)').text("POR VALIDAR");
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(78)').text("POR VALIDAR");

                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(13)').text($("#EditarModemLeak").val());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(10)').text($("#EditarControladorLeak").val());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(40)').text($("#EditarBateriaLeak").val());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(42)').text($("#EditarTipoLugarLeak").val());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(43)').text($("#EditarLugarLeak").val());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(44)').text($("#EditarTecnicoLeak").val());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(46)').text($("#EditarBateriaModemLeak").val());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(48)').text($("#EditarTipoLugarLeak").val());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(49)').text($("#EditarLugarLeak").val());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(50)').text($("#EditarTecnicoLeak").val());

                            if (json.validador == 2) {
                                $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(1)').text("CONTENEDOR SIN SCRUBBER");
                                $('#Tb_Servicios tbody tr:eq(' + fila + ') td').css("background-color", "rgba(255,255,0)");
                            }

                            @*$.ajax({
                                type: "POST",
                                url: '@Url.Action("EditarDepositoServicio", "Reservas")',
                                async : false,
                                data: {
                                    IdServicio : $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(5)').text(),
                                    Pais: $("#EditarPais").val(),
                                    Deposito : $("#EditarDeposito").val()
                                },
                                success: function () {
                                    $("#guardadocorrectamente").show();
                                }
                            });*@
                        }else if(localStorage.getItem("Campo") == "Tipolugarcontrolador"){
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq('+Columna+')').text($("#Editar"+localStorage.getItem("Campo")+" option:selected").text());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(43)').text($("#EditarLugarcontrolador option:selected").text());
                            if( $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "BLUEBERRIES" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "GRAPES" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "NECTARINES" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "PEACHES" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "PLUMS" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "KHAKI" ){
                                $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(67)').text($("#Editar"+localStorage.getItem("Campo")+" option:selected").text());
                                $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(68)').text($("#EditarLugarcontrolador option:selected").text());
                            }
                        }else if(localStorage.getItem("Campo") == "TipolugarModem"){
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq('+Columna+')').text($("#Editar"+localStorage.getItem("Campo")+" option:selected").text());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(49)').text($("#EditarLugarModem option:selected").text());
                        }else if(localStorage.getItem("Campo") == "Tipolugarcortina"){
                            $.ajax({
                                type: "POST",
                                url: '@Url.Action("GetNombrePais", "Paises")',
                                async : false,
                                data: {
                                    TipoLugar : dato,
                                    Lugar : $("#EditarLugarcortina").val()
                                },
                                success: function (response2) {
                                    $('#Tb_Servicios tbody tr:eq('+fila+') td:eq('+Columna+')').text($("#Editar"+localStorage.getItem("Campo")+" option:selected").text());
                                    $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(63)').text($("#EditarLugarcortina option:selected").text());
                                    $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(61)').text(JSON.parse(response2).Nombre);
                                }
                            });
                        }else if(localStorage.getItem("Campo") == "Tipolugargasificacion"){
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq('+Columna+')').text($("#Editar"+localStorage.getItem("Campo")+" option:selected").text());
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(68)').text($("#EditarLugargasificacion option:selected").text());
                        }else if(localStorage.getItem("Campo") == "PuertoOrigen"){
                            $.ajax({
                                type: "POST",
                                url: '@Url.Action("GetNombreContienenteByPuerto", "Paises")',
                                async : false,
                                data: {
                                    Puerto : dato,
                                },
                                success: function (response1) {
                                    $('#Tb_Servicios tbody tr:eq('+fila+') td:eq('+Columna+')').text($("#Editar"+localStorage.getItem("Campo")+" option:selected").text());
                                    $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(34)').text(JSON.parse(response1).Nombre);
                                }
                            });
                        }else if(localStorage.getItem("Campo") == "PuertoDestino"){
                            $.ajax({
                                type: "POST",
                                url: '@Url.Action("GetNombreContienenteByPuerto", "Paises")',
                                async : false,
                                data: {
                                    Puerto : dato,
                                },
                                success: function (response1) {
                                    $('#Tb_Servicios tbody tr:eq('+fila+') td:eq('+Columna+')').text($("#Editar"+localStorage.getItem("Campo")+" option:selected").text());
                                    $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(36)').text(JSON.parse(response1).Nombre);
                                }
                            });
                        }else if(localStorage.getItem("Campo") == "Tecnicocontrolador"){
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq('+Columna+')').text($("#Editar"+localStorage.getItem("Campo")+" option:selected").text());
                            if( $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "BLUEBERRIES" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "GRAPES" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "NECTARINES" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "PEACHES" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "PLUMS" || $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(20)').text() == "KHAKI" ){
                                $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(69)').text($("#Editar"+localStorage.getItem("Campo")+" option:selected").text());
                            }
                        }else{
                            $('#Tb_Servicios tbody tr:eq('+fila+') td:eq('+Columna+')').text($("#Editar"+localStorage.getItem("Campo")+" option:selected").text());
                        }
                    }
                }
            }
        });
        $('.closeCelda').trigger('click');
    });

    //AGREGAR RESERVA
        $("#AgregarReserva").click(function () {
            var url = '@Url.Action("CrearReservas", "Reservas")';
            window.location.href = url;
        });
    //AGREGAR RESERVA

    //EDITAR RESERVA
    $("#CancelarServicio").click(function () {

        var Bookings = [];
        var Servicios = [];
        var count = 0;
        var cuenta = $("#Tb_Servicios tbody tr").length;

        $("#Tb_Servicios tbody tr").each(function () {
            if ($(this).find(".dt-checkboxes").is(":checked")) {
                var booking = $(this).find("td:eq(9)").html();
                if ($(this).find("td:eq(2)").html() != "CANCELLED") {
                    var validar = ValidarBooking(Bookings, booking);
                    if (validar == 0) {
                        Bookings.push(booking);
                        Servicios.push($(this).find("td:eq(5)").html());
                    } else {
                        Bookings = [];
                        swal('Ups!', 'No puede cancelar servicios de bookings distintos.', 'error');
                        return false;
                    }
                } else {
                    Bookings = [];
                    swal('Ups!', 'Solo puede cancelar Servicios con estado distinto a CANCELADO.', 'error');
                    return false;
                }
            } else {
                count = count + 1;
                if (count == cuenta) {
                    Bookings = [];
                    swal('Ups!', 'Debe seleccionar al menos un registro.', 'error');
                    return false;
                }
            }
        });

        if (Bookings.length != 0) {
            localStorage.setItem("Servicios", JSON.stringify(Servicios));
            Lista = JSON.parse(localStorage.getItem("Servicios"));
            swal({
                title: 'Advertencia',
                customClass: 'cancelarservicio',
                text: '¿Estas seguro que deseas cancelar ' + Lista.length + ' servicios?',
                type: 'warning',
                html:   '<div><b><h3>¿Estas seguro que deseas cancelar ' + Lista.length + ' servicios?</h3></b></div>'+
                        '<div class="row" id="contenedordatos">'+
                                '<div class="col-lg-6" style="text-align:center">'+
                                   '<label class="checkbox-inline">'+
                                        '<input type="checkbox" id="Confirmado" class="Confirmado">Confirmado por Naviera'+
                                    '</label>'+
                                '</div>'+
                                '<div class="col-lg-6" style="text-align:center">'+
                                    '<label class="checkbox-inline">'+
                                        '<input type="checkbox" id="Noconfirmado" class="Noconfirmado"> No Confirmado'+
                                    '</label>'+
                                '</div>'+
                            '</div>',
                showCancelButton: true,
                confirmButtonColor: '#d33',
                cancelButtonColor: '#3085d6',
                confirmButtonText: 'Si, Cancelar',
                cancelButtonText: 'No, Cerrar'
            }).then((result) => {
                var Lista = JSON.parse(localStorage.getItem("Servicios"));
                var confirmado = 0;
                if($(".Noconfirmado").prop("checked")){
                    var confirmado = 1;
                }else if ($(".Confirmado").prop("checked")){
                    var confirmado = 0;
                }
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("CancelarServicios", "Reservas")',
                    data: {
                        Servicios: Lista,
                        Confirmado :confirmado
                    },
                    success: function (response) {
                        var json = JSON.parse(response);
                        if (json.validador == 0) {
                            var aux = 'success';
                        } else {
                            var aux = 'warning';
                        }
                        swal({
                            title: '',
                            text: json.Mensaje,
                            type: aux,
                            showCancelButton: false,
                            confirmButtonColor: '#3085d6',
                            cancelButtonColor: '#d33',
                            confirmButtonText: 'Aceptar'
                        }).then((result) => {
                            location.reload();
                        })
                    }
                });
            })
        }

        $('.Confirmado').change(function () {
            if ($(this).prop("checked")) {
                $('.Noconfirmado').prop('checked', false);
            }
        });

        $('.Noconfirmado').change(function () {
            if ($(this).prop("checked")) {
                $('.Confirmado').prop('checked', false);
            }
        });
    });
    //EDITAR RESERVA

    $("#DescancelarServicio").click(function () {
        var Bookings = [];
        var Servicios = [];
        var count = 0;
        var cuenta = $("#Tb_Servicios tbody tr").length;

        $("#Tb_Servicios tbody tr").each(function () {
            if ($(this).find(".dt-checkboxes").is(":checked")) {
                var booking = $(this).find("td:eq()").html();
                if ($(this).find("td:eq(4)").html() == "CANCELLED") {
                    var validar = ValidarBooking(Bookings, booking);

                    if (validar == 0) {
                        Bookings.push(booking);
                        Servicios.push($(this).find("td:eq(5)").html());
                    } else {
                        Bookings = [];
                        swal('Ups!', 'No puede descancelar servicios de bookings distintos.', 'error');
                        return false;
                    }
                } else {
                    Bookings = [];
                    swal('Ups!', 'Solo puede descancelar Servicios con estado CANCELADO.', 'error');
                    return false;
                }

            } else {
                count = count + 1;
                if (count == cuenta) {
                    Bookings = [];
                    swal('Ups!', 'Debe seleccionar al menos un registro.', 'error');
                    return false;
                }
            }
        });

        if (Bookings.length != 0) {
            localStorage.setItem("Servicios", JSON.stringify(Servicios));
            Lista = JSON.parse(localStorage.getItem("Servicios"));
            swal({
                title: 'Advertencia',
                text: '¿Estas seguro que deseas descancelar ' + Lista.length + ' servicios?',
                type: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Aceptar'
            }).then((result) => {
                var Lista = JSON.parse(localStorage.getItem("Servicios"));
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("DescancelarServicios", "Reservas")',
                    data: {
                        Servicios: Lista
                    },
                    success: function (response) {
                        var json = JSON.parse(response);
                        if (json.validador == 0) {
                            var aux = 'success';
                        } else {
                            var aux = 'warning';
                        }
                        swal({
                            title: '',
                            text: json.Mensaje,
                            type: aux,
                            showCancelButton: false,
                            confirmButtonColor: '#3085d6',
                            cancelButtonColor: '#d33',
                            confirmButtonText: 'Aceptar'
                        }).then((result) => {
                            location.reload();
                        })
                    }
                });
            })
        }
    });

    //EDITAR RESERVA
    $("#EliminarServicio").click(function () {
        var Bookings = [];
        var Servicio = [];
        var count = 0;
        var cuenta = $("#Tb_Servicios tbody tr").length;
        var estado=0;

        $("#Tb_Servicios tbody tr").each(function () {
            if ($(this).find(".dt-checkboxes").is(":checked")) {
                if($(this).find("td:eq(4)").html()!="ON SERVICE TRIP")
                {
                    Servicio.push($(this).find("td:eq(5)").html());
                    localStorage.setItem("Lista1", JSON.stringify(Servicio));
                }else
                {
                    estado=1;
                }

            }else{
                count = count + 1;
            }
        });

        if(count!=cuenta){
            if(estado==1)
            {
                swal('Ups!', 'No puedes eliminar un servicio en viaje', 'error');
                return false;
            }else
            {
                if(count<cuenta-1)
                {
                    swal('Ups!', 'No puedes eliminar mas de un servicio a la vez', 'error');
                    return false;
                }else
                {
                    swal({
                        title: 'Advertencia',
                        text: '¿Estas seguro que deseas eliminar el servicio?',
                        type: 'warning',
                        showCancelButton: true,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'Aceptar'
                    }).then((result) => {
                        var Lista = JSON.parse(localStorage.getItem("Lista1"));
                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("EliminarServicios", "Reservas")',
                            data: {
                                Servicios : Lista
                            },
                            success: function (response) {
                                var json = JSON.parse(response);
                                if (json.validador == 0) {
                                    var aux = 'success';
                                } else {
                                    var aux = 'warning';
                                }
                                swal({
                                    title: '',
                                    text: json.Mensaje,
                                    type: aux,
                                    showCancelButton: false,
                                    confirmButtonColor: '#3085d6',
                                    cancelButtonColor: '#d33',
                                    confirmButtonText: 'Aceptar'
                                }).then((result) => {
                                    location.reload();
                                })
                            }
                        });
                    })

                }
            }

        }else{
            swal('Ups!', 'Debe seleccionar al menos un registro.', 'error');
            return false;
        }
    });
    //EDITAR RESERVA

    //EDITAR COLUMNA DE RESERVA SELECCIONADA
        $("#EditarDatos").click(function () {
            if($("#columnaseditar").val() == "1" && $("#Naviera").val() == "0"){
                swal('Ups!', 'Campo Naviera Obligatorio.', 'error');
                return false;
            }else if($("#columnaseditar").val() == "2" && $("#Nave").val() == "0"){
                swal('Ups!', 'Campo Nave Obligatorio.', 'error');
                return false;
            }else if($("#columnaseditar").val() == "3" && ($("#Exportador").val() == "0" || $("#Exportador").val() == null)){
                swal('Ups!', 'Campo Exportador Obligatorio.', 'error');
                return false;
            }else if($("#columnaseditar").val() == "4" && $("#FreightForwarder").val() == "0"){
                swal('Ups!', 'Campo FreightForwarder Obligatorio.', 'error');
                return false;
            }else if($("#columnaseditar").val() == "5" && $("#Consignatario").val() == ""){
                swal('Ups!', 'Campo Consignatario Obligatorio.', 'error');
                return false;
            }else if($("#columnaseditar").val() == "6" && $("#Commodity").val() == "0"){
                swal('Ups!', 'Campo Commodity Obligatorio.', 'error');
                return false;
            }else if($("#columnaseditar").val() == "6" && $("#Setpoint").val() == "0"){
                swal('Ups!', 'Campo Setpoint Obligatorio.', 'error');
                return false;
            }else if($("#columnaseditar").val() == "7" && $("#Setpoint1").val() == "0"){
                swal('Ups!', 'Campo Setpoint Obligatorio.', 'error');
                return false;
            }else if($("#columnaseditar").val() == "8" && $("#InicioStacking").val() == ""){
                swal('Ups!', 'Campo Inicio Stacking Obligatorio.', 'error');
                return false;
            }else if($("#columnaseditar").val() == "9" && $("#TerminoStacking").val() == ""){
                swal('Ups!', 'Campo Termino Stacking Obligatorio.', 'error');
                return false;
            }else if($("#columnaseditar").val() == "10" && $("#Viaje").val() == ""){
                swal('Ups!', 'Campo Viaje Obligatorio.', 'error');
                return false;
            }else if($("#columnaseditar").val() == "11" && ($("#PuertoOrigen").val() == "" || $("#PuertoOrigen").val() == null)) {
                swal('Ups!', 'Campo Puerto Origen Obligatorio.', 'error');
                return false;
            }else if($("#columnaseditar").val() == "12" && ($("#PuertoDestino").val() == "" || $("#PuertoDestino").val() == null)){
                swal('Ups!', 'Campo Puerto Destino Obligatorio.', 'error');
                return false;
            }else if($("#columnaseditar").val() == "13" && $("#Etd").val() == ""){
                swal('Ups!', 'Campo Etd Obligatorio.', 'error');
                return false;
            }else if($("#columnaseditar").val() == "14" && $("#EtaNave").val() == ""){
                swal('Ups!', 'Campo Eta Nave Obligatorio.', 'error');
                return false;
            }else if($("#columnaseditar").val() == "15" && $("#EtaPuerto").val() == ""){
                swal('Ups!', 'Campo Eta Puerto Obligatorio.', 'error');
                return false;
            }else if($("#columnaseditar").val() == "16" && $("#Temperatura").val() == ""){
                swal('Ups!', 'Campo Temperatura Obligatorio.', 'error');
            } else if ($("#columnaseditar").val() == "17" && $("#ServiceProvider").val() == "") {
                swal('Ups!', 'Campo Service Provider Obligatorio.', 'error');
            }
            var Servicios = JSON.parse(localStorage.getItem("Servicios"));

            $.ajax({
                type: "POST",
                url: '@Url.Action("EdicionMasiva", "Reservas")',
                data: {
                    Servicios : Servicios,
                    Booking: $("#BookingEditar").val(),
                    Naviera: $("#Naviera").val(),
                    Nave: $("#Nave").val(),
                    Exportador: $("#Exportador").val(),
                    FreightForwarder : $("#FreightForwarder").val(),
                    Consignatario : $("#Consignatario").val(),
                    Commodity: $("#Commodity").val(),
                    Setpoint: $("#Setpoint").val(),
                    Setpoint1: $("#Setpoint1").val(),
                    IniStacking: $("#InicioStacking").val(),
                    FinStacking: $("#TerminoStacking").val(),
                    Viaje: $("#Viaje").val(),
                    PuertoOrigen: $("#PuertoOrigen").val(),
                    PuertoDestino: $("#PuertoDestino").val(),
                    Etd: $("#Etd").val(),
                    EtaNave: $("#EtaNave").val(),
                    EtaPuerto: $("#EtaPuerto").val(),
                    Temperatura: $("#Temperatura").val(),
                    ServiceProvider : $("#ServiceProvider").val()
                },
                success: function (response) {
                    var json = JSON.parse(response);
                    if (json.validador == 0) {
                        var aux = 'success';
                    } else {
                        var aux = 'warning';
                    }
                    swal({
                        title: '',
                        text: json.Mensaje,
                        type: aux,
                        showCancelButton: false,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'Aceptar'
                    }).then((result) => {
                        location.reload();
                    })
                }
            });
        });
    //EDITAR COLUMNA DE RESERVA SELECCIONADA

    //VALIDACION EDITAR RESERVA
    function ValidarBooking(Bookings, booking) {
        var count = Bookings.length;
        var i = 0;
        if (count != 0) {
            while (i != count) {
                if (booking == Bookings[i]) {
                    i = i + 1;
                } else {
                    return 1
                }
            }
            return 0;
        } else {
            return 0;
        }
    }
    //VALIDACION EDITAR RESERVA

    //ARMAR VISTAS SEGUN COLUMNA SELECCIONADA
        $("#columnaseditar").change(function () {
            $("#ColumnaNaviera").hide();
            $("#ColumnaNave").hide();
            $("#ColumnaExportador").hide();
            $("#ColumnaFreightForwarder").hide();
            $("#ColumnaConsignatario").hide();
            $("#ColumnaCommodity").hide();
            $("#ColumnaSetPoint").hide();
            $("#ColumnaInicioStacking").hide();
            $("#ColumnaTerminoStacking").hide();
            $("#ColumnaViaje").hide();
            $("#ColumnaPuertoOrigen").hide();
            $("#ColumnaPuertoDestino").hide();
            $("#ColumnaEtd").hide();
            $("#ColumnaEtaNave").hide();
            $("#ColumnaEtaPuerto").hide();
            $("#ColumnaTemperatura").hide();
            $("#ColumnaServiceProvider").hide();
            if($("#columnaseditar").val() == "1"){
                $('#Naviera').val("0");
                $('#Naviera').selectpicker('refresh');
                    $.ajax({
                        type: "POST",
                        url: '@Url.Action("GetNavierasActivas", "Naviera")',
                        success: function (response) {
                            var data = [];
                            var json = JSON.parse(response);
                            var cuenta = json.length;
                            $('#Naviera').empty();
                            var optionsAsString = "";
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + "</option>";
                            }
                            $('#Naviera').append(optionsAsString);
                            $('#Naviera').selectpicker('refresh');
                        },
                    });
                    $("#ColumnaNaviera").show();
            }else if($("#columnaseditar").val() == "2"){
                $('#Nave').val("0");
                $('#Nave').selectpicker('refresh');
                    $.ajax({
                        type: "POST",
                        url: '@Url.Action("GetNaves", "Nave")',
                        success: function (response) {
                            var data = [];
                            var json = JSON.parse(response);
                            var cuenta = json.length;
                            $('#Nave').empty();
                            var optionsAsString = ""
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].IdNave + "'>" + json[i].NombreNave + "</option>";
                            }
                            $('#Nave').append(optionsAsString);
                            $('#Nave').selectpicker('refresh');
                        },
                    });
                    $("#ColumnaNave").show();
            }else if($("#columnaseditar").val() == "3"){
                $('#PaisExportador').val("0");
                $('#PaisExportador').selectpicker('refresh');
                $('#Exportador').val("0");
                $('#Exportador').selectpicker('refresh');
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetPaisesActivos", "Paises")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#PaisExportador').empty();
                        var optionsAsString = "";
                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + "</option>";
                        }
                        $('#PaisExportador').append(optionsAsString);
                        $('#PaisExportador').selectpicker('refresh');
                    },
                });
                $("#Tb_Servicios tbody tr").each(function () {
                    if ($(this).find(".dt-checkboxes").is(":checked")) {
                        localStorage.setItem("Booking", $(this).find("td:eq(9)").html());
                        return false;
                    }
                });
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetDatosBookingEdi", "Reservas")',
                    data: {Booking : localStorage.getItem("Booking") },
                    success: function (response1) {
                        var json = JSON.parse(response1);
                        $("#ExportadorEdi").val(json.Exportador);
                    },
                });
                $("#ColumnaExportador").show();
            }else if($("#columnaseditar").val() == "4"){
                $('#FreightForwarder').val("0");
                $('#FreightForwarder').selectpicker('refresh');
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetFreightForwarderActivos", "FreightForwarder")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        var optionsAsString = "";
                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].Id_FreightForwarder + "'>" + json[i].NombreFreightForwarder + "</option>";
                        }
                        $('#FreightForwarder').append(optionsAsString);
                        $('#FreightForwarder').selectpicker('refresh');
                    },
                });
                $("#Tb_Servicios tbody tr").each(function () {
                    if ($(this).find(".dt-checkboxes").is(":checked")) {
                        localStorage.setItem("Booking", $(this).find("td:eq(9)").html());
                        return false;
                    }
                });
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetDatosBookingEdi", "Reservas")',
                    data: {Booking : localStorage.getItem("Booking") },
                    success: function (response1) {
                        var json = JSON.parse(response1);
                        $("#FFWEdi").val(json.FreightForwarder);
                    },
                });
                $("#ColumnaFreightForwarder").show();
            }else if($("#columnaseditar").val() == "5"){
                $("#Consignatario").val("");
                $("#ColumnaConsignatario").show();
            }else if($("#columnaseditar").val() == "6"){
                $('#Commodity').val("0");
                $('#Commodity').selectpicker('refresh');
                $('#SetPoint').val("0");
                $('#SetPoint').selectpicker('refresh');
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetCommodity", "Commoditie")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#Commodity').empty();
                        var optionsAsString = "";
                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + "</option>";
                        }
                        $('#Commodity').append(optionsAsString);
                        $('#Commodity').selectpicker('refresh');
                    },
                });
                $("#ColumnaCommodity").show();
            }else if($("#columnaseditar").val() == "7"){
                $('#Setpoint1').val("0");
                $('#Setpoint1').selectpicker('refresh');
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetSetpoint", "Setpoint")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#Setpoint1').empty();
                        var optionsAsString = "";
                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].IdSetpoint + "'>" + json[i].CO2 + "% CO2, " + json[i].O2 + "% O2" + "</option>";
                        }
                        $('#Setpoint1').append(optionsAsString);
                        $('#Setpoint1').selectpicker('refresh');
                    },
                });
                $("#ColumnaSetPoint").show();
            }else if($("#columnaseditar").val() == "8"){
                $("#InicioStacking").val("");
                $("#ColumnaInicioStacking").show();
            }else if($("#columnaseditar").val() == "9"){
                $("#TerminoStacking").val("");
                $("#ColumnaTerminoStacking").show();
            }else if($("#columnaseditar").val() == "10"){
                $("#Viaje").val("");
                $("#ColumnaViaje").show();
            }else if($("#columnaseditar").val() == "11"){
                $("#PaisPuertoOrigen").val("0");
                $('#PaisPuertoOrigen').selectpicker('refresh');
                $("#PuertoOrigen").val("0");
                $('#PuertoOrigen').selectpicker('refresh');
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetPaisesActivos", "Paises")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#PaisPuertoOrigen').empty();
                        var optionsAsString = "";

                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + "</option>";
                        }
                        $('#PaisPuertoOrigen').append(optionsAsString);
                        $('#PaisPuertoOrigen').selectpicker('refresh');
                    },
                });
                $("#ColumnaPuertoOrigen").show();
            }else if($("#columnaseditar").val() == "12"){
                $("#PaisPuertoDestino").val("0");
                $('#PaisPuertoDestino').selectpicker('refresh');
                $("#PuertoDestino").val("0");
                $('#PuertoDestino').selectpicker('refresh');
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetPaisesActivos", "Paises")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#PaisPuertoDestino').empty();
                        var optionsAsString = "";

                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + "</option>";
                        }
                        $('#PaisPuertoDestino').append(optionsAsString);
                        $('#PaisPuertoDestino').selectpicker('refresh');
                    },
                });
                $("#ColumnaPuertoDestino").show();
            }else if($("#columnaseditar").val() == "13"){
                $("#Etd").val("");
                $("#ColumnaEtd").show();
            }else if($("#columnaseditar").val() == "14"){
                $("#EtaNave").val("");
                $("#ColumnaEtaNave").show();
            }else if($("#columnaseditar").val() == "15"){
                $("#EtaPuerto").val("");
                $("#ColumnaEtaPuerto").show();
            }else if($("#columnaseditar").val() == "16"){
                $("#Temperatura").val("");
                $("#ColumnaTemperatura").show();
            }else if ($("#columnaseditar").val() == "17") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetServiceProviderActivas", "ServiceProvider")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#ServiceProvider').empty();
                        var optionsAsString = "";
                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].IdServiceProvider + "'>" + json[i].NombreServiceProvider + "</option>";
                        }
                        $('#ServiceProvider').append(optionsAsString);
                        $('#ServiceProvider').selectpicker('refresh');
                    },
                });
                $("#ColumnaServiceProvider").show();
            }
        });
    //ARMAR VISTAS SEGUN COLUMNA SELECCIONADA


    //CARGAR EXPORTADORES SEGUN PAIS
        $("#PaisExportador").change(function () {
            if ($("#PaisExportador").val() != "0") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetExportadorPais", "Exportador")',
                    data: { IdPais: $("#PaisExportador").val() },
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#Exportador').empty();
                        var optionsAsString = "";
                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].Id_Exportador + "'>" + json[i].NombreExportador + " - " + json[i].NombrePais + "</option>";
                        }
                        $('#Exportador').append(optionsAsString);
                        $('#Exportador').selectpicker('refresh');
                    },
                });
            } else {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetExportadorActivos", "Exportador")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#Exportador').empty();
                        var optionsAsString = "";
                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].Id_Exportador + "'>" + json[i].NombreExportador + " - " + json[i].NombrePais + "</option>";
                        }

                        $('#Exportador').append(optionsAsString);
                        $('#Exportador').selectpicker('refresh');
                    },
                });
            }
        });
    //CARGAR EXPORTADORES SEGUN PAIS

    //CARGAR SETPOINT SEGUN COMMODITY
        $("#Commodity").change(function () {
            if ($("#Commodity").val() != "0") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetSetpointCommodity", "Setpoint")',
                    data: { Commodity: $("#Commodity").val() },
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        var optionsAsString = "";
                        $('#Setpoint').empty();
                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].IdSetpoint + "'>" + json[i].CO2 + "% CO2, " + json[i].O2 + "% O2" + "</option>";
                        }
                        $('#Setpoint').append(optionsAsString);
                        $('#Setpoint').selectpicker('refresh');
                    },
                });
            }
        });
    //CARGAR SETPOINT SEGUN COMMODITY

    //CARGAR PUERTOS ORIGEN A PARTIR DEL PAIS
        $("#PaisPuertoOrigen").change(function () {
            if ($("#PaisPuertoOrigen").val() != "0") {
                    $.ajax({
                        type: "POST",
                        url: '@Url.Action("GetPuertosOrigenPais", "Puertos")',
                        data: { IdPais: $("#PaisPuertoOrigen").val() },
                        success: function (response) {
                            var data = [];
                            var json = JSON.parse(response);
                            var cuenta = json.length;
                            $('#PuertoOrigen').empty();
                            var optionsAsString = "";
                            if (cuenta != 0) {
                                for (var i = 0; i < cuenta; i++) {
                                    optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                                }
                                $('#PuertoOrigen').append(optionsAsString);
                                $('#PuertoOrigen').selectpicker('refresh');
                            }else{
                                $('#PuertoOrigen').selectpicker('refresh');
                            }
                        },
                    });
            }else{
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetPuertos", "Puertos")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#PuertoOrigen').empty();
                        var optionsAsString = "";
                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                        }

                        $('#PuertoOrigen').append(optionsAsString);
                        $('#PuertoOrigen').selectpicker('refresh');
                    },
                });
            }
        });
    //CARGAR PUERTOS ORIGEN A PARTIR DEL PAIS

    //CARGAR PUERTOS ORIGEN A PARTIR DEL PAIS
    $("#PaisPuertoDestino").change(function () {
        if ($("#PaisPuertoDestino").val() != "0") {
            $.ajax({
                type: "POST",
                url: '@Url.Action("GetPuertosDestinoPais", "Puertos")',
                data: { IdPais: $("#PaisPuertoDestino").val() },
                success: function (response) {
                    var data = [];
                    var json = JSON.parse(response);
                    var cuenta = json.length;
                    $('#PuertoDestino').empty();
                    var optionsAsString = "";
                    if (cuenta != 0) {
                        for (var i = 0; i < cuenta; i++) {
                            optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                        }
                        $('#PuertoDestino').append(optionsAsString);
                        $('#PuertoDestino').selectpicker('refresh');
                    }else{
                        $('#PuertoDestino').selectpicker('refresh');
                    }
                },
            });
        }else{
            $.ajax({
                type: "POST",
                url: '@Url.Action("GetPuertos", "Puertos")',
                success: function (response) {
                    var data = [];
                    var json = JSON.parse(response);
                    var cuenta = json.length;
                    $('#PuertoDestino').empty();
                    var optionsAsString = "";
                    for (var i = 0; i < cuenta; i++) {
                        optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                    }
                    $('#PuertoDestino').append(optionsAsString);
                    $('#PuertoDestino').selectpicker('refresh');
                },
            });
        }
    });
    //CARGAR PUERTOS ORIGEN A PARTIR DEL PAIS

    //VALIDAR BOOKING
    $("#ValidarBookingEditar").click(function () {
        if ($("#EditarBooking").val() != "") {
            $.ajax({
                type: "POST",
                url: '@Url.Action("ValidarBooking", "Reservas")',
                data: { Booking: $("#EditarBooking").val() },
                success: function (response) {
                    if (response == "0") {
                        var fila = localStorage.getItem("Fila");
                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetInfoBookingId", "Reservas")',
                            data: { Booking: $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(9)').text()},
                            success: function (response1) {
                                var data = [];
                                var json = JSON.parse(response1);
                                if(json.length>0)
                                {
                                    $("#NavieraBookingEditar").val(json.IdNaviera);
                                    $("#NavieraBookingEditar").selectpicker("refresh");
                                    $("#PuertoOrigenBookingEditar").val(json.IdPuertoOrigen);
                                    $("#PuertoOrigenBookingEditar").selectpicker("refresh");
                                    $("#PuertoDestinoBookingEditar").val(json.IdPuertoDestino);
                                    $("#PuertoDestinoBookingEditar").selectpicker("refresh");
                                    $("#NaveBookingEditar").val(json.IdNave);
                                    $("#NaveBookingEditar").selectpicker("refresh");
                                    $("#ExportadorBookingEditar").val(json.IdExportador);
                                    $("#ExportadorBookingEditar").selectpicker("refresh");
                                    $("#IniStackingBookingEditar").val(formatDate(json.FechaIniStacking));
                                    $("#FinStackingBookingEditar").val(formatDate(json.FechaFinStacking));
                                    $("#FreightforwarderBookingEditar").val(json.IdFreightForwarder);
                                    $("#FreightforwarderBookingEditar").selectpicker("refresh");
                                    $("#ViajeBookingEditar").val(json.Viaje);
                                    $("#ConsiganatarioBookingEditar").val(json.Consignatario);
                                    $("#EtdnaveBookingEditar").val(formatDate(json.Etd));
                                    $("#CommodityBookingEditar").val(json.IdCommodity);
                                    $("#CommodityBookingEditar").selectpicker("refresh");
                                    $("#SetpointBookingEditar").val(json.IdSetpoint);
                                    $("#SetpointBookingEditar").selectpicker("refresh");
                                    $("#TemperaturaBookingEditar").val(json.Temperatura);
                                    $("#EtapuertoBookingEditar").val(formatDate(json.Eta));
                                    $(".EditarRoleoBooking").show();
                                    $('.EditarBooking').hide();
                                    $('#DatosReserva').hide();
                                    $('#DatosReservaEditar').show();
                                }else
                                {
                                    $.ajax({
                                        type: "POST",
                                        url: '@Url.Action("GetNavierasActivas", "Naviera")',
                                        success: function (response) {
                                            var data = [];
                                            var json = JSON.parse(response);
                                            var cuenta = json.length;
                                            var optionsAsString = "";
                                            for (var i = 0; i < cuenta; i++) {
                                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + "</option>";
                                            }
                                            $('#NavieraBookingEditar').append(optionsAsString);
                                            $('#NavieraBookingEditar').selectpicker('refresh');
                                        },
                                    });

                                    $.ajax({
                                        type: "POST",
                                        url: '@Url.Action("GetNaves", "Nave")',
                                        success: function (response) {
                                            var data = [];
                                            var json = JSON.parse(response);
                                            var cuenta = json.length;
                                            var optionsAsString = ""
                                            for (var i = 0; i < cuenta; i++) {
                                                optionsAsString += "<option value='" + json[i].IdNave + "'>" + json[i].NombreNave + "</option>";
                                            }
                                            $('#NaveBookingEditar').append(optionsAsString);
                                            $('#NaveBookingEditar').selectpicker('refresh');
                                        },
                                    });

                                    $.ajax({
                                        type: "POST",
                                        url: '@Url.Action("GetPuertos", "Puertos")',
                                        success: function (response) {
                                            var data = [];
                                            var json = JSON.parse(response);
                                            var cuenta = json.length;
                                            var optionsAsString = "";
                                            for (var i = 0; i < cuenta; i++) {
                                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad +  "</option>";
                                            }
                                            $('#PuertoDestinoBookingEditar').append(optionsAsString);
                                            $('#PuertoDestinoBookingEditar').selectpicker('refresh');
                                            $('#PuertoOrigenBookingEditar').append(optionsAsString);
                                            $('#PuertoOrigenBookingEditar').selectpicker('refresh');
                                        },
                                    });

                                    $.ajax({
                                        type: "POST",
                                        url: '@Url.Action("GetExportadorActivos", "Exportador")',
                                        success: function (response) {
                                            var data = [];
                                            var json = JSON.parse(response);
                                            var cuenta = json.length;
                                            var optionsAsString = "";
                                            for (var i = 0; i < cuenta; i++) {
                                                optionsAsString += "<option value='" + json[i].Id_Exportador + "'>" + json[i].NombreExportador + "</option>";
                                            }
                                            $('#ExportadorBookingEditar').append(optionsAsString);
                                            $('#ExportadorBookingEditar').selectpicker('refresh');
                                        },
                                    });

                                    $.ajax({
                                        type: "POST",
                                        url: '@Url.Action("GetCommodity", "Commoditie")',
                                        success: function (response) {
                                            var data = [];
                                            var json = JSON.parse(response);
                                            var cuenta = json.length;
                                            var optionsAsString = "";
                                            for (var i = 0; i < cuenta; i++) {
                                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + "</option>";
                                            }
                                            $('#CommodityBookingEditar').append(optionsAsString);
                                            $('#CommodityBookingEditar').selectpicker('refresh');
                                        },
                                    });

                                    $.ajax({
                                        type: "POST",
                                        url: '@Url.Action("GetFreightForwarderActivos", "FreightForwarder")',
                                        success: function (response) {
                                            var data = [];
                                            var json = JSON.parse(response);
                                            var cuenta = json.length;
                                            var optionsAsString = "";
                                            for (var i = 0; i < cuenta; i++) {
                                                optionsAsString += "<option value='" + json[i].Id_FreightForwarder + "'>" + json[i].NombreFreightForwarder + "</option>";
                                            }
                                            $('#FreightforwarderBookingEditar').append(optionsAsString);
                                            $('#FreightforwarderBookingEditar').selectpicker('refresh');
                                        },
                                    });

                                    $.ajax({
                                        type: "POST",
                                        url: '@Url.Action("GetSetpoint", "Setpoint")',
                                        success: function (response) {
                                            var data = [];
                                            var json = JSON.parse(response);
                                            var cuenta = json.length;
                                            var optionsAsString = "";
                                            for (var i = 0; i < cuenta; i++) {
                                                optionsAsString += "<option value='" + json[i].IdSetpoint + "'>" + json[i].CO2 + "% CO2, " + json[i].O2 + "% O2" + "</option>";
                                            }
                                            $('#SetpointBookingEditar').append(optionsAsString);
                                            $('#SetpointBookingEditar').selectpicker('refresh');
                                        },
                                    });

                                    $(".EditarRoleoBooking").show();
                                    $('.EditarBooking').hide();
                                    $('#DatosReserva').hide();
                                    $('#DatosReservaEditar').show();
                                }

                            }
                        });
                    }else {
                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetInfoBooking", "Reservas")',
                            data: { Booking: $("#EditarBooking").val() },
                            success: function (response1) {
                                var data = [];
                                var json = JSON.parse(response1);
                                $("#NavieraBooking").val(json.Naviera);
                                $("#PuertoOrigenBooking").val(json.PuertoOrigen);
                                $("#PuertoDestinoBooking").val(json.PuertoDestino);
                                $("#NaveBooking").val(json.Nave);
                                $("#ExportadorBooking").val(json.Exportador);
                                $("#IniStackingBooking").val(formatDate(json.FechaIniStacking));
                                $("#FinStackingBooking").val(formatDate(json.FechaFinStacking));
                                $("#FreightforwarderBooking").val(json.FreightForwarder);
                                $("#ViajeBooking").val(json.Viaje);
                                $("#ConsiganatarioBooking").val(json.Consignatario);
                                $("#EtdnaveBooking").val(formatDate(json.Etd));
                                $("#CommodityBooking").val(json.Commodity);
                                $("#SetpointBooking").val(json.Setpoint);
                                $("#TemperaturaBooking").val(json.Temperatura);
                                $("#EtapuertoBooking").val(formatDate(json.Eta));
                                $('.EditarBooking').show();
                                $(".EditarRoleoBooking").hide();
                                $('#DatosReserva').show();
                                $('#DatosReservaEditar').hide();
                            }
                        });
                    }
                }
            });
        }else{
            swal('Ups!', '<span>Debe ingresar un dato</span>', 'warning');
            return false;
        }
    });
    //VALIDAR BOOKING

    //ROLEAR SERVICIO
    $("#Rolear").click(function () {
        var fila = localStorage.getItem("Fila");
        var Columna = localStorage.getItem("Columna");
        $.ajax({
            type: "POST",
            url: '@Url.Action("RolearServicio", "Reservas")',
            data: { Booking: $("#EditarBooking").val(),
                    IdServicio : $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(5)').text(),
                    BookingAntiguo: $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(9)').text(),
            },
            success: function (response) {
                var json = JSON.parse(response);
                if (json.validador == 0) {
                    var aux = 'success';
                } else {
                    var aux = 'warning';
                }
                swal({
                    title: '',
                    text: json.Mensaje,
                    type: aux,
                    showCancelButton: false,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Aceptar'
                }).then((result) => {
                    location.reload();
                })
            }
        });
    });
    //ROLEAR SERVICIO

    //VALIDAR BOOKING
    $("#ValidarBooking2").click(function () {
        if ($("#AgregarServicioBooking").val() != "") {
            $.ajax({
                type: "POST",
                url: '@Url.Action("ValidarBooking", "Reservas")',
                data: { Booking: $("#AgregarServicioBooking").val() },
                success: function (response) {
                    if (response == "0") {
                        swal('Ups!', '<span>Booking no existe en los registros</span>', 'warning');
                        $("#EditarBooking").val("");
                        return false;
                    } else {
                        swal('Ups!', '<span>Booking válido.</span>', 'success');
                        $(".EditarCelda").show();
                    }
                }
            });
        }else{
            swal('Ups!', '<span>Debe ingresar un dato</span>', 'warning');
            return false;
        }
    });
    //VALIDAR BOOKING

    //CARGAR SETPOINT SEGUN COMMODITY EDITAR
    $("#EditarCommodity").change(function () {
        if ($("#EditarCommodity").val() != "0") {
            $.ajax({
                type: "POST",
                url: '@Url.Action("GetSetpointCommodity", "Setpoint")',
                data: { Commodity: $("#EditarCommodity").val() },
                success: function (response) {
                    var data = [];
                    var json = JSON.parse(response);
                    var cuenta = json.length;
                    var optionsAsString = "";
                    $('#EditarSetpoint').empty();
                    for (var i = 0; i < cuenta; i++) {
                        optionsAsString += "<option value='" + json[i].IdSetpoint + "'>" + json[i].CO2 + "% CO2, " + json[i].O2 + "% O2" + "</option>";
                    }
                    $('#EditarSetpoint').append(optionsAsString);
                    $('#EditarSetpoint').selectpicker('refresh');
                },
            });
        }
    });
    //CARGAR SETPOINT SEGUN COMMODITY EDITAR

    //CARGAR DATOS SEGUN CONTENEDOR SELECCIONADO
    $("#EditarContenedor").change(function () {
        var fila = localStorage.getItem("Fila");
        var Columna = localStorage.getItem("Columna");
        var Commoditie = $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(23)').text();
        var validar = false;

        if (Commoditie.includes("W/SCRUBBER") == true){
            validar = true;
        }

        $.ajax({
            type: "POST",
            url: '@Url.Action("GetInfoFiltro", "Contenedores")',
            data: { IdContenedor: $("#EditarContenedor").val() },
            success: function (response) {
                var data = [];
                var json = JSON.parse(response);
                var cuenta = json.length;
                var fechaControlador="";
                if (cuenta != 0) {
                    for (var i = 0; i < cuenta ; i++) {
                        if(json[i].FechaControlador!=null)
                        {
                            fechaControlador=formatDate(json[i].FechaControlador);
                        }

                        $("#EditarSelloperno1").val(json[i].Selloperno1);
                        $("#EditarSelloperno2").val(json[i].Selloperno2);
                        $("#EditarSellotapa").val(json[i].Sellotapa);
                        $("#EditarDeposito").val(json[i].Deposito);
                        $("#EditarPais").val(json[i].Pais);
                        $("#EditarFechaControladorLeak").val(fechaControlador);
                        $("#EditarTipoLugarLeak").val(json[i].TipoLugar);
                        $("#EditarLugarLeak").val(json[i].Deposito);
                        $("#EditarTecnicoLeak").val(json[i].Tecnico);
                        $("#EditarControladorLeak").val(json[i].Controlador);
                        $("#EditarBateriaLeak").val(json[i].Bateria);
                        $("#EditarModemLeak").val(json[i].Modem);
                        $("#EditarBateriaModemLeak").val(json[i].BateriaModem);
                    }


                    if(validar == true && json[0].Scrubber != 0){
                        swal('Ups!', '<span>El contenedor seleccionado no tiene scrubber y para este servicio debe tener scrubber</span>', 'warning');
                        $(".EditarCelda").show();
                    }else{
                        $(".EditarCelda").show();
                    }
                }
            },
        });
    });
    //CARGAR DATOS SEGUN CONTENEDOR SELECCIONADO

    //VALIDAR CONTROLADOR
        $("#ValidarControlador").click(function () {
            if ($("#EditarControlador").val() != "") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("ValidarControlador", "Controlador")',
                    data: { Controlador: $("#EditarControlador").val() },
                    success: function (response) {
                        if (response == 0) {
                            swal('Ups!', '<span>Controlador no existe en los registros</span>', 'warning');
                            $("#EditarControlador").val("");
                            return false;
                        } else if(response==2) {
                            swal('Ups!', '<span>Controlador se encuentra asociado a otro servicio</span>', 'warning');
                            $("#EditarControlador").val("");
                        }else if(response==4) {
                            swal('Ups!', '<span>Controlador con damage report.</span>', 'warning');
                            $("#EditarControlador").val("");
                        }else
                        {
                            swal('Validado!', '<span>Número controlador válido.</span>', 'success');
                            $(".EditarCelda").show();
                        }
                    }
                });
            }else {
                swal('Ups!', '<span>Debe ingresar un dato</span>', 'warning');
                return false;
            }
        });
    //VALIDAR CONTROLADOR

    //VALIDAR MODEM
    $("#ValidarModem").click(function () {
        if ($("#EditarModem").val() != "") {
            $.ajax({
                type: "POST",
                url: '@Url.Action("ValidarModem", "Controlador")',
                data: { Modem: $("#EditarModem").val() },
                success: function (response) {
                    if (response == 0) {
                        swal('Ups!', '<span>Modem no existe en los registros</span>', 'warning');
                        $("#EditarControlador").val("");
                        return false;
                    } else if(response==2) {
                        swal('Ups!', '<span>Modem se encuentra asociado a otro servicio</span>', 'warning');
                        $("#EditarControlador").val("");
                    }else if(response==4) {
                        swal('Ups!', '<span>Modem con damage report.</span>', 'warning');
                        $("#EditarControlador").val("");
                    }else
                    {
                        swal('Validado!', '<span>Número de módem válido.</span>', 'success');
                        $(".EditarCelda").show();
                    }
                }
            });
        }else {
            swal('Ups!', '<span>Debe ingresar un dato</span>', 'warning');
            return false;
        }
    });
    //VALIDAR MODEM

    //AGREGAR SERVICIO
    $("#AgregarServicio").click(function () {
        if ($("#AgregarServicioBooking").val() != "") {
            $.ajax({
                type: "POST",
                url: '@Url.Action("AgregarServicioCelda", "Reservas")',
                data: { Booking: $("#AgregarServicioBooking").val(),
                        CantServicios: $("#CantidadServiciosBooking").val()},
                success: function (response) {
                    var json = JSON.parse(response);
                    if (json.validador == 0) {
                        var aux = 'success';
                    } else {
                        var aux = 'warning';
                    }
                    swal({
                        title: '',
                        text: json.Mensaje,
                        type: aux,
                        showCancelButton: false,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'Aceptar'
                    }).then((result) => {
                        location.reload();
                    })
                }
            });
        }else {
            swal('Ups!', '<span>Debe ingresar un dato</span>', 'warning');
            return false;
        }
    });
    //AGREGAR SERVICIO


    //CARGAR LUGARES CONTROLADOR SEGUN TIPO LUGAR
    $("#EditarTipolugarcortina").change(function () {
        if ($("#EditarTipolugarcortina").val() != "0") {
            if ($("#EditarTipolugarcortina").val() == "1") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetDepositosActivos", "Deposito")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarLugarcortina').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#EditarLugarcortina').append(optionsAsString);
                            $('#EditarLugarcortina').selectpicker('refresh');
                        }
                    },
                });
            }else if ($("#EditarTipolugarcortina").val() == "2") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetPackingActivos", "Packing")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarLugarcortina').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#EditarLugarcortina').append(optionsAsString);
                            $('#EditarLugarcortina').selectpicker('refresh');
                        }
                    },
                });
            }else if ($("#EditarTipolugarcortina").val() == "3") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetAntePuertosActivos", "Antepuerto")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarLugarcortina').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#EditarLugarcortina').append(optionsAsString);
                            $('#EditarLugarcortina').selectpicker('refresh');
                        }
                    },
                });
            }else if ($("#EditarTipolugarcortina").val() == "4") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetPuertos", "Puertos")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarLugarcortina').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#EditarLugarcortina').append(optionsAsString);
                            $('#EditarLugarcortina').selectpicker('refresh');
                        }
                    },
                });
            }
            } else {
                $('#EditarLugarcortina').attr('disabled', 'disabled');
                $('#EditarLugarcortina').selectpicker('refresh');
            }
        });
    //CARGAR LUGARES CONTROLADOR SEGUN TIPO LUGAR

    //CARGAR LUGARES CONTROLADOR SEGUN TIPO LUGAR
    $("#EditarTipolugarcontrolador").change(function () {
        if ($("#EditarTipolugarcontrolador").val() != "0") {
            if ($("#EditarTipolugarcontrolador").val() == "1") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetDepositosActivos", "Deposito")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarLugarcontrolador').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#EditarLugarcontrolador').append(optionsAsString);
                            $('#EditarLugarcontrolador').selectpicker('refresh');
                        }
                    },
                });
            }else if ($("#EditarTipolugarcontrolador").val() == "2") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetPackingActivos", "Packing")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarLugarcontrolador').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#EditarLugarcontrolador').append(optionsAsString);
                            $('#EditarLugarcontrolador').selectpicker('refresh');
                        }
                    },
                });
            }else if ($("#EditarTipolugarcontrolador").val() == "3") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetAntePuertosActivos", "Antepuerto")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarLugarcontrolador').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#EditarLugarcontrolador').append(optionsAsString);
                            $('#EditarLugarcontrolador').selectpicker('refresh');
                        }
                    },
                });
            }else if ($("#EditarTipolugarcontrolador").val() == "4") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetPuertos", "Puertos")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarLugarcontrolador').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#EditarLugarcontrolador').append(optionsAsString);
                            $('#EditarLugarcontrolador').selectpicker('refresh');
                        }
                    },
                });
            }
        } else {
            $('#EditarLugarcontrolador').attr('disabled', 'disabled');
            $('#EditarLugarcontrolador').selectpicker('refresh');
        }
    });
    //CARGAR LUGARES CONTROLADOR SEGUN TIPO LUGAR

    //CARGAR LUGARES MODEM SEGUN TIPO LUGAR
    $("#EditarTipolugarModem").change(function () {
        if ($("#EditarTipolugarModem").val() != "0") {
            if ($("#EditarTipolugarModem").val() == "1") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetDepositosActivos", "Deposito")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarLugarModem').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#EditarLugarModem').append(optionsAsString);
                            $('#EditarLugarModem').selectpicker('refresh');
                        }
                    },
                });
            }else if ($("#EditarTipolugarModem").val() == "2") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetPackingActivos", "Packing")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarLugarModem').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#EditarLugarModem').append(optionsAsString);
                            $('#EditarLugarModem').selectpicker('refresh');
                        }
                    },
                });
            }else if ($("#EditarTipolugarModem").val() == "3") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetAntePuertosActivos", "Antepuerto")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarLugarModem').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#EditarLugarModem').append(optionsAsString);
                            $('#EditarLugarModem').selectpicker('refresh');
                        }
                    },
                });
            }else if ($("#EditarTipolugarModem").val() == "4") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetPuertos", "Puertos")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarLugarModem').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#EditarLugarModem').append(optionsAsString);
                            $('#EditarLugarModem').selectpicker('refresh');
                        }
                    },
                });
            }
        } else {
            $('#EditarLugarModem').attr('disabled', 'disabled');
            $('#EditarLugarModem').selectpicker('refresh');
        }
    });
    //CARGAR LUGARES MODEM  SEGUN TIPO LUGAR

    //CARGAR LUGARES CONTROLADOR SEGUN TIPO LUGAR
    $("#EditarTipolugargasificacion").change(function () {
        if ($("#EditarTipolugargasificacion").val() != "0") {
            if ($("#EditarTipolugargasificacion").val() == "1") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetDepositosActivos", "Deposito")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarLugargasificacion').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#EditarLugargasificacion').append(optionsAsString);
                            $('#EditarLugargasificacion').selectpicker('refresh');
                        }
                    },
                });
            }else if ($("#EditarTipolugargasificacion").val() == "2") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetPackingActivos", "Packing")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarLugargasificacion').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#EditarLugargasificacion').append(optionsAsString);
                            $('#EditarLugargasificacion').selectpicker('refresh');
                        }
                    },
                });
            }else if ($("#EditarTipolugargasificacion").val() == "3") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetAntePuertosActivos", "Antepuerto")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarLugargasificacion').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#EditarLugargasificacion').append(optionsAsString);
                            $('#EditarLugargasificacion').selectpicker('refresh');
                        }
                    },
                });
            }else if ($("#EditarTipolugargasificacion").val() == "4") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetPuertos", "Puertos")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#EditarLugargasificacion').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#EditarLugargasificacion').append(optionsAsString);
                            $('#EditarLugargasificacion').selectpicker('refresh');
                        }
                    },
                });
            }
        } else {
            $('#EditarLugargasificacion').attr('disabled', 'disabled');
            $('#EditarLugargasificacion').selectpicker('refresh');
        }
    });
    //CARGAR LUGARES CONTROLADOR SEGUN TIPO LUGAR

    //EDITAR RESERVA
    $("#EditarReserva").click(function () {
        var Bookings = [];
        var Servicios = [];
        var count = 0;
        var cuenta = $("#Tb_Servicios tbody tr").length;

        $("#Tb_Servicios tbody tr").each(function () {
            if ($(this).find(".dt-checkboxes").is(":checked")) {
                var booking = $(this).find("td:eq(9)").html()
                var validar = ValidarBooking(Bookings, booking);
                if(validar == 0){
                    var id_Servicio = $(this).find("td:eq(5)").html();
                    var validacion_servicio = $(this).find("td:eq(78)").html();

                    if(validacion_servicio == "SI"){
                        swal('Ups!', 'No se puede editar datos de la reserva si existen servicios con su Validación de Servicio correcta.', 'error');
                        return false;
                    }
                    else{
                        Bookings.push(booking);
                        Servicios.push(id_Servicio);
                    }
                } else {
                    Bookings = [];
                    swal('Ups!', '<span class="alerta" key="ErrorEditarReserva">No puede editar datos de bookings distintos.</span>', 'error');
                    return false;
                }
            }else{
                count = count + 1;
                if(count == cuenta){
                    Bookings = [];
                    swal('Ups!', 'Debe seleccionar al menos un registro.', 'error');
                    return false;
                }
            }
        });

        if(Bookings.length != 0){
            localStorage.setItem("Servicios", JSON.stringify(Servicios));
            $("#columnaseditar").val("0");
            $('#columnaseditar').selectpicker('refresh');
            $("#ColumnaNaviera").hide();
            $("#ColumnaNave").hide();
            $("#ColumnaExportador").hide();
            $("#ColumnaFreightForwarder").hide();
            $("#ColumnaConsignatario").hide();
            $("#ColumnaCommodity").hide();
            $("#ColumnaSetPoint").hide();
            $("#ColumnaInicioStacking").hide();
            $("#ColumnaTerminoStacking").hide();
            $("#ColumnaViaje").hide();
            $("#ColumnaPuertoOrigen").hide();
            $("#ColumnaPuertoDestino").hide();
            $("#ColumnaEtd").hide();
            $("#ColumnaEtaNave").hide();
            $("#ColumnaEtaPuerto").hide();
            $("#ColumnaTemperatura").hide();
            $("#ColumnaServiceProvider").hide();
            $('#BookingEditar').val(Bookings[0]);
            $('#EditarReservaTrigger').trigger('click');
        }
    });
    //EDITAR RESERVA


    //EDITAR SERVICIOS VIAJE
    $("#EditarServicioViaje").click(function () {
        var Servicios = [];
        var count = 0;
        var cuenta = $("#Tb_Servicios tbody tr").length;

        $("#Tb_Servicios tbody tr").each(function () {
            if ($(this).find(".dt-checkboxes").is(":checked")) {
                Servicios.push($(this).find("td:eq(5)").html());
            }else{
                count = count + 1;
                if(count == cuenta){
                    Bookings = [];
                    swal('Ups!', 'Debe seleccionar al menos un registro.', 'error');
                    return false;
                }
            }
        });

        if(cuenta>0)
        {
            @*$.ajax({
                type: "POST",
                url: '@Url.Action("GetViajes", "Viaje")',
                success: function (response) {
                    var data = [];
                    var json = JSON.parse(response);
                    var cuenta = json.length;
                    $('#NumViajes').empty();
                    $('#PuertoOrigenViajes').empty();
                    $('#PuertoDestinoViajes').empty();
                    var optionsAsString = "";
                    optionsAsString = "<option value='0'> Seleccione Viaje</option>";
                    var optionsAsString2 = "";
                    optionsAsString2 = "<option value='0'> Seleccione Puerto</option>";
                    var optionsAsString3 = "";
                    optionsAsString3 = "<option value='0'> Seleccione Puerto</option>";
                    if (cuenta != 0) {
                        for (var i = 0; i < cuenta; i++) {
                            if(json[i].Estado!=1)
                            {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].NumeroViaje + "</option>";
                                optionsAsString2 += "<option value='" + json[i].IdPuertoOrigen + "'>" + json[i].PuertoOrigen + "</option>";
                                optionsAsString3 += "<option value='" + json[i].IdPuertoDestino + "'>" + json[i].PuertoDestino + "</option>";
                            }

                        }
                        $('#NumViajes').append(optionsAsString);
                        $('#NumViajes').selectpicker('refresh');
                        $('#PuertoOrigenViajes').append(optionsAsString2);
                        $('#PuertoOrigenViajes').selectpicker('refresh');
                        $('#PuertoDestinoViajes').append(optionsAsString3);
                        $('#PuertoDestinoViajes').selectpicker('refresh');
                    }
                },
            });*@

            $.ajax({
                type: "POST",
                url: '@Url.Action("GetNumViajesFromViajes", "Viaje")',
                success: function (response) {
                    var data = [];
                    var json = JSON.parse(response);
                    var cuenta = json.length;
                    $('#NumViajes').empty();
                    var optionsAsString = "";
                    optionsAsString = "<option value='0'> Seleccione Viaje</option>";
                    if (cuenta != 0) {
                        for (var i = 0; i < cuenta; i++) {
                            if(json[i].Estado!=1)
                            {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].NumeroViaje + "</option>";
                            }

                        }
                        $('#NumViajes').append(optionsAsString);
                        $('#NumViajes').selectpicker('refresh');
                    }
                },
            });

            $.ajax({
                type: "POST",
                url: '@Url.Action("GetPOFromViajes", "Viaje")',
                success: function (response) {
                    var data = [];
                    var json = JSON.parse(response);
                    var cuenta = json.length;
                    $('#PuertoOrigenViajes').empty();
                    var optionsAsString2 = "";
                    optionsAsString2 = "<option value='0'> Seleccione Puerto</option>";
                    if (cuenta != 0) {
                        for (var i = 0; i < cuenta; i++) {
                            if(json[i].Estado!=1)
                            {
                                optionsAsString2 += "<option value='" + json[i].IdPuertoOrigen + "'>" + json[i].PuertoOrigen + "</option>";
                            }
                        }

                        $('#PuertoOrigenViajes').append(optionsAsString2);
                        $('#PuertoOrigenViajes').selectpicker('refresh');

                    }
                },
            });

            $.ajax({
                type: "POST",
                url: '@Url.Action("GetPDFromViajes", "Viaje")',
                success: function (response) {
                    var data = [];
                    var json = JSON.parse(response);
                    var cuenta = json.length;
                    $('#PuertoDestinoViajes').empty();
                    var optionsAsString3 = "";
                    optionsAsString3 = "<option value='0'> Seleccione Puerto</option>";
                    if (cuenta != 0) {
                        for (var i = 0; i < cuenta; i++) {
                            if(json[i].Estado!=1)
                            {
                                optionsAsString3 += "<option value='" + json[i].IdPuertoDestino + "'>" + json[i].PuertoDestino + "</option>";
                            }

                        }
                        $('#PuertoDestinoViajes').append(optionsAsString3);
                        $('#PuertoDestinoViajes').selectpicker('refresh');
                    }
                },
            });

            $('#EditarServicioViajeTrigger').trigger('click');
        }

    });
    //EDITAR SERVICIOS VIAJE

    //EDITAR RESERVA Nave
    $("#EditarReservaNave").click(function () {
        var Naves = [];
        var Servicios = [];
        var count = 0;
        var cuenta = $("#Tb_Servicios tbody tr").length;

        $("#Tb_Servicios tbody tr").each(function () {
            if ($(this).find(".dt-checkboxes").is(":checked")) {
                var nave = $(this).find("td:eq(6)").html()
                var validar = ValidarNaves(Naves, nave);
                if (validar == 0) {
                    Naves.push(nave);
                    Servicios.push($(this).find("td:eq(5)").html());
                } else {
                    Naves = [];
                    swal('Ups!', 'No puede editar datos del servicio de Naves distintas.', 'error');
                    return false;
                }
            } else {
                count = count + 1;
                if (count == cuenta) {
                    Naves = [];
                    swal('Ups!', 'Debe seleccionar al menos un registro.', 'error');
                    return false;
                }
            }
        });

        if (Naves.length != 0) {
            localStorage.setItem("Servicios", JSON.stringify(Servicios));
            $("#columnaseditarNave").val("0");
            $('#columnaseditarNave').selectpicker('refresh');
            $("#ColumnaInicioStackingNave").hide();
            $("#ColumnaTerminoStackingNave").hide();
            $("#ColumnaViajeNave").hide();
            $("#ColumnaEtdNave").hide();
            $("#ColumnaEtaNave1").hide();
            $('#EditarReservaNaveTrigger').trigger('click');
        }
    });
    //EDITAR RESERVA NAVE

    function ExportarServiceReport() {

        var Bookings = [];
        var Servicios = [];
        var contadorCheck = 0;
        var contadorNoCheck = 0;
        var cuenta = $("#Tb_Servicios tbody tr").length;

        $("#Tb_Servicios tbody tr").each(function () {
            if ($(this).find(".dt-checkboxes").is(":checked")) {
                contadorCheck = contadorCheck + 1;
                if(contadorCheck >= 2){
                    Bookings = [];
                    swal('Ups!', 'Solo se puede generar Service Report a un servicio a la vez', 'error');
                    return false;
                }
            }else
            {
                contadorNoCheck = contadorNoCheck + 1;
                if(contadorNoCheck == cuenta){
                    Bookings = [];
                    swal('Ups!', 'Debe seleccionar al menos un registro.', 'error');
                    return false;
                }
            }
        });

        if(contadorCheck==1)
        {

            $("#Tb_Servicios tbody tr").each(function () {
                if ($(this).find(".dt-checkboxes").is(":checked")) {
                    var Nave1 = $(this).find("td:eq(6)").html();
                    var Nave2 = "";
                    var Nave3 = "";
                    var Contenedor = $(this).find("td:eq(11)").html();
                    var Controlador = $(this).find("td:eq(10)").html();
                    var Modem = $(this).find("td:eq(13)").html();
                    var FechaServicio = $(this).find("td:eq(39)").html();
                    var Setpoint = $(this).find("td:eq(21)").html();
                    var Cortina = "";
                    var ScrubberSi = "";
                    var ScrubberNo = "";
                    var CO2Real =$(this).find("td:eq(62)").html();
                    var O2Real = $(this).find("td:eq(62)").html();
                    var Bateria = $(this).find("td:eq(40)").html();
                    var Exportador = $(this).find("td:eq(16)").html();
                    var Consignatario =  $(this).find("td:eq(37)").html();
                    var PuertoDestino = $(this).find("td:eq(19)").html();
                    var Packing = $(this).find("td:eq(63)").html();
                    var IdPuertoOrigen = "";
                    var PuertoOrigen = $(this).find("td:eq(18)").html();
                    var HoraInicioLeaktest = "";
                    var HoraTerminoLeaktest = "";
                    var TecnicoLeaktest = "";
                    var TecnicoServicio = $(this).find("td:eq(44)").html();
                    var TecnicoInstalador = $(this).find("td:eq(44)").html();
                    var Commodity = $(this).find("td:eq(22)").html();
                    var TipoCommodity = "";
                    var Etd = $(this).find("td:eq(28)").html();
                    var Eta = $(this).find("td:eq(29)").html();
                    var TemperaturaReserva = $(this).find("td:eq(22)").html();
                    var Booking = $(this).find("td:eq(9)").html();
                    var Naviera = $(this).find("td:eq(8)").html();
                    var CantidadCO2 =$(this).find("td:eq(62)").html();
                    var CantidadO2 =$(this).find("td:eq(62)").html();
                    var CommodityTecnica = $(this).find("td:eq(23)").html();
                    var Nave = $(this).find("td:eq(6)").html();
                    var Viaje = $(this).find("td:eq(7)").html();
                    var Adhesivo = "";
                    var Temperatura = $(this).find("td:eq(22)").html();
                    var TiempoEstanquedad = "";
                    var Candado = $(this).find("td:eq(52)").html();
                    //var IdReserva = getParameterByName("Id");
                    var SelloPerno1 = $(this).find("td:eq(53)").html();
                    var SelloPerno2 = $(this).find("td:eq(54)").html();
                    var SelloTapa = $(this).find("td:eq(55)").html();
                    var SelloPanel1 = $(this).find("td:eq(56)").html();
                    var SelloPanel2 = $(this).find("td:eq(57)").html();
                    var SelloSecurity = $(this).find("td:eq(58)").html();
                    var ComentarioSello = $(this).find("td:eq(59)").html();
                    var IdServicio = $(this).find("td:eq(5)").html();
                    var FechaCortina = $(this).find("td:eq(60)").html();
                    var TLCortina = $(this).find("td:eq(62)").html();
                    var LugarCortina = $(this).find("td:eq(63)").html();
                    var Purafil = $(this).find("td:eq(64)").html();
                    var TLInstContr = $(this).find("td:eq(42)").html();
                    var LugarInstContr = $(this).find("td:eq(43)").html();
                    //var Folio = $("#Folio_agregar").val();
                    var Precinto = $(this).find("td:eq(51)").html();
                    var FechaGasificacion = $(this).find("td:eq(66)").html();
                    var TLGasificacion = $(this).find("td:eq(67)").html();
                    var LugarGasificacion = $(this).find("td:eq(68)").html();
                    var TecnicoGasificador = $(this).find("td:eq(69)").html();
                    var CO2 = "";
                    var N2 = "";
                    var TipoTratamientoCO2 = $(this).find("td:eq(70)").html();
                    var Scrubber = $(this).find("td:eq(71)").html();
                    var Cal = $(this).find("td:eq(72)").html();
                    var EstadoServicio = "2";
                    var CortinaInstalada = "1";
                    var Gasificado = "1";
                    var UltimaNave = "";
                    var UltimoControlador = $(this).find("td:eq(10)").html();
                    var Habilitado = "1";
                    var InstaladorCortina = $(this).find("td:eq(65)").html();

                    if (Nave3 != "") {
                        UltimaNave = Nave3;
                    } else if (Nave2 != "0") {
                        UltimaNave = Nave2;
                    } else {
                        UltimaNave = Nave1;
                    }

                    if (Purafil == "") {
                        Purafil = "0";
                    }

                    if (Temperatura == "") {
                        Temperatura = "0";
                    }

                    if (Precinto == "") {
                        Precinto = "0";
                    }

                    if (Candado == "") {
                        Candado = "0";
                    }

                    if (CO2 == "") {
                        CO2 = "0";
                    }

                    if (N2 == "") {
                        N2 = "0";
                    }

                    if (Scrubber == "") {
                        Scrubber = "0";
                    }

                    if (Cal == "") {
                        Cal = "0";
                    }

                    if (LugarCortina != "") {
                        CortinaInstalada = "0";
                    } else {
                        CortinaInstalada = "1";
                    }

                    if (LugarGasificacion != "") {
                        Gasificado = "0";
                    } else {
                        Gasificado = "1";
                    }


                    if (LugarCortina != "") {
                        Cortina = "x"
                    }

                    if ($(this).find("td:eq(70)").html() == "WITH SCRUBBER FILTER") {
                        ScrubberSi = "x";
                    } else {
                        ScrubberNo = "x";
                    }

                    if (FechaServicio == "") {
                        var FechaServicio2 = "";
                    } else {
                        var FechaServicio2 = FechaServicio;
                    }
                    if (Etd == "") {
                        Etd2 = "";
                    } else {
                        var Etd2 = Etd;
                    }
                    if (Eta == "") {
                        Eta2 = "";
                    } else {
                        var Eta2 = Eta;
                    }

                    var url = '@Url.Action("ExportarServiceReport", "Reservas")?setpoint=' + Setpoint + "&cortina=" + Cortina + "&co2Real=" + CO2Real + "&o2Real=" + O2Real + "&bateria=" + Bateria + "&contenedor=" + Contenedor + "&controlador=" + Controlador + "&modem=" + Modem + "&exportador=" + Exportador + "&consignatario=" + Consignatario + "&puertoDestino=" + PuertoDestino + "&packing=" + Packing + "&PuertoOrigen=" + PuertoOrigen + "&tecnicoServicio=" + TecnicoServicio + "&commodity=" + Commodity + "&etd=" + Etd2 + "&eta=" + Eta2 + "&booking=" + Booking + "&naviera=" + Naviera + "&nave=" + Nave + "&viaje=" + Viaje + "&candado=" + Candado + "&scrubber_si=" + ScrubberSi + "&scrubber_no=" + ScrubberNo + "&fechaServicio=" + FechaServicio2 + "&tecnico_leaktest=" + TecnicoLeaktest + "&tiempo_estanquedad=" + TiempoEstanquedad + "&sello_perno1=" + SelloPerno1 + "&sello_perno2=" + SelloPerno2 + "&sello_tapa=" + SelloTapa + "&sello_panel1=" + SelloPanel1 + "&sello_panel2=" + SelloPanel2 + "&sello_security=" + SelloSecurity + "&temperatura=" + Temperatura + "&id_servicio=" + IdServicio + "&cantidad_O2=" + CantidadO2 + "&cantidad_CO2=" + CantidadCO2 + "&commodity_tecnica=" + CommodityTecnica + "&comentario_sello=" + ComentarioSello + "&temperatura_reserva=" + TemperaturaReserva;
                    window.location.href = url;

                }
            });
        }
    }


    //VALIDAR SERVICIOS
    $("#ValidarServicios").click(function () {

        var Bookings = [];
        var Servicios = [];
        var Controladores = [];
        var Commodity = [];
        var Contenedores = [];
        var FechasInicio = [];
        var Estados = [];
        var Modems = [];
        var LlevaModem = [];
        var SP = [];
        var count = 0;
        var cuenta = $("#Tb_Servicios tbody tr").length;
        var bool = true;

        $("#Tb_Servicios tbody tr").each(function () {
            if ($(this).find(".dt-checkboxes").is(":checked")) {
                var Estado = $(this).find("td:eq(4)").html()
                Estados.push($(this).find("td:eq(4)").html());
                var validar = ValidarEstado(Estados);

                if(validar == 0){
                    Bookings.push($(this).find("td:eq(9)").html());
                    Servicios.push($(this).find("td:eq(5)").html());
                    Controladores.push($(this).find("td:eq(10)").html());
                    Commodity.push($(this).find("td:eq(23)").html());
                    Contenedores.push($(this).find("td:eq(11)").html());
                    FechasInicio.push($(this).find("td:eq(39)").html());
                    Modems.push($(this).find("td:eq(13)").html());
                    LlevaModem.push($(this).find("td:eq(12)").html());
                    SP.push("");
                    bool = true;
                } else {
                    swal('Ups!', 'Debe seleccionar solo servicios en viaje.', 'error');
                    return false;
                }
            }else{
                count = count + 1;
                if(count == cuenta){
                    swal('Ups!', 'Debe seleccionar al menos un registro.', 'error');
                    return false;
                }
            }
        });

        if(count != cuenta && bool == true){
            $.ajax({
                type: "POST",
                url: '@Url.Action("ValidarServicio", "Reservas")',
                data: {
                    Bookings : Bookings,
                    Servicios : Servicios,
                    Controladores : Controladores,
                    Commodity : Commodity,
                    Contenedores : Contenedores,
                    FechasInicio : FechasInicio,
                    Modems : Modems,
                    LlevaModem: LlevaModem,
                    SP: SP
                },
                success: function (response) {
                    var json = JSON.parse(response);
                    var datostabla = "";
                    for(var i = 0; i < json.length; i++){
                        if(json[i].Validado == 0){
                            var validado = "Validado";
                        }else{
                            var validado = "No Validado";
                        }
                        datostabla = datostabla +
                           "<tr>" +
                               "<td style='text-align:center'>" + json[i].IdServicio + "</td>" +
                               "<td style='text-align:center'>" + json[i].Bookingaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].Controladoraux + "</td>" +
                               "<td style='text-align:center'>" + json[i].ControladorEnergizadoaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].EstadoControladoraux + "</td>" +
                               "<td style='text-align:center'>" + json[i].Modemaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].EstadoModemaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].ConexionModemAppTecnicaaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].AsociacionModemControladoraux + "</td>" +
                               "<td style='text-align:center'>" + json[i].Contenedoraux + "</td>" +
                               "<td style='text-align:center'>" + json[i].Commodityaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].Bateriaaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].Alertaaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].Gasificadoaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].DamageReportaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].Scrubber + "</td>" +
                               "<td style='text-align:center'>" + validado + "</td>" +
                           "</tr>";
                    }

                    swal({
                        title: 'INFORMACIÓN DE SERVICIOS VALIDADOS',
                        html: "<div style='overflow-x: auto; max-height: 400px;'>" +
                                "<table class='table table-striped table-bordered display nowrap' >" +
                                  "<thead >" +
                                        "<tr>" +
                                            "<th>ID SERVICIO</th>" +
                                            "<th>BOOKING</th>" +
                                            "<th>CONTROLADOR</th>" +
                                            "<th>CONTROLADOR ENERGIZADO</th>" +
                                            "<th>CONTROLADOR EN TRAVEL</th>" +
                                            "<th>MODEM</th>" +
                                            "<th>MODEM EN TRAVEL</th>" +
                                            "<th>CONEXIÓN MODEM</th>" +
                                            "<th>ASOCIACIÓN MODEM-CONTROLADOR</th>" +
                                            "<th>CONTENEDOR</th>" +
                                            "<th>COMMODITY</th>" +
                                            "<th>BATERIA</th>" +
                                            "<th>SIN ALERTA</th>" +
                                            "<th>GASIFICACION</th>" +
                                            "<th>SIN DAMAGE REPORT</th>" +
                                            "<th>SIN SCRUBBER</th>" +
                                            "<th>ESTADO</th>" +
                                        "</tr>" +
                                    "</thead>" +
                                    "<tbody >" +
                                        datostabla +
                                    "</tbody>" +
                                "</table>" +
                              "</div>",
                        customClass: 'swal-wide',
                        confirmButtonText: 'Aceptar',
                    }).then((result) => {
                        if (result == true) {
                            location.reload();
                        }
                    })
                },
            });
        }
    });
    //VALIDAR SERVICIOS


    //VALIDAR SERVICIOS
    $("#ValidarServiciosAdmin").click(function () {

        var Bookings = [];
        var Servicios = [];
        var Controladores = [];
        var Commodity = [];
        var Contenedores = [];
        var FechasInicio = [];
        var Estados = [];
        var Modems = [];
        var LlevaModem = [];
        var SP = [];
        var count = 0;
        var cuenta = $("#Tb_Servicios tbody tr").length;
        var bool = true;

        $("#Tb_Servicios tbody tr").each(function () {
            if ($(this).find(".dt-checkboxes").is(":checked")) {
                var Estado = $(this).find("td:eq(4)").html()
                Estados.push($(this).find("td:eq(4)").html());
                var validar = ValidarEstado(Estados);

                if(validar == 0){
                    Bookings.push($(this).find("td:eq(9)").html());
                    Servicios.push($(this).find("td:eq(5)").html());
                    Controladores.push($(this).find("td:eq(10)").html());
                    Commodity.push($(this).find("td:eq(23)").html());
                    Contenedores.push($(this).find("td:eq(11)").html());
                    FechasInicio.push($(this).find("td:eq(39)").html());
                    Modems.push($(this).find("td:eq(13)").html());
                    LlevaModem.push($(this).find("td:eq(12)").html());
                    SP.push("");
                    bool = true;
                } else {
                    swal('Ups!', 'Debe seleccionar solo servicios en viaje.', 'error');
                    return false;
                }
            }else{
                count = count + 1;
                if(count == cuenta){
                    swal('Ups!', 'Debe seleccionar al menos un registro.', 'error');
                    return false;
                }
            }
        });

        if(count != cuenta && bool == true){
            $.ajax({
                type: "POST",
                url: '@Url.Action("ValidarServicio", "Reservas")',
                data: {
                    Bookings : Bookings,
                    Servicios : Servicios,
                    Controladores : Controladores,
                    Commodity : Commodity,
                    Contenedores : Contenedores,
                    FechasInicio : FechasInicio,
                    Modems : Modems,
                    LlevaModem: LlevaModem,
                    SP: SP
                },
                success: function (response) {
                    var json = JSON.parse(response);
                    var datostabla = "";
                    for(var i = 0; i < json.length; i++){
                        if(json[i].Validado == 0){
                            var validado = "Validado";
                        }else{
                            var validado = "No Validado";
                        }
                        datostabla = datostabla +
                           "<tr>" +
                               "<td style='text-align:center'>" + json[i].IdServicio + "</td>" +
                               "<td style='text-align:center'>" + json[i].Bookingaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].Controladoraux + "</td>" +
                               "<td style='text-align:center'>" + json[i].ControladorEnergizadoaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].EstadoControladoraux + "</td>" +
                               "<td style='text-align:center'>" + json[i].Modemaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].EstadoModemaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].ConexionModemAppTecnicaaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].AsociacionModemControladoraux + "</td>" +
                               "<td style='text-align:center'>" + json[i].Contenedoraux + "</td>" +
                               "<td style='text-align:center'>" + json[i].Commodityaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].Bateriaaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].Alertaaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].Gasificadoaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].DamageReportaux + "</td>" +
                               "<td style='text-align:center'>" + json[i].Scrubber + "</td>" +
                               "<td style='text-align:center'>" + validado + "</td>" +
                           "</tr>";
                    }

                    swal({
                        title: 'INFORMACIÓN DE SERVICIOS VALIDADOS',
                        html: "<div style='overflow-x: auto; max-height: 400px;'>" +
                                "<table class='table table-striped table-bordered display nowrap' >" +
                                  "<thead >" +
                                        "<tr>" +
                                            "<th>ID SERVICIO</th>" +
                                            "<th>BOOKING</th>" +
                                            "<th>CONTROLADOR</th>" +
                                            "<th>CONTROLADOR ENERGIZADO</th>" +
                                            "<th>CONTROLADOR EN TRAVEL</th>" +
                                            "<th>MODEM</th>" +
                                            "<th>MODEM EN TRAVEL</th>" +
                                            "<th>CONEXIÓN MODEM</th>" +
                                            "<th>ASOCIACIÓN MODEM-CONTROLADOR</th>" +
                                            "<th>CONTENEDOR</th>" +
                                            "<th>COMMODITY</th>" +
                                            "<th>BATERIA</th>" +
                                            "<th>SIN ALERTA</th>" +
                                            "<th>GASIFICACION</th>" +
                                            "<th>SIN DAMAGE REPORT</th>" +
                                            "<th>SIN SCRUBBER</th>" +
                                            "<th>ESTADO</th>" +
                                        "</tr>" +
                                    "</thead>" +
                                    "<tbody >" +
                                        datostabla +
                                    "</tbody>" +
                                "</table>" +
                              "</div>",
                        customClass: 'swal-wide',
                        confirmButtonText: 'Aceptar',
                    }).then((result) => {
                        if (result == true) {
                            location.reload();
                        }
                    })
                },
            });
        }
    });
    //VALIDAR SERVICIOS

    //VALIDACION ESTADO SERVICIO
    function ValidarEstado(Estados) {
        var count = Estados.length;
        var i = 0;
        if (count != 0) {
            while (i != count) {
                if (Estados[i] == "ON SERVICE TRIP") {
                    i = i + 1;
                } else {
                    return 1;
                }
            }
            return 0;
        } else {
            return 0;
        }
    }
    //VALIDACION ESTADO SERVICIO

    $("#TipoNodoControlador").change(function () {
        if ($("#TipoNodoControlador").val() != "0") {
            if ($("#TipoNodoControlador").val() == "1") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetDepositosActivos", "Deposito")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#NodoControlador').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#NodoControlador').append(optionsAsString);
                            $('#NodoControlador').selectpicker('refresh');
                        }
                    },
                });
            }else if ($("#TipoNodoControlador").val() == "2") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetPackingActivos", "Packing")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#NodoControlador').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#NodoControlador').append(optionsAsString);
                            $('#NodoControlador').selectpicker('refresh');
                        }
                    },
                });
            }else if ($("#TipoNodoControlador").val() == "3") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetAntePuertosActivos", "Antepuerto")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#NodoControlador').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#NodoControlador').append(optionsAsString);
                            $('#NodoControlador').selectpicker('refresh');
                        }
                    },
                });
            }else if ($("#TipoNodoControlador").val() == "4") {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetPuertos", "Puertos")',
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        $('#NodoControlador').empty();
                        var optionsAsString = "";
                        if (cuenta != 0) {
                            for (var i = 0; i < cuenta; i++) {
                                optionsAsString += "<option value='" + json[i].Id + "'>" + json[i].Nombre + " - " + json[i].NombreCiudad + "</option>";
                            }
                            $('#NodoControlador').append(optionsAsString);
                            $('#NodoControlador').selectpicker('refresh');
                        }
                    },
                });
            }
        } else {
            $('#TipoNodoControlador').attr('disabled', 'disabled');
            $('#TipoNodoControlador').selectpicker('refresh');
        }
    });

   $("#HistoricoControladoresBoton").click(function () {
        var Bookings = [];
        var Servicio = [];
        var count = 0;
        var cuenta = $("#Tb_Servicios tbody tr").length;

        var table1 = $('#Tb_Historico').DataTable();
        table1.destroy();

        $('#EstadoServicio').prop('checked', false);

        $("#Tb_Servicios tbody tr").each(function () {
            if ($(this).find(".dt-checkboxes").is(":checked")) {
                Servicio.push($(this).find("td:eq(5)").html());
                localStorage.setItem("Lista", JSON.stringify(Servicio));
            }else{
                count = count + 1;
            }
        });


        if(count!=cuenta){
            if(count<cuenta-1)
            {
                swal('Ups!', 'No puedes visualizar mas de un servicio a la vez', 'error');
                return false;
            }else
            {
                var Lista = JSON.parse(localStorage.getItem("Lista"));

                $.ajax({
                    type: "POST",
                    async: false,
                    url: '@Url.Action("HistoricoControladorServicio", "Reservas")',
                    data: {
                        Servicios : Lista
                    },
                    success: function (response) {

                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        var validacion = "";

                        for (var i = 0 ; i < cuenta ; i++) {
                            console.log('paso for: '+i);


                            var LlevaModem = "";
                            if(json[i].LlevaModem == 0){
                                LlevaModem = "NO";
                            }else{
                                LlevaModem = "SI";
                            }

                            var Validado = "";
                            if(json[i].Validado == 0){
                                Validado = "SI";
                            }else{
                                Validado = "NO";
                            }

                            var Habilitado = "";
                            if(json[i].Habilitado == 1){
                                Habilitado = "NO";
                            }else if(json[i].Habilitado == 0){
                                Habilitado = "SI";
                            }else{
                                Habilitado = "POR VALIDAR";
                            }

                            var MovContenedor = "";
                            if(json[i].MovContenedor =="MSH"){
                                MovContenedor = "DEPOSIT OUTPUT";
                            }else if(json[i].MovContenedor =="ECY"){
                                MovContenedor = "TERMINAL INPUT";
                            }else{
                                MovContenedor = "";
                            }

                            var ValidacionServicio = "";
                            if(json[i].ValidacionServicio == 1){
                                ValidacionServicio = "NO";
                            }else if(json[i].ValidacionServicio == 0){
                                ValidacionServicio = "SI";
                            }else{
                                ValidacionServicio = "POR VALIDAR";
                            }

                            data.push([
                                json[i].Accion,
                                FormatDateTime(json[i].FechaAccion),
                                json[i].UsuarioAccion,
                                json[i].DetalleAlerta,
                                json[i].GestionServicio,
                                FormatDateTime(json[i].FechaGestion),
                                json[i].EstadoServicio,
                                json[i].IdServicio,
                                json[i].Nave1,
                                json[i].Viaje,
                                json[i].Naviera,
                                json[i].Booking,
                                json[i].Controlador,
                                json[i].Contenedor,
                                LlevaModem,
                                json[i].Modem,
                                json[i].Sensor,
                                json[i].PaisExportador,
                                json[i].Exportador,
                                json[i].Freightforwarder,
                                json[i].PuertoOrigen,
                                json[i].PuertoDestino,
                                json[i].Commodity,
                                json[i].Setpoint,
                                json[i].Temperatura,
                                json[i].CommodityTecnica,
                                json[i].Semana,
                                formatDate(json[i].EtaNave),
                                formatDate(json[i].FechaIniStacking),
                                formatDate(json[i].FechaFinStacking),
                                formatDate(json[i].Etd),
                                formatDate(json[i].EtaPuerto),
                                json[i].NotaServicio,
                                FormatDateTime(json[i].FechaRegistro),
                                json[i].ServiceProvider,
                                json[i].PaisDeposito,
                                json[i].Deposito,
                                json[i].ContinenteOrigen,
                                json[i].PaisPuertoOrigen,
                                json[i].ContinenteDestino,
                                json[i].Consignatario,
                                FormatDateTime(json[i].FechaControlador),
                                json[i].Bateria,
                                FormatDateTime(json[i].FechaAsociacionBateriaControlador),
                                json[i].TipoLugarControlador,
                                json[i].LugarControlador,
                                json[i].TecnicoControlador,
                                FormatDateTime(json[i].FechaModem),
                                json[i].BateriaModem,
                                FormatDateTime(json[i].FechaAsociacionBateriaModem),
                                json[i].TipoLugarModem,
                                json[i].LugarModem,
                                json[i].TecnicoModem,
                                json[i].PrecintoSecurity,
                                json[i].Candado,
                                json[i].SelloPerno1,
                                json[i].SelloPerno2,
                                json[i].SelloTapa,
                                json[i].SelloPanel1,
                                json[i].SelloPanel2,
                                json[i].SelloSecurity,
                                json[i].ObservacionSellos,
                                FormatDateTime(json[i].FechaCortina),
                                json[i].PaisCortina,
                                json[i].TipoLugarCortina,
                                json[i].LugarCortina,
                                json[i].PurafilCortina,
                                json[i].TecnicoCortina,
                                FormatDateTime(json[i].FechaGasificacion),
                                json[i].TipoLugarGasificacion,
                                json[i].LugarGasificacion,
                                json[i].TecnicoGasificacion,
                                json[i].TratamientoCo2,
                                json[i].FiltroScrubber,
                                json[i].CantidadCalScrubber,
                                json[i].NotasLogistica,
                                Validado,
                                Habilitado,
                                MovContenedor,
                                ValidacionServicio,
                                json[i].TipoEntrega,
                                json[i].NumeroOrdenCarga
                            ]);
                        }


                        $('#Tb_Historico tfoot th').each(function (i) {
                            var title = $('#Tb_Historico thead th').eq($(this).index()).text();
                            if (lenguaje == "es") {
                                $(this).html('<input class="form-control" type="text" placeholder="FILTRAR"/>');
                            } else {

                                $(this).html('<input class="form-control" type="text" placeholder="FILTER" />');
                            }
                        });

                        var table = $('#Tb_Historico').DataTable({
                            data: data,
                            "order": ""
                        });

                        table.columns().every(function () {
                            var that = this;
                            $('input', this.footer()).on('keyup change', function () {
                                if (that.search() !== this.value) {
                                    that
                                        .search(this.value)
                                        .draw();
                                }
                            });
                        });
                    }
                });
                console.log('paso 5');

                $('#HistoricoControlador').trigger('click');
            }
        }
        else{
            swal('Ups!', 'Debe seleccionar al menos un registro.', 'error');
            return false;
        }
    });


    function ValidarNaves(Naves, Nave) {
        var count = Naves.length;
        var i = 0;
        if (count != 0) {
            while (i != count) {
                if (Nave == Naves[i]) {
                    i = i + 1;
                } else {
                    return 1
                }
            }
            return 0;
        } else {
            return 0;
        }
    }

    function FormatDateTime(date) {
        if(date != null){
            var ano = date.substring(0, 4);
            var mes = date.substring(5, 7);
            var dia = date.substring(8, 10);
            var hora = date.substring(11, 13);
            var min = date.substring(14, 16);
            var seg = date.substring(17, 19);
            return dia + "-" + mes + "-" + ano + " "+ hora + ":"+ min + ":"+ seg;
        }else {
            return "";
        }
    }

    $("#columnaseditarNave").change(function () {
        $("#ColumnaInicioStackingNave").hide();
        $("#ColumnaTerminoStackingNave").hide();
        $("#ColumnaViajeNave").hide();
        $("#ColumnaEtdNave").hide();
        $("#ColumnaEtaNave1").hide();
        if ($("#columnaseditarNave").val() == "4") {
            $("#InicioStackingNave").val("");
            $("#ColumnaInicioStackingNave").show();
        } else if ($("#columnaseditarNave").val() == "5") {
            $("#TerminoStackingNave").val("");
            $("#ColumnaTerminoStackingNave").show();
        } else if ($("#columnaseditarNave").val() == "1") {
            $("#ViajeNave").val("");
            $("#ColumnaViajeNave").show();
        } else if ($("#columnaseditarNave").val() == "3") {
            $("#EtdNave").val("");
            $("#ColumnaEtdNave").show();
        } else if ($("#columnaseditarNave").val() == "2") {
            $("#EtaNave1").val("");
            $("#ColumnaEtaNave1").show();
        }
    });

    //EDITAR COLUMNA DE NAVE SELECCIONADA
    $("#EditarDatosNave").click(function () {
        if ($("#columnaseditarNave").val() == "4" && $("#InicioStackingNave").val() == "") {
            swal('Ups!', 'Campo Inicio Stacking Obligatorio.', 'error');
            return false;
        } else if ($("#columnaseditarNave").val() == "5" && $("#TerminoStackingNave").val() == "") {
            swal('Ups!', 'Campo Termino Stacking Obligatorio.', 'error');
            return false;
        } else if ($("#columnaseditarNave").val() == "1" && $("#ViajeNave").val() == "") {
            swal('Ups!', 'Campo Viaje Obligatorio.', 'error');
            return false;
        } else if ($("#columnaseditarNave").val() == "3" && $("#EtdNave").val() == "") {
            swal('Ups!', 'Campo Etd Obligatorio.', 'error');
            return false;
        } else if ($("#columnaseditarNave").val() == "2" && $("#EtaNave1").val() == "") {
            swal('Ups!', 'Campo Eta Nave Obligatorio.', 'error');
            return false;
        }
        var Servicios = JSON.parse(localStorage.getItem("Servicios"));

        $.ajax({
            type: "POST",
            url: '@Url.Action("EdicionMasivaNave", "Reservas")',
            data: {
                Servicios: Servicios,
                IniStacking: $("#InicioStackingNave").val(),
                FinStacking: $("#TerminoStackingNave").val(),
                Viaje: $("#ViajeNave").val(),
                Etd: $("#EtdNave").val(),
                EtaNave: $("#EtaNave1").val()
            },
            success: function (response) {
                var json = JSON.parse(response);
                if (json.validador == 0) {
                    var aux = 'success';
                } else {
                    var aux = 'warning';
                }
                swal({
                    title: '',
                    text: json.Mensaje,
                    type: aux,
                    showCancelButton: false,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Aceptar'
                }).then((result) => {
                    location.reload();
                })
            }
        });
    });
    //EDITAR COLUMNA DE NAVE SELECCIONADA


    //EDITAR VIAJE MASIVO
    $("#EditarDatosViaje").click(function () {
        if ($("#NumViajes").val() == "0" || $("#PuertoOrigenViajes").val() == "0" || $("#PuertoDestinoViajes").val() == "0") {
            swal('Ups!', 'Debes seleccionar todos los campos para editar viaje en los servicios.', 'error');
            return false;
        }

        var Servicios = [];
        var num = document.getElementById("NumViajes");
        var selected = num.options[num.selectedIndex].text;

        $("#Tb_Servicios tbody tr").each(function () {
            if ($(this).find(".dt-checkboxes").is(":checked")) {
                Servicios.push($(this).find("td:eq(5)").html());
            }
        });

        $.ajax({
            type: "POST",
            url: '@Url.Action("EdicionMasivaViaje", "Reservas")',
            data: {
                Servicios: Servicios,
                NumViaje: selected,
                IdPuertoOrigen: $("#PuertoOrigenViajes").val(),
                IdPuertoDestino: $("#PuertoDestinoViajes").val()
            },
            success: function (response) {
                var json = JSON.parse(response);
                if (json.validador == 0) {
                    var aux = 'success';
                } else {
                    var aux = 'warning';
                }
                swal({
                    title: '',
                    text: json.Mensaje,
                    type: aux,
                    showCancelButton: false,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Aceptar'
                }).then((result) => {
                    location.reload();
                })
            }
        });
    });
    //EDITAR VIAJE MASIVO


    $('#quitar').change(function () {
        if ($(this).prop("checked")) {
            $('#quitarcontenedor').show();
            $('#cambiarcontenedor').hide();
            $('#cambiar').prop('checked', false);
            $('.EditarCelda').hide();
            $("#EditarContenedorInput").css("background-color", "rgba(255, 0, 0, 0");
            return;
        } else {
            $('#quitarcontenedor').hide();
            return;
        }
    });

    $('#cambiar').change(function () {
        if ($(this).prop("checked")) {
            $('#EditarSelloperno1').val("");
            $('#EditarSelloperno2').val("");
            $('#EditarTapa').val("");
            $('#EditarDeposito').val("");
            $('#EditarPais').val("");
            $('#cambiarcontenedor').show();
            $('#quitarcontenedor').hide();
            $('#quitar').prop('checked', false);
            $('.EditarCelda').show();
            $.ajax({
                type: "POST",
                url: '@Url.Action("GetContenedoresAprobados", "Contenedores")',
                success: function (response) {
                    var data = [];
                    var json = JSON.parse(response);
                    var cuenta = json.length;
                    var optionsAsString = "";
                    $('#EditarContenedor').empty();
                    for (var i = 0; i < cuenta; i++) {
                        optionsAsString += "<option value='" + json[i].IdContenedor + "'>" + json[i].NumeroContenedor + "</option>";
                    }
                    $('#EditarContenedor').append(optionsAsString);
                    $('#EditarContenedor').selectpicker('refresh');
                },
            });
            return;
        } else {
            $('#cambiarcontenedor').hide();
            $('.EditarCelda').hide();
            return;
        }
    });

    $("#QuitarContenedor").click(function () {
        if ($("#EditarContenedorInput").val() != "") {
            $.ajax({
                type: "POST",
                url: '@Url.Action("QuitarContenedor", "Reservas")',
                data: {
                    NumContenedor: $("#EditarContenedorInput").val(),
                    IdServicio: $("#IdServcioEditarContendor").val()
                },
                success: function (response) {
                    var json = JSON.parse(response);
                    if (json.validador == 0) {
                        var aux = 'success';
                    } else {
                        var aux = 'warning';
                    }
                    swal({
                        title: '',
                        text: json.Mensaje,
                        type: aux,
                        showCancelButton: false,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'Aceptar'
                    }).then((result) => {
                        $('#Tb_Servicios tbody tr:eq(' + localStorage.getItem("Fila") + ') td:eq(' + localStorage.getItem("Columna") + ')').text("");
                        $('#quitarcontenedor').hide();
                        $('#quitar').prop('checked', false);
                    })
                },
            });
        } else {
            $("#EditarContenedorInput").css("background-color", "rgba(255, 0, 0, 0.4");
        }
    });

    $('#quitarControladorCheck').change(function () {
        if ($(this).prop("checked")) {
            $('#quitarControladorDiv').show();
            $('#cambiarControladorDiv').hide();
            $('#cambiarControladorCheck').prop('checked', false);
            $('.EditarCelda').hide();
            $("#EditarControladorInput").css("background-color", "rgba(255, 0, 0, 0");
            return;
        } else {
            $('#quitarControladorDiv').hide();
            return;
        }
    });

    $('#cambiarControladorCheck').change(function () {
        if ($(this).prop("checked")) {
            $('#cambiarControladorDiv').show();
            $('#quitarControladorDiv').hide();
            $('#quitarControladorCheck').prop('checked', false);
        } else {
            $('#cambiarControladorDiv').hide();
            $('.EditarCelda').hide();
            return;
        }
    });
    $("#QuitarControladorBtn").click(function () {
        if ($("#EditarControladorInput").val() != "") {
            if($("#IdEstadoServicioControlador").val() == "ON SERVICE TRIP")
            {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("QuitarControlador", "Reservas")',
                    data: {
                        NumControlador: $("#EditarControladorInput").val(),
                        IdServicio: $("#IdServcioEditarControlador").val()
                    },
                    success: function (response) {
                        var json = JSON.parse(response);
                        if (json.validador == 0) {
                            var aux = 'success';
                        } else {
                            var aux = 'warning';
                        }
                        swal({
                            title: '',
                            text: json.Mensaje,
                            type: aux,
                            showCancelButton: false,
                            confirmButtonColor: '#3085d6',
                            cancelButtonColor: '#d33',
                            confirmButtonText: 'Aceptar'
                        }).then((result) => {
                            $('#Tb_Servicios tbody tr:eq(' + localStorage.getItem("Fila") + ') td:eq(' + localStorage.getItem("Columna") + ')').text("");
                            $('#Tb_Servicios tbody tr:eq(' + localStorage.getItem("Fila") + ') td:eq(4)').text("RESERVED");
                            $('#Tb_Servicios tbody tr:eq(' + localStorage.getItem("Fila") + ') td').css("background-color", "rgba(255, 255,255, 0.0);");
                            $('#quitarControladorDiv').hide();
                            $('#quitarControladorCheck').prop('checked', false);
                        })
                    },
                });
            }else
            {
                swal('Ups!', 'No se puede quitar un controlador de un servicio con estado distinto a ON SERVICE TRIP', 'error');
                return false;
            }

        } else {
            $("#EditarControladorInput").css("background-color", "rgba(255, 0, 0, 0.4");
        }
    });

    $('#quitarModemCheck').change(function () {
        if ($(this).prop("checked")) {
            $('#quitarModemDiv').show();
            $('#cambiarModemDiv').hide();
            $('#cambiarModemCheck').prop('checked', false);
            $('.EditarCelda').hide();
            $("#EditarModemInput").css("background-color", "rgba(255, 0, 0, 0");
            return;
        } else {
            $('#quitarModemDiv').hide();
            return;
        }
    });

    $('#cambiarModemCheck').change(function () {
        if ($(this).prop("checked")) {
            $('#cambiarModemDiv').show();
            $('#quitarModemDiv').hide();
            $('#quitarModemCheck').prop('checked', false);
        } else {
            $('#cambiarModemDiv').hide();
            $('.EditarCelda').hide();
            return;
        }
    });

    $("#QuitarModemBtn").click(function () {
        if ($("#EditarModemInput").val() != "") {
            if($("#IdEstadoServicioModem").val() == "ON SERVICE TRIP" || $("#IdEstadoServicioModem").val() == "RESERVED")
            {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("QuitarModem", "Reservas")',
                    data: {
                        NumModem: $("#EditarModemInput").val(),
                        IdServicio: $("#IdServcioEditarModem").val()
                    },
                    success: function (response) {
                        var json = JSON.parse(response);
                        if (json.validador == 0) {
                            var aux = 'success';
                        } else {
                            var aux = 'warning';
                        }
                        swal({
                            title: '',
                            text: json.Mensaje,
                            type: aux,
                            showCancelButton: false,
                            confirmButtonColor: '#3085d6',
                            cancelButtonColor: '#d33',
                            confirmButtonText: 'Aceptar'
                        }).then((result) => {
                            $('#Tb_Servicios tbody tr:eq(' + localStorage.getItem("Fila") + ') td:eq(' + localStorage.getItem("Columna") + ')').text("");
                            $('#quitarModemDiv').hide();
                            $('#quitarModemCheck').prop('checked', false);
                        })
                    },
                });
            }else
            {
                swal('Ups!', 'No se puede quitar un Modem de un servicio con estado distinto a ON SERVICE TRIP O RESERVED', 'error');
                return false;
            }

        } else {
            $("#EditarModemInput").css("background-color", "rgba(255, 0, 0, 0.4");
        }
    });


    $("#EstadoServicio").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#EstadoServicio').is(':checked') == true) {
            table.columns( [1] ).visible( false );
            return;
        }else{
            table.columns( [1] ).visible( true );
        }
    });

    $("#NaveHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#NaveHistorico').is(':checked') == true) {
            table.columns( [2] ).visible( false );
            return;
        }else{
            table.columns( [2] ).visible( true );
        }
    });

    $("#ViajeHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#ViajeHistorico').is(':checked') == true) {
            table.columns( [3] ).visible( false );
            return;
        }else{
            table.columns( [3] ).visible( true );
        }
    });

    $("#EtaHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#EtaHistorico').is(':checked') == true) {
            table.columns( [4] ).visible( false );
            return;
        }else{
            table.columns( [4] ).visible( true );
        }
    });

    $("#InistackingHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#InistackingHistorico').is(':checked') == true) {
            table.columns( [5] ).visible( false );
            return;
        }else{
            table.columns( [5] ).visible( true );
        }
    });

    $("#FinstackingHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#FinstackingHistorico').is(':checked') == true) {
            table.columns( [6] ).visible( false );
            return;
        }else{
            table.columns( [6] ).visible( true );
        }
    });

    $("#EtdHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#EtdHistorico').is(':checked') == true) {
            table.columns( [7] ).visible( false );
            return;
        }else{
            table.columns( [7] ).visible( true );
        }
    });

    $("#EtapuertoHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#EtapuertoHistorico').is(':checked') == true) {
            table.columns( [8] ).visible( false );
            return;
        }else{
            table.columns( [8] ).visible( true );
        }
    });

    $("#FreightforwarderHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#FreightforwarderHistorico').is(':checked') == true) {
            table.columns( [9] ).visible( false );
            return;
        }else{
            table.columns( [9] ).visible( true );
        }
    });

    $("#ExportadorHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#ExportadorHistorico').is(':checked') == true) {
            table.columns( [10] ).visible( false );
            return;
        }else{
            table.columns( [10] ).visible( true );
        }
    });

    $("#ConsignatarioHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#ConsignatarioHistorico').is(':checked') == true) {
            table.columns( [11] ).visible( false );
            return;
        }else{
            table.columns( [11] ).visible( true );
        }
    });

    $("#PuertoorigenHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#PuertoorigenHistorico').is(':checked') == true) {
            table.columns( [12] ).visible( false );
            return;
        }else{
            table.columns( [12] ).visible( true );
        }
    });

    $("#PuertodestinoHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#PuertodestinoHistorico').is(':checked') == true) {
            table.columns( [13] ).visible( false );
            return;
        }else{
            table.columns( [13] ).visible( true );
        }
    });

    $("#BookingHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#BookingHistorico').is(':checked') == true) {
            table.columns( [14] ).visible( false );
            return;
        }else{
            table.columns( [14] ).visible( true );
        }
    });

    $("#CommodityHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#CommodityHistorico').is(':checked') == true) {
            table.columns( [15] ).visible( false );
            return;
        }else{
            table.columns( [15] ).visible( true );
        }
    });

    $("#SetpointHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#SetpointHistorico').is(':checked') == true) {
            table.columns( [16] ).visible( false );
            return;
        }else{
            table.columns( [16] ).visible( true );
        }
    });

    $("#TemperaturaHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#TemperaturaHistorico').is(':checked') == true) {
            table.columns( [17] ).visible( false );
            return;
        }else{
            table.columns( [17] ).visible( true );
        }
    });

    $("#ContenedorHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#ContenedorHistorico').is(':checked') == true) {
            table.columns( [18] ).visible( false );
            return;
        }else{
            table.columns( [18] ).visible( true );
        }
    });

    $("#ControladorHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#ControladorHistorico').is(':checked') == true) {
            table.columns( [19] ).visible( false );
            return;
        }else{
            table.columns( [19] ).visible( true );
        }
    });

    $("#LugarControladorHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#LugarControladorHistorico').is(':checked') == true) {
            table.columns( [20] ).visible( false );
            return;
        }else{
            table.columns( [20] ).visible( true );
        }
    });

    $("#FechaControladorHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#FechaControladorHistorico').is(':checked') == true) {
            table.columns( [21] ).visible( false );
            return;
        }else{
            table.columns( [21] ).visible( true );
        }
    });

    $("#Sello1Historico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#Sello1Historico').is(':checked') == true) {
            table.columns( [22] ).visible( false );
            return;
        }else{
            table.columns( [22] ).visible( true );
        }
    });

    $("#Sello2Historico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#Sello2Historico').is(':checked') == true) {
            table.columns( [23] ).visible( false );
            return;
        }else{
            table.columns( [23] ).visible( true );
        }
    });

    $("#SelloSecurityHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#SelloSecurityHistorico').is(':checked') == true) {
            table.columns( [24] ).visible( false );
            return;
        }else{
            table.columns( [24] ).visible( true );
        }
    });

    $("#LugarCortinaHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#LugarCortinaHistorico').is(':checked') == true) {
            table.columns( [25] ).visible( false );
            return;
        }else{
            table.columns( [25] ).visible( true );
        }
    });

    $("#FechaCortinaHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#FechaCortinaHistorico').is(':checked') == true) {
            table.columns( [26] ).visible( false );
            return;
        }else{
            table.columns( [26] ).visible( true );
        }
    });

    $("#LugarGasificacionHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#LugarGasificacionHistorico').is(':checked') == true) {
            table.columns( [27] ).visible( false );
            return;
        }else{
            table.columns( [27] ).visible( true );
        }
    });

    $("#FechaGasificacionHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#FechaGasificacionHistorico').is(':checked') == true) {
            table.columns( [28] ).visible( false );
            return;
        }else{
            table.columns( [28] ).visible( true );
        }
    });

    $("#TratamientoHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#TratamientoHistorico').is(':checked') == true) {
            table.columns( [29] ).visible( false );
            return;
        }else{
            table.columns( [29] ).visible( true );
        }
    });

    $("#ValidadoHistorico").click(function () {
        var table = $('#Tb_Historico').DataTable();
        if ($('#ValidadoHistorico').is(':checked') == true) {
            table.columns( [30] ).visible( false );
            return;
        }else{
            table.columns( [30] ).visible( true );
        }
    });

    $("#CommodityBookingEditar").change(function () {
        if ($("#Commodity").val() != "0") {
            $.ajax({
                type: "POST",
                url: '@Url.Action("GetSetpointCommodity", "Setpoint")',
                data: { Commodity: $("#CommodityBookingEditar").val() },
                success: function (response) {
                    var data = [];
                    var json = JSON.parse(response);
                    var cuenta = json.length;
                    var optionsAsString = "";
                    $('#SetpointBookingEditar').empty();
                    for (var i = 0; i < cuenta; i++) {
                        optionsAsString += "<option value='" + json[i].IdSetpoint + "'>" + json[i].CO2 + "% CO2, " + json[i].O2 + "% O2" + "</option>";
                    }
                    $('#SetpointBookingEditar').append(optionsAsString);
                    $('#SetpointBookingEditar').selectpicker('refresh');
                },
            });
        }
    });

    function RolearEditar() {
            var fila = localStorage.getItem("Fila");
            if ($("#EditarBooking").val() == "") {
                $("#EditarBooking").css("background-color", "rgba(255, 0, 0, 0.4)");
                $("button[data-id=NavieraBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=ExportadorBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=CommodityBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=SetpointBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoOrigenBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoDestinoBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtapuertoBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtdnaveBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#ViajeBookingEditar").css("background-color", "rgba(255, 0, 0, 0");
            } else if ($("#NavieraBookingEditar").val() == "0") {
                $("#EditarBooking").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=NavieraBookingEditar]").css("background", "rgba(255, 0, 0, 0.4)");
                $("button[data-id=ExportadorBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=CommodityBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=SetpointBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoOrigenBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoDestinoBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtapuertoBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtdnaveBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#ViajBookingEditare").css("background-color", "rgba(255, 0, 0, 0");
            } else if ($("#NaveBookingEditar").val() == "0") {
                $("#EditarBooking").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=NavieraBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=NaveBookingEditar]").css("background", "rgba(255, 0, 0, 0.4)");
                $("button[data-id=ExportadorBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=CommodityBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=SetpointBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoOrigenBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoDestinoBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtapuertoBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtdnaveBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#ViajeBookingEditar").css("background-color", "rgba(255, 0, 0, 0");
            }else if ($("#ExportadorBookingEditar").val() == "0" || $("#ExportadorBookingEditar").val() == null) {
                $("#EditarBooking").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=NavieraBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=NaveBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=ExportadorBookingEditar]").css("background-color", "rgba(255, 0, 0, 0.4)");
                $("button[data-id=CommodityBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=SetpointBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoOrigenBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoDestinoBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtapuertoBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtdnaveBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#ViajeBookingEditar").css("background-color", "rgba(255, 0, 0, 0");
            } else if ($("#CommodityBookingEditar").val() == "0") {
                $("#EditarBooking").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=NavieraBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=NaveBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=ExportadorBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=CommodityBookingEditar]").css("background-color", "rgba(255, 0, 0, 0.4)");
                $("button[data-id=SetpointBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoOrigenBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoDestinoBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtapuertoBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtdnaveBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#ViajeBookingEditar").css("background-color", "rgba(255, 0, 0, 0");
            } else if ($("#SetpointBookingEditar").val() == "0") {
                $("#EditarBooking").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=NavieraBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=NaveBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=ExportadorBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=CommodityBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=SetpointBookingEditar]").css("background-color", "rgba(255, 0, 0, 0.4)");
                $("button[data-id=PuertoOrigenBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoDestinoBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtapuertoBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtdnaveBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#ViajeBookingEditar").css("background-color", "rgba(255, 0, 0, 0");
            } else if ($("#PuertoOrigenBookingEditar").val() == "0" || $("#PuertoOrigenBookingEditar").val() == null) {
                $("#EditarBooking").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=NavieraBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=NaveBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=ExportadorBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=CommodityBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=SetpointBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoOrigenBookingEditar]").css("background-color", "rgba(255, 0, 0, 0.4)");
                $("button[data-id=PuertoDestinoBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtapuertoBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtdnaveBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#ViajeBookingEditar").css("background-color", "rgba(255, 0, 0, 0");
            } else if ($("#PuertoDestinoBookingEditar").val() == "0" || $("#PuertoDestinoBookingEditar").val() == null) {
                $("#EditarBooking").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=NavieraBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=NaveBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=ExportadorBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=CommodityBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=SetpointBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoOrigenBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoDestinoBookingEditar]").css("background-color", "rgba(255, 0, 0, 0.4)");
                $("#EtapuertoBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtdnaveBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#ViajeBookingEditar").css("background-color", "rgba(255, 0, 0, 0");
            } else if ($("#EtdnaveBookingEditar").val() == "") {
                $("#EditarBooking").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=NavieraBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=NaveBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=ExportadorBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=CommodityBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=SetpointBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoOrigenBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoDestinoBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtdnaveBookingEditar").css("background-color", "rgba(255, 0, 0, 0.4)");
                $("#EtapuertoBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#ViajeBookingEditar").css("background-color", "rgba(255, 0, 0, 0");
            } else if ($("#ViajeBookingEditar").val() == "") {
                $("#EditarBooking").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=NavieraBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=NaveBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=ExportadorBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=CommodityBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=SetpointBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoOrigenBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoDestinoBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtapuertoBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtdnaveBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#ViajeBookingEditar").css("background-color", "rgba(255, 0, 0, 0.4");
            } else if ($("#TemperaturaBookingEditar").val() == "") {
                $("#EditarBooking").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=NavieraBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=NaveBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=ExportadorBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=CommodityBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=SetpointBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoOrigenBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoDestinoBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtapuertoBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtdnaveBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#ViajeBookingEditar").css("background-color", "rgba(255, 0, 0, 0");
                $("#TemperaturaBookingEditar").css("background-color", "rgba(255, 0, 0, 0.4");
            } else {
                $("#EditarBooking").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=NavieraBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=NaveBookingEditar]").css("background", "rgba(255, 0, 0, 0)");
                $("button[data-id=ExportadorBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=CommodityBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=SetpointBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoOrigenBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("button[data-id=PuertoDestinoBookingEditar]").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtapuertoBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#EtdnaveBookingEditar").css("background-color", "rgba(255, 0, 0, 0)");
                $("#ViajeBookingEditar").css("background-color", "rgba(255, 0, 0, 0");
                $("#TemperaturaBookingEditar").css("background-color", "rgba(255, 0, 0, 0");

                var inicioStacking = $("#Inicio_stacking").val();
                var etd = $("#Etd").val();
                var terminoStacking = $("#Termino_stacking").val();

                $.ajax({
                    type: "POST",
                    url: '@Url.Action("RoleoServicio", "Reservas")',
                    data: {
                        Booking: $("#EditarBooking").val(),
                        IdNaviera: $("#NavieraBookingEditar").val(),
                        IdExportador: $("#ExportadorBookingEditar").val(),
                        IdCommodity: $("#CommodityBookingEditar").val(),
                        IdPuertoOrigen: $("#PuertoOrigenBookingEditar").val(),
                        IdPuertoDestino: $("#PuertoDestinoBookingEditar").val(),
                        IdNave: $("#NaveBookingEditar").val(),
                        IdSetpoint: $("#SetpointBookingEditar").val(),
                        Viaje: $("#ViajeBookingEditar").val(),
                        CantServicios: 1,
                        Temperatura: $("#TemperaturaBookingEditar").val(),
                        Etd: $("#EtdnaveBookingEditar").val(),
                        IdServiceProvider : 1,
                        FechaIniStacking: $("#InistackingBookingEditar").val(),
                        FechaFinStacking: $("#FinstackingBookingEditar").val(),
                        EtaNave: $("#EtanaveBookingEditar").val(),
                        Eta: $("#EtapuertoBookingEditar").val(),
                        Consignatario: $("#ConsiganatarioBookingEditar").val(),
                        IdFreightForwarder: $("#FreightforwarderBookingEditar").val(),
                        IdServicio : $('#Tb_Servicios tbody tr:eq('+fila+') td:eq(5)').text(),
                    },
                    success: function (response) {
                        var json = JSON.parse(response);
                        if (json.validador == 0) {
                            var aux = 'success';
                        } else {
                            var aux = 'warning';
                        }
                        swal({
                            title: '',
                            text: json.Mensaje,
                            type: aux,
                            showCancelButton: false,
                            confirmButtonColor: '#3085d6',
                            cancelButtonColor: '#d33',
                            confirmButtonText: 'Aceptar'
                        }).then((result) => {
                            location.reload('../Reservas/GestionarServicios');
                        })
                    }
                });
            }
    }

    function ValidarHabilitacion(data){
        var dateString = Number(data.substr(11,2));
        if(dateString == 23 || dateString < 8 ){
            return 0;
        }else{
            return 1;
        }
    }

    $("#ValidacionServicio").click(function () {

        var Contenedores = [];
        var Controladores = [];
        var Validado = [];
        var ValidadoPreZarpe = [];
        var SelloSecurity = [];
        var TipoLugarInstalacion = [];
        var LugarInstalacion = [];
        var SP = [];
        var TecnicoControlador = [];
        var TipoLugarCortina = [];
        var TecnicoCortina=[];
        var Servicios = [];
        var EtaPOD =[];
        var contadorCheck = 0;
        var contadorNoCheck = 0;
        var cuenta = $("#Tb_Servicios tbody tr").length;

        $("#Tb_Servicios tbody tr").each(function () {
            if ($(this).find(".dt-checkboxes").is(":checked")) {
                contadorCheck = contadorCheck + 1;
                Servicios.push($(this).find("td:eq(5)").html());
                Contenedores.push($(this).find("td:eq(11)").html());
                Controladores.push($(this).find("td:eq(10)").html());
                Validado.push($(this).find("td:eq(74)").html());
                ValidadoPreZarpe.push($(this).find("td:eq(75)").html());
                SelloSecurity.push($(this).find("td:eq(58)").html());
                TipoLugarInstalacion.push($(this).find("td:eq(42)").html());
                LugarInstalacion.push($(this).find("td:eq(43)").html());
                SP.push($(this).find("td:eq(31)").html());
                TecnicoControlador.push($(this).find("td:eq(44)").html());
                TipoLugarCortina.push($(this).find("td:eq(62)").html());
                TecnicoCortina.push($(this).find("td:eq(65)").html());
                EtaPOD.push($(this).find("td:eq(28)").html());
            }else
            {
                contadorNoCheck = contadorNoCheck + 1;
                if(contadorNoCheck == cuenta){
                    Servicios = [];
                    swal('Ups!', 'Debe seleccionar al menos un registro.', 'error');
                    return false;
                }
            }
        });

        if(contadorCheck>=1)
        {
            $.ajax({
                type: "POST",
                url: '@Url.Action("ValidarServicioNoTecnica", "Reservas")',
                data: {
                    Servicios : Servicios,
                    Contenedores: Contenedores,
                    Controladores: Controladores,
                    Validado: Validado,
                    ValidadoPreZarpe: ValidadoPreZarpe,
                    SelloSecurity: SelloSecurity,
                    TipoLugarInstalacion: TipoLugarInstalacion,
                    LugarInstalacion: LugarInstalacion,
                    SP: SP,
                    TecnicoControlador: TecnicoControlador,
                    TipoLugarCortina: TipoLugarCortina,
                    TecnicoCortina: TecnicoCortina,
                    EtaPOD: EtaPOD,
                },
                success: function (response) {
                    var json = JSON.parse(response);
                    var validados = "ID SERVICIOS : ";
                    var novalidados = "ID SERVICIOS :";

                    for(var i = 0; i < json.length; i++){
                        if(json[i].Validado == 0){
                            validados = validados + " " + json[i].IdServicio + " - ";
                        }else{
                            novalidados = novalidados  + " " + json[i].IdServicio + " - ";
                        }
                    }
                    swal({
                        title: 'INFO DE SERVICIOS VALIDADOS',
                        type: 'info',
                        html:
                            '<h4>Servicios Validados</h4>' +
                            '<div>'+validados+'<div>'+
                            '<h4>Servicios No Validados</h4>'+
                            '<div>'+novalidados+'<div>',
                        customClass: 'swal-wide',
                        confirmButtonText: 'Aceptar',
                    }).then((result) => {
                        if (result == true) {
                            location.reload();
                        }
                    })
                },
            });
        }
    });

    $("#HistoricoValidacion").click(function () {
        var Bookings = [];
        var Servicio = [];
        var count = 0;
        var cuenta = $("#Tb_Servicios tbody tr").length;

        var table1 = $('#Tb_HistoricoValidacion').DataTable();
        table1.destroy();

        $("#Tb_Servicios tbody tr").each(function () {
            if ($(this).find(".dt-checkboxes").is(":checked")) {
                Servicio.push($(this).find("td:eq(5)").html());
                localStorage.setItem("Lista", JSON.stringify(Servicio));
            }else{
                count = count + 1;
            }
        });

        if(count!=cuenta){
            if(count<cuenta-1)
            {
                swal('Ups!', 'No puedes visualizar mas de un servicio a la vez', 'error');
                return false;
            }else
            {
                var Lista = JSON.parse(localStorage.getItem("Lista"));
                $.ajax({
                    type: "POST",
                    async: false,
                    url: '@Url.Action("HistoricoControladorServicio", "Reservas")',
                    data: {
                        Servicios : Lista
                    },
                    success: function (response) {
                        var data = [];
                        var json = JSON.parse(response);
                        var cuenta = json.length;
                        var validacion = "";

                        for (var i = 0 ; i < cuenta ; i++) {
                            if(json[i].ValidacionServicio == 0){
                                data.push([ formatDate(json[i].FechaCancelacion),json[i].Usuario])
                            }
                        }

                        $('#Tb_HistoricoValidacion tfoot th').each(function (i) {
                            var title = $('#Tb_HistoricoValidacion thead th').eq($(this).index()).text();
                            if (lenguaje == "es") {
                                $(this).html('<input class="form-control" type="text" placeholder="FILTRAR"/>');
                            } else {

                                $(this).html('<input class="form-control" type="text" placeholder="FILTER" />');
                            }
                        });

                        var table = $('#Tb_HistoricoValidacion').DataTable({
                            data: data,
                        });

                        table.columns().every(function () {
                            var that = this;
                            $('input', this.footer()).on('keyup change', function () {
                                if (that.search() !== this.value) {
                                    that
                                        .search(this.value)
                                        .draw();
                                }
                            });
                        });
                    }
                });

                $('#HistoricoValidacionServicioTrigger').trigger('click');
            }
        }else{
            swal('Ups!', 'Debe seleccionar al menos un registro.', 'error');
            return false;
        }
    });

    //GENERAR GRAFICOS
    $("#GenerarGraficos").click(function () {

        var Bookings = [];
        var Servicios = [];
        var count = 0;
        var cuenta = $("#Tb_Servicios tbody tr").length;


        $('#Tb_Servicios').DataTable().rows().iterator('row', function(context, index){
            var node = $(this.row(index).node());
            if ($(this.row(index).node()).find(".dt-checkboxes").is(":checked")) {
                var contenedor = $(this.row(index).node()).find("td:eq(11)").html();
                var controlador = $(this.row(index).node()).find("td:eq(10)").html();
                var fecha = $(this.row(index).node()).find("td:eq(39)").html()  + ':00.000';
                var puertorigen = $(this.row(index).node()).find("td:eq(18)").html();
                var puertodestino = $(this.row(index).node()).find("td:eq(19)").html();
                if(contenedor != ""){
                    Servicios.push(contenedor.trim() + ',' + controlador.trim() + ',' + fecha + ',' + puertorigen.trim() + ',' + puertodestino.trim());
                }            }
            //node.context is element of tr generated by jQuery DataTables.
        });


        if (Servicios.length != 0 && Servicios.length <= 10 ) {
            var tamano = Servicios.length;
            localStorage.setItem("Servicios", JSON.stringify(Servicios));
            Lista = JSON.parse(localStorage.getItem("Servicios"));
            swal({
                title: 'Advertencia',
                text: '¿Estas seguro que deseas generar ' + Lista.length + ' graficos?',
                type: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Aceptar'
            }).then((result) => {
                var Lista = JSON.parse(localStorage.getItem("Servicios"));
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GenerarGraficos1", "Reservas")',
                    data: {
                        Servicios: Lista
                    },
                    success: function (response) {
                        var json = JSON.parse(response);
                        if (json.validador == 0) {
                            var aux = 'success';
                        } else {
                            var aux = 'warning';
                        }
                        swal({
                            title: '',
                            text: json.Mensaje,
                            type: aux,
                            showCancelButton: false,
                            confirmButtonColor: '#3085d6',
                            cancelButtonColor: '#d33',
                            confirmButtonText: 'Aceptar'
                        }).then((result) => {

                        })
                    }
                });
            })
        }

        if (Servicios.length > 10) {
            Bookings = [];
            swal('Ups!', 'Debe seleccionar como maximo 10 registros.', 'error');
            return false;
        }
    });


    $("#GraficoUnitario").click(function () {
        var Servicios = [];
        var contadorCheck = 0;
        var contadorNoCheck = 0;
        var cuenta = $("#Tb_Servicios tbody tr").length;

        $("#Tb_Servicios tbody tr").each(function () {
            if ($(this).find(".dt-checkboxes").is(":checked")) {
                contadorCheck = contadorCheck + 1;
                Servicios.push($(this).find("td:eq(5)").html());

                if(contadorCheck >= 2){
                    Servicios = [];
                    swal('Ups!', 'Solo se puede Visualizar un servicio a la vez', 'error');
                    return false;
                }
            }else
            {
                contadorNoCheck = contadorNoCheck + 1;
                if(contadorNoCheck == cuenta){
                    Servicios = [];
                    swal('Ups!', 'Debe seleccionar al menos un registro.', 'error');
                    return false;
                }
            }
        });

        if(contadorCheck==1)
        {
            // se abre nueva pestaña con gráfico
            var url = window.location.protocol + "//" + window.location.hostname + (window.location.port ? ':' + window.location.port: '') + "/PruebaIntranet/Reservas/GraficoMediciones?IdServicio="+Servicios[0];
            //var url = window.location.protocol + "//" + window.location.hostname + (window.location.port ? ':' + window.location.port: '') + "/Reservas/GraficoMediciones?IdServicio="+Servicios[0];
            window.open(url);
        }
    });


    $("#LimpiarFiltro").click(function () {
        location.reload();
    });

    $("#FiltroColores").click(function () {
        var color=$("#ListaColor").val();

        var table1 = $('#Tb_Servicios').DataTable();
        table1.destroy();

        $('#Tb_Servicios thead tr:eq(1) th').each( function (i) {
            var title = $('#example thead tr:eq(0) th').eq( $(this).index() ).text();
            if($(this).index() != 0){
                $(this).html( '<input type="text" class="form-control" placeholder="FILTER" data-index="'+i+'"/>' );
            }
        });

        var table = $("#Tb_Servicios").DataTable({
            orderCellsTop:  true,
            fixedColumns:   true,
            scrollX: true,
            pageLength: 15,
            ajax: {
                "url": "@Url.Action("GetHistoricosServicios1Color", "Reservas")",
            "data": { color: color},
            "dataSrc": ''
        },
            dom: 'Bfrtip',
            buttons: [
                {
                    extend: 'excel',
                    exportOptions: {
                        columns: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
                                  21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40,
                                  41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60,
                                  61, 62,64,65]
                    },
                }
            ],
            "rowCallback": function (row, data, index)
            {
                // LOGICA COLORES
                var posee_alertas_importantes = false;

                if(data.EstadoServicio.indexOf("CANCELLED") > -1){
                    // SIN COLOR
                }
                else
                {
                    if(data.DetalleAlerta != null && data.DetalleAlerta != "" )
                    {
                        if (data.DetalleAlerta.indexOf("CONTENEDOR MSC EN TERMINAL SIN AC") > -1)
                        {
                            $('td', row).css("background-color", "rgba(213, 184, 255, 1)"); // MORADO
                            posee_alertas_importantes = true;
                        }
                        else if (data.DetalleAlerta.indexOf("ETA NAVE VENCIDO") > -1)
                        {
                            $('td', row).css("background-color", "rgba(255, 0, 0, 0.4);"); // ROJO
                            posee_alertas_importantes = true;
                        }
                        else if (data.DetalleAlerta.indexOf("ETA NAVE POR VENCER") > -1)
                        {
                            $('td', row).css("background-color", "rgba(255, 165,0, 0.6);"); // NARANJO
                            posee_alertas_importantes = true;
                        }
                        else if (data.DetalleAlerta.indexOf("SIN VALIDACION PREZARPE") > -1 && data.DetalleAlerta.length == 23)
                        {
                            posee_alertas_importantes = false;
                        }
                        else
                        {
                            $('td', row).css("background-color", "rgba(255,255,0)"); // AMARILLO
                            posee_alertas_importantes = false;
                        }
                    }

                    if (data.Validado==0 && posee_alertas_importantes == false)
                    {
                        $('td', row).css("background-color", "rgba(0,255,0,0.6)"); // VERDE
                    }
                }
            },
            columns: [
                { "data": "Checkbox" },
                { "data": "EstadoServicio"},
                { "data": "GestionServicio"},
                { "data": "FechaGestion",
                    "render":
                      function( data, type, row, meta){
                          if(data != null){
                              var fecha = FormatDateControlador(data);
                              return fecha;
                          }else{
                              return "";
                          }
                      }
                },
                { "data": "Nave1" },
                { "data": "Viaje" },
                { "data": "EtaNave",
                    "render":
                      function( data, type, row, meta){
                          if(data != null){
                              var fecha = FormatDate(data);
                              return fecha;
                          }else{
                              return "";
                          }
                      }
                },
                { "data": "FechaIniStacking",
                    "render":
                    function( data, type, row, meta){
                        if(data != null){
                            var fecha = FormatDate(data);
                            return fecha;
                        }else{
                            return "";
                        }
                    }
                },
                { "data": "FechaFinStacking",
                    "render":
                    function( data, type, row, meta){
                        if(data != null){
                            var fecha = FormatDate(data);
                            return fecha;
                        }else{
                            return "";
                        }
                    }
                },
                { "data": "Etd",
                    "render":
                    function( data, type, row, meta){
                        if(data != null){
                            var fecha = FormatDate(data);
                            return fecha;
                        }else{
                            return "";
                        }
                    }
                },
                { "data": "EtaPuerto",
                    "render":
                    function( data, type, row, meta){
                        if(data != null){
                            var fecha = FormatDate(data);
                            return fecha;
                        }else{
                            return "";
                        }
                    }
                },
                { "data": "Naviera" },
                { "data": "NotaServicio" },
                { "data": "FechaRegistro",
                    "render":
                    function( data, type, row, meta){
                        if(data != null){
                            var fecha = FormatDate(data);
                            return fecha;
                        }else{
                            return "";
                        }
                    }
                },
                { "data": "Semana",
                    "render":
                    function( data, type, row, meta){
                        if(row.FechaControlador != null){
                            var fechaControlador = FormatDateSemana(row.FechaControlador);
                            var semana = new Date(fechaControlador).format('W');
                            return semana;
                        }else if(row.FechaCancelacion != null){
                            var FechaCancelacion = FormatDateSemana(row.FechaCancelacion);
                            var semana = new Date(FechaCancelacion).format('W');
                            return semana;
                        }else{
                            var f = new Date();
                            return semana = new Date((f.getMonth() +1) + "/" +  f.getDate() + "/" + f.getFullYear()).format('W');
                        }
                    }
                },
                { "data": "Freightforwarder" },
                { "data": "Exportador" },
                { "data": "Consignatario" },
                { "data": "ServiceProvider" },
                { "data": "ContinenteOrigen" },
                { "data": "PaisPuertoOrigen" },
                { "data": "PuertoOrigen" },
                { "data": "ContinenteDestino" },
                { "data": "PuertoDestino" },
                { "data": "Booking" },
                { "data": "Commodity" },
                { "data": "Setpoint" },
                { "data": "Temperatura" },
                { "data": "Contenedor" },
                { "data": "Controlador" },
                { "data": "Bateria" },
                { "data": "FechaControlador",
                    "render":
                    function( data, type, row, meta){
                        if(data != null){
                            var fecha = FormatDateControlador(data);
                            return fecha;
                        }else{
                            return "";
                        }
                    }
                },
                { "data": "TipoLugarControlador" },
                { "data": "LugarControlador" },
                { "data": "TecnicoControlador" },
                { "data": "PrecintoSecurity" },
                { "data": "Candado" },
                { "data": "SelloPerno1" },
                { "data": "SelloPerno2" },
                { "data": "SelloTapa" },
                { "data": "PaisDeposito" },
                { "data": "Deposito" },
                { "data": "SelloPanel1" },
                { "data": "SelloPanel2" },
                { "data": "SelloSecurity" },
                { "data": "ObservacionSellos" },
                { "data": "FechaCortina",
                    "render":
                    function( data, type, row, meta){
                        if(data != null){
                            var fecha = FormatDate(data);
                            return fecha;
                        }else{
                            return "";
                        }
                    }
                },
                { "data": "PaisCortina" },
                { "data": "TipoLugarCortina" },
                { "data": "LugarCortina" },
                { "data": "PurafilCortina" },
                { "data": "TecnicoCortina" },
                { "data": "FechaGasificacion",
                    "render":
                    function( data, type, row, meta){
                        if(data != null){
                            var fecha = FormatDate(data);
                            return fecha;
                        }else{
                            return "";
                        }
                    }
                },
                { "data": "TipoLugarGasificacion" },
                { "data": "LugarGasificacion" },
                { "data": "TecnicoGasificacion" },
                { "data": "TratamientoCo2" },
                { "data": "FiltroScrubber" },
                { "data": "CantidadCalScrubber" },
                { "data": "NotasLogistica" },
                { "data": "IdServicio" },
                { "data": "CommodityTecnica" },
                { "data": "Validado",
                    "render":
                    function( data, type, row, meta){
                        if(data == 1){
                            return "NO";
                        }else if(data == 0){
                            return "SI";
                        }else{
                            return "POR VALIDAR";
                        }
                    }
                },
                { "data": "Habilitado",
                    "render":
                    function( data, type, row, meta){
                        if(data == 1){
                            return "NO";
                        }else{
                            return "SI";
                        }
                    }
                },
                { "data": "MovContenedor",
                    "render":
                    function( data, type, row, meta){
                        if(data =="MSH"){
                            return "DEPOSIT OUTPUT";
                        }else if(data =="ECY"){
                            return "TERMINAL INPUT";
                        }else{
                            return "";
                        }
                    }
                },
                { "data": "Alerta" },
                { "data": "ValidacionServicio",
                    "render":
                    function( data, type, row, meta){
                        if(data == 1){
                            return "NO";
                        }else if(data == 0){
                            return "SI";
                        }else{
                            return "POR VALIDAR";
                        }
                    }
                },
                { "data": "ColorEstado" },
            ],
            columnDefs: [
                {
                    'targets': 0,
                    'checkboxes': {
                        'selectRow': true
                    }
                },
                {
                    "targets": [65],
                    "visible": false,
                }
            ],
            select: {
                'style': 'multi'
            },
        });

        $( table.table().container() ).on('keyup', 'thead input', function () {
            table
                .column( $(this).data('index'))
                .search( this.value )
                .draw();
        });

        $('#example-select-all').on('click', function(){
            // Get all rows with search applied
            var rows = table.rows({ 'search': 'applied' }).nodes();
            // Check/uncheck checkboxes for all rows in the table
            $('input[type="checkbox"]', rows).prop('checked', this.checked);
        });

        function addDays(date, days) {
            var result = new Date(date);
            result.setDate(result.getDate() + days);
            return result;
        }

        function diferenciaDias(FechaLeaktest) {
            var date1 = new Date(FechaLeaktest);
            var date2 = new Date();
            if (date1 < date2) {
                var aux = -1;
            } else {
                var aux = 1;
            }
            var timeDiff = Math.abs(date2.getTime() - date1.getTime());
            var diffDays = Math.ceil((timeDiff / (1000 * 3600 * 24)) * aux);
            return diffDays;
        };

        function diferenciaDias2(FechaStacking) {
            var date1 = new Date(FechaStacking);
            var date2 = new Date();
            if (date1 < date2) {
                var aux = -1;
            } else {
                var aux = 1;
            }
            var timeDiff = Math.abs(date2.getTime() - date1.getTime());
            var diffDays = Math.ceil((timeDiff / (1000 * 3600 * 24)) * aux);
            return diffDays;
        }

        function FormatDate(data) {
            var dateString = data.substr(6);
            var currentTime = new Date(parseInt(dateString));

            var n = currentTime.getTimezoneOffset();
            var month = currentTime.getMonth() + 1;
            var day = currentTime.getDate();
            var year = currentTime.getFullYear();

            if (month < 10) {
                month = "0" + month;
            } else {
                month;
            }

            if (day < 10) {
                day = "0" + day;
            } else {
                day;
            }

            var date = day + "-" + month + "-" + year;
            return date;
        }

        function FormatDateControlador(data) {
            var dateString = data.substr(6);
            var currentTime = new Date(parseInt(dateString));
            var month = currentTime.getMonth() + 1;
            var day = currentTime.getDate();
            var year = currentTime.getFullYear();
            var Hora = currentTime.getHours();
            var Minutos = currentTime.getMinutes();

            if (month < 10) {
                month = "0" + month;
            } else {
                month;
            }

            if (day < 10) {
                day = "0" + day;
            } else {
                day;
            }

            if (Hora < 10 && Hora != 0) {
                Hora = "0" + Hora;
            } else if(Hora == 0) {
                Hora = "00";
            }else {
                Hora;
            }

            if (Minutos < 10 && Minutos != 0) {
                Minutos = "0" + Minutos;
            } else if(Minutos == 0) {
                Minutos = "00" ;
            }else {
                Minutos;
            }

            var date = day + "-" + month + "-" + year + " " + Hora + ":" + Minutos;
            return date;
        }

        function FormatDateStacking(data) {
            var dateString = data.substr(6);
            var currentTime = new Date(parseInt(dateString));
            var month = currentTime.getMonth() + 1;
            var day = currentTime.getDate();
            var year = currentTime.getFullYear();

            if (month < 10) {
                month = "0" + month;
            } else {
                month;
            }

            if (day < 10) {
                day = "0" + day;
            } else {
                day;
            }

            var date = month + "-" + day + "-" + year;
            return date;
        }

        function FormatDateSemana(data){
            var dateString = data.substr(6);
            var currentTime = new Date(parseInt(dateString ));
            var month = currentTime.getMonth() + 1;
            var day = currentTime.getDate();
            var year = currentTime.getFullYear();
            var date = month + "-" + day + "-" + year;
            return date;
        }
    });

    $("#NumViajes").change(function () {
        if($("#NumViajes").val()!="0")
        {
            var num = document.getElementById("NumViajes");
            var selected = num.options[num.selectedIndex].text;

            $.ajax({
            type: "POST",
            url: '@Url.Action("GetPuertosOrigenViaje", "Viaje")',
            data: { NumViaje: selected},
            success: function (response) {
                var data = [];
                var json = JSON.parse(response);
                var cuenta = json.length;
                $('#PuertoOrigenViajes').empty();
                var optionsAsString = "";
                var optionsAsString = "<option value='0'>Seleccione Puerto</option>";
                if (cuenta != 0) {
                    for (var i = 0; i < cuenta; i++) {
                        optionsAsString += "<option value='" + json[i].IdPuertoOrigen + "'>" + json[i].PuertoOrigen + "</option>";
                    }
                    $('#PuertoOrigenViajes').append(optionsAsString);
                    $("#PuertoOrigenViajes").removeAttr("disabled");
                    $('#PuertoOrigenViajes').selectpicker('refresh');
                }
            },
            });
        }

    });

    $("#PuertoOrigenViajes").change(function () {
        var num = document.getElementById("NumViajes");
        var selected = num.options[num.selectedIndex].text;

        $.ajax({
            type: "POST",
            url: '@Url.Action("GetPuertosDestinoViaje", "Viaje")',
            data: { NumViaje: selected,
                IdPuertoOrigen: $("#PuertoOrigenViajes").val()},
            success: function (response) {
                var data = [];
                var json = JSON.parse(response);
                var cuenta = json.length;
                $('#PuertoDestinoViajes').empty();
                var optionsAsString = "";
                var optionsAsString = "<option value='0'>Seleccione Puerto</option>";
                if (cuenta != 0) {
                    for (var i = 0; i < cuenta; i++) {
                        optionsAsString += "<option value='" + json[i].IdPuertoDestino + "'>" + json[i].PuertoDestino + "</option>";
                    }
                    $('#PuertoDestinoViajes').append(optionsAsString);
                    $("#PuertoDestinoViajes").removeAttr("disabled");
                    $('#PuertoDestinoViajes').selectpicker('refresh');
                }
            },
        });
    });

    function strtrunc(str, max, add){
        add = add || '...';
        return (typeof str === 'string' && str.length > max ? str.substring(0, max) + add : str);
    };

    //CAMBIOS PENDIENTES EN EDI
    $("#CambiosPendientesEDI").click(function ()
    {
        var table2 = $('#Tb_Modal9').DataTable();
        table2.destroy();

        $.ajax({
            type: "POST",
            url: '@Url.Action("VerCambiosReserva", "Reservas")',
            success: function (response) {
                var data = [];
                var json = JSON.parse(response);
                var cuenta = json.length;
                var estado = "";
                var fecha = "";

                for (var i = 0 ; i < cuenta ; i++) {

                    if(json[i].Estado == 0){
                        estado = "PENDIENTE";
                    }
                    else if(json[i].Estado == 1){
                        estado = "APROBADO";
                    }
                    else if(json[i].Estado == 2){
                        estado = "RECHAZADO";
                    }

                    fecha = FormatoFecha(json[i].Fecha_Creacion);

                    data.push([ json[i].Booking.toUpperCase(),
                                json[i].Item.toUpperCase(),
                                json[i].ValorActual.toUpperCase(),
                                json[i].ValorNuevo.toUpperCase(),
                                fecha,
                                null,
                                null,
                                estado
                    ]);
                }

                table2 = $('#Tb_Modal9').DataTable({
                    data: data,
                    dom: 'Bfrtip',
                    buttons: [
                        'copy', 'csv', 'excel'
                    ],
                    fixedColumns: true,
                    "columnDefs": [{
                        "targets": -3,
                        "data": null,
                        "defaultContent": "<button id='botonAprobar' class='btn btn-success'><i class='fa fa-check-circle fa-2x' title='Aprobar'></i></button>"
                    },{
                        "targets": -2,
                        "data": null,
                        "defaultContent": "<button id='botonRechazar' class='btn btn-danger'><i class='fa fa-times-circle fa-2x' title='Rechazar'></i></button>"
                    }]
                });
            }
        });

        $('#CambiosPendientesEDITrigger').trigger('click');
    });

    function FormatoFecha(data){
        var res = data.split("T");
        var resfecha = res[0].split("-");
        var reshora = res[1].split(":");
        return resfecha[2]+'-'+resfecha[1]+'-'+resfecha[0]+' '+reshora[0]+':'+reshora[1];
    }

    $('#Tb_Modal9').on( 'click', 'tbody td:not(:first-child)', function (e) {

        var Cabecera = $('#Tb_Modal9 thead tr th').eq($(this).index()).text().trim();
        localStorage.setItem("Fila", $(this).parent().index());
        localStorage.setItem("Columna", $(this).parent().children().index($(this)));
        var fila = localStorage.getItem("Fila");
        var Columna = localStorage.getItem("Columna");

        var Booking_enviar = $('#Tb_Modal9 tbody tr:eq('+fila+') td:eq(0)').text();
        var Item_enviar = $('#Tb_Modal9 tbody tr:eq('+fila+') td:eq(1)').text();
        var ValorActual_enviar = $('#Tb_Modal9 tbody tr:eq('+fila+') td:eq(2)').text();
        var ValorEdi_enviar = $('#Tb_Modal9 tbody tr:eq('+fila+') td:eq(3)').text();
        var Estado = $('#Tb_Modal9 tbody tr:eq('+fila+') td:eq(7)').text();

        if(Cabecera == "APROBAR" )
        {
            if(Estado != 'PENDIENTE'){
                swal('Ups!', 'Solo puede realizar acciones a los cambios PENDIENTES', 'error');
                return false;
            }
            else{
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("AccionCambiosReserva", "Reservas")',
                    data: {
                        Accion: "APROBAR",
                        Booking: Booking_enviar,
                        Item: Item_enviar,
                        ValorActual: ValorActual_enviar,
                        ValorEdi: ValorEdi_enviar,
                    },
                    success: function (response) {
                        var json = JSON.parse(response);
                        if (json.validador == 0) {
                            var aux = 'success';
                        } else {
                            var aux = 'warning';
                        }
                        swal({
                            title: '',
                            text: json.Mensaje,
                            type: aux,
                            showCancelButton: false,
                            confirmButtonColor: '#3085d6',
                            cancelButtonColor: '#d33',
                            confirmButtonText: 'Aceptar'
                        }).then((result) => {
                            //location.reload();
                        })
                    }
                });
            }
        }
        else if(Cabecera == "RECHAZAR" )
        {
            if(Estado != 'PENDIENTE'){
                swal('Ups!', 'Solo puede realizar acciones a los cambios PENDIENTES', 'error');
                return false;
            }
            else{
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("AccionCambiosReserva", "Reservas")',
                    data: {
                        Accion: "RECHAZAR",
                        Booking: Booking_enviar,
                        Item: Item_enviar,
                        ValorActual: ValorActual_enviar,
                        ValorEdi: ValorEdi_enviar,
                    },
                    success: function (response) {
                        var json = JSON.parse(response);
                        if (json.validador == 0) {
                            var aux = 'success';
                        } else {
                            var aux = 'warning';
                        }
                        swal({
                            title: '',
                            text: json.Mensaje,
                            type: aux,
                            showCancelButton: false,
                            confirmButtonColor: '#3085d6',
                            cancelButtonColor: '#d33',
                            confirmButtonText: 'Aceptar'
                        }).then((result) => {
                            //location.reload();
                        })
                    }
                });
            }
        }
    });

    $("#AsociarBateria").click(function () {

        @*$.ajax({
            type: "POST",
            url: '@Url.Action("GetBateriasCargadas", "Bateria")',
            success: function (response) {
                var data = [];
                var json = JSON.parse(response);
                var cuenta = json.length;
                $('#BateriaAsociada').empty();
                var optionsAsString = "";
                var optionsAsString = "<option value='0'>Seleccione Bateria</option>";
                if (cuenta != 0) {
                    for (var i = 0; i < cuenta; i++) {
                        optionsAsString += "<option value='" + json[i].IdBateria + "'>" + json[i].NumBateria + "</option>";
                    }
                    $('#BateriaAsociada').append(optionsAsString);
                    $('#BateriaAsociada').selectpicker('refresh');
                }
            },
        });*@

        $('#tipo_esn').val("0");
        $("#tipo_esn").prop("disabled", true);
        $('#tipo_esn').selectpicker('refresh');
        $('#ESN').val("");
        $("#ESN").prop("disabled", true);
        $('#FechaAsociacion').val("");
        $("#FechaAsociacion").prop("disabled", true);
        $('#BateriaAsociada').val("");
        $("#BateriaAsociada").prop("disabled", false);
        $('#AsociarBateriaTrigger').trigger('click');

    });

    @*$("#BateriaAsociada").change(function () {
        $.ajax({
            type: "POST",
            url: '@Url.Action("GetEquipoAsociadoById", "Bateria")',
            data: {
                IdBateria: $('#BateriaAsociada').val()
            },
            success: function (response) {
                var data = [];
                var json = JSON.parse(response);
                var cuenta = json.length;
                if (cuenta != 0) {
                        if (json.TipoESN == "CONTROLADOR")
                        {
                            $('#tipo_esn').val("1");
                            $("#tipo_esn").prop("disabled", false);
                            $('#tipo_esn').selectpicker('refresh');

                        } else if (json.TipoESN == "CONTROLADOR")
                        {
                            $('#tipo_esn').val("2");
                            $("#tipo_esn").prop("disabled", false);
                            $('#tipo_esn').selectpicker('refresh');
                        }else
                        {
                            $('#tipo_esn').val("0");
                            $("#tipo_esn").prop("disabled", false);
                            $('#tipo_esn').selectpicker('refresh');
                        }

                        $('#ESN').val(json.ESN);
                        $('#FechaAsociacion').val(formatDate(json.FechaAsociacion));
                }
            },
        });
    });*@

    $("#Guardar_asociacion").click(function () {
        if ($("#ESN").val() == "") {
            $("#ESN").css("background-color", "rgba(255, 0, 0, 0.4)");
            $("button[data-id=tipo_esn]").css("background", "rgba(255, 0, 0, 0)");
            $("#FechaAsociacion").css("background-color", "rgba(255, 0, 0, 0)");
        } else if ($("#tipo_esn").val() == "0") {
            $("#ESN").css("background-color", "rgba(255, 0, 0, 0)");
            $("button[data-id=tipo_esn]").css("background", "rgba(255, 0, 0, 0.4)");
            $("#FechaAsociacion").css("background-color", "rgba(255, 0, 0, 0)");
        } else if ($("#FechaAsociacion").val() == "" ) {
            $("#ESN").css("background-color", "rgba(255, 0, 0, 0)");
            $("button[data-id=tipo_esn]").css("background", "rgba(255, 0, 0, 0)");
            $("#FechaAsociacion").css("background-color", "rgba(255, 0, 0, 0.4)");
        } else
        {
            var tipoESN="";
            if ($('#tipo_esn').val()=="1")
            {
                tipoESN = "CONTROLADOR";
            } else
            {
                tipoESN = "MODEM";
            }
            $.ajax({
                type: "POST",
                url: '@Url.Action("AsociarBateria", "Bateria")',
                data: {
                    NumBateria: $('#BateriaAsociada').val(),
                    ESN: $('#ESN').val(),
                    TipoESN: tipoESN,
                    FechaAsociacion: $("#FechaAsociacion").val()
                },
                success: function (response) {

                    var json = JSON.parse(response);
                    if (json.validador == 0) {
                        var aux = 'success';
                    } else {
                        var aux = 'warning';
                    }
                    swal({
                        title: '',
                        text: json.Mensaje,
                        type: aux,
                        showCancelButton: false,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'Aceptar'
                    }).then((result) => {
                        location.reload();
                    })
                }
            });
        }
    });

    $("#ESN").blur(function () {
        $.ajax({
            type: "POST",
            url: '@Url.Action("ValidarTipoESN", "Controlador")',
            data: {
                ESN: $('#ESN').val()
            },
            success: function (response) {
                if(response=="CONTROLADOR")
                {
                    $('#tipo_esn').val("1");
                    $('#tipo_esn').selectpicker('refresh');
                    $("#tipo_esn").prop("disabled", true);
                }else if (response=="MODEM")
                {
                    $('#tipo_esn').val("2");
                    $('#tipo_esn').selectpicker('refresh');
                    $("#tipo_esn").prop("disabled", true);
                }else
                {
                    $('#tipo_esn').val("0");
                    $("#tipo_esn").prop("disabled", false);
                    $('#tipo_esn').selectpicker('refresh');
                    $('#ESN').val("");
                    swal('Ups!', 'No existe registro de controlador o modem con el número de ESN ingresado.', 'error');
                    return false;
                }

            }
        });
    });

    $("#ValidarBateria").click(function () {
        $.ajax({
            type: "POST",
            url: '@Url.Action("ValidarBateria", "Bateria")',
            data: {
                NumBateria: $('#BateriaAsociada').val()
            },
            success: function (response) {
                var json = JSON.parse(response);
                if (json.validador == 1) {
                    var aux = 'success';
                    swal({
                        title: '',
                        text: json.Mensaje,
                        type: aux,
                        showCancelButton: false,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'Aceptar'
                    }).then((result) => {
                        $("#BateriaAsociada").prop("disabled", true);
                        $("#ESN").prop("disabled", false);
                        $("#tipo_esn").prop("disabled", false);
                        $('#FechaAsociacion').prop("disabled", false);
                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetEquipoAsociadoByNumBateria", "Bateria")',
                            data: {
                                NumBateria: $('#BateriaAsociada').val()
                            },
                            success: function (response) {
                                var data = [];
                                var json = JSON.parse(response);
                                var cuenta = json.length;
                                if (cuenta != 0) {
                                    if (json.TipoESN == "CONTROLADOR")
                                    {
                                        $('#tipo_esn').val("1");
                                        $("#tipo_esn").prop("disabled", false);
                                        $('#tipo_esn').selectpicker('refresh');

                                    } else if (json.TipoESN == "CONTROLADOR")
                                    {
                                        $('#tipo_esn').val("2");
                                        $("#tipo_esn").prop("disabled", false);
                                        $('#tipo_esn').selectpicker('refresh');
                                    }else
                                    {
                                        $('#tipo_esn').val("0");
                                        $("#tipo_esn").prop("disabled", false);
                                        $('#tipo_esn').selectpicker('refresh');
                                    }

                                    $('#ESN').val(json.ESN);
                                    $('#FechaAsociacion').val(formatDate(json.FechaAsociacion));
                                }
                            },
                        });
                    })
                } else if (json.validador == 2)
                {
                    var aux = 'warning';

                    swal({
                        title: '',
                        text: json.Mensaje,
                        type: aux,
                        showCancelButton: true,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'Aceptar'
                    }).then((result) => {
                        $("#BateriaAsociada").prop("disabled", true);
                        $("#ESN").prop("disabled", false);
                        $("#tipo_esn").prop("disabled", false);
                        $('#FechaAsociacion').prop("disabled", false);
                    })
                }else
                {
                    var aux = 'warning';

                    swal({
                        title: '',
                        text: json.Mensaje,
                        type: aux,
                        showCancelButton: false,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'Aceptar'
                    }).then((result) => {
                        $("#BateriaAsociada").val("");
                    })
                }
            }
        });
    });


    //VALIDACION PREZARPE
    $("#BtnValidacionPrezarpe").click(function () {
        var Servicios = [];
        var count = 0;
        var cuenta = $("#Tb_Servicios tbody tr").length;
        var bool = true;
        $("#Tb_Servicios tbody tr").each(function () {
            if ($(this).find(".dt-checkboxes").is(":checked")) {
                Servicios.push($(this).find("td:eq(5)").html());
            }else{
                count = count + 1;
                if(count == cuenta){
                    swal('Ups!', 'Debe seleccionar al menos un registro.', 'error');
                    return false;
                }
            }
        });

        if(count != cuenta && bool == true){

            $.ajax({
                type: "POST",
                url: '@Url.Action("ValidarPreZarpe", "Reservas")',
                data: {
                    Servicios : Servicios,
                },
                success: function (response) {
                    console.log('paso por aca');
                    var json = JSON.parse(response);
                    var datostabla = "";
                    for(var i = 0; i < json.length; i++){
                        var result_string = "";
                        if(json[i].Resultado == 0){
                            result_string = "SI";
                        }
                        else if(json[i].Resultado == 1){
                            result_string = "NO";
                        }
                        else if(json[i].Resultado == 2){
                            result_string = "NO - SIN DESCARGA DATOS";
                        }
                        else if(json[i].Resultado == 3){
                            result_string = "NO - FALLÓ FAULT ANALYSIS";
                        }
                        else{
                            result_string = "DESCONOCIDO";
                        }

                        datostabla = datostabla +
                           "<tr>" +
                               "<td style='text-align:center'>" + json[i].IdServicio + "</td>" +
                               "<td style='text-align:center'>" + result_string + "</td>" +
                           "</tr>";
                    }

                    swal({
                        title: 'INFORMACIÓN DE VALIDACIÓN PREZARPE',
                        html: "<div style='overflow-x: auto; max-height: 400px;'>" +
                                "<table class='table table-striped table-bordered display nowrap' >" +
                                  "<thead >" +
                                        "<tr>" +
                                            "<th>ID SERVICIO</th>" +
                                            "<th>RESULTADO</th>" +
                                        "</tr>" +
                                    "</thead>" +
                                    "<tbody >" +
                                        datostabla +
                                    "</tbody>" +
                                "</table>" +
                              "</div>",
                        customClass: 'swal-wide',
                        confirmButtonText: 'Aceptar',
                    }).then((result) => {
                        if (result == true) {
                            location.reload();
                        }
                    });
                },
            });

        }
    });
    //VALIDACION PREZARPE

</script>

