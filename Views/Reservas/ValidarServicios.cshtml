
@{
    ViewBag.Title = "ValidarServicios";
    Layout = "~/Views/MasterPage.cshtml";
}

<div class="row">
    <div class="x_panel">
        <div class="x_title">
            <h2>Servicios Pendientes por Validar<small></small></h2>
            <div class="clearfix"></div>
        </div>
        <div class="x_content">
            <br />

            <form id="FormControl" data-parsley-validate class="form-horizontal form-label-left">
                <br />
                <div class="col-sm-12 col-md-12 col-lg-12">
                    <table id="Tb_Reserva" class="table table-striped table-bordered">
                        <thead>
                            <tr>
                                <th>ID Servicio</th>
                                <th>Booking</th>
                                <th>N° Contenedor</th>
                                <th>Fecha servicio</th>
                                <th>ServiceReport</th>
                                <th>Controlador (ESN)</th>
                                <th>Lugar Instalación Controlador</th>
                                <th>Cortina instalada</th>
                                <th>Lugar Instalación Cortina</th>
                                <th>Hora de llegada</th>
                                <th>Hora de inicio</th>
                                <th>Hora de salida</th>
                                <th>Estado</th>
                                <th>Gasificado</th>
                                <th>Con filtro</th>
                                <th>LeakTest aprobado</th>
                                <th>Validado</th>
                                <th>Retrieval Provider</th>
                                <th>Posee Claim</th>
                                <th>Fault Analysis</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>070ISA0610891</td>
                                <td>GESU9533509</td>
                                <td>28/09/2017</td>
                                <td>11554</td>
                                <td>886B0F2DBD3A</td>
                                <td>CONTOPSA</td>
                                <td>SI</td>
                                <td>PLANTA</td>
                                <td>08:30</td>
                                <td>08:45</td>
                                <td>09:15</td>
                                <td>EN VIAJE</td>
                                <td>SI</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                                <td>SI</td>
                                <td>RP1</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>070ISA0610891</td>
                                <td>TTNU8460232</td>
                                <td>28/09/2017</td>
                                <td>11555</td>
                                <td>886B0F54A47A</td>
                                <td>CONTOPSA</td>
                                <td>SI</td>
                                <td>PLANTA</td>
                                <td>10:00</td>
                                <td>10:05</td>
                                <td>10:25</td>
                                <td>EN VIAJE</td>
                                <td>SI</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                                <td>NO</td>
                                <td>RP1</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>070ISA0610891</td>
                                <td>8455DHJK44</td>
                                <td>28/09/2017</td>
                                <td>11554</td>
                                <td>886B0F2DBD3A</td>
                                <td>CONTOPSA</td>
                                <td>SI</td>
                                <td>PLANTA</td>
                                <td>08:30</td>
                                <td>08:45</td>
                                <td>09:15</td>
                                <td>EN VIAJE</td>
                                <td>SI</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                                <td>SI</td>
                                <td>RP1</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>070ISA0610891</td>
                                <td>SEGU9129889</td>
                                <td>28/09/2017</td>
                                <td>11554</td>
                                <td>886B0F2DBD3A</td>
                                <td>CONTOPSA</td>
                                <td>SI</td>
                                <td>PLANTA</td>
                                <td>08:30</td>
                                <td>08:45</td>
                                <td>09:15</td>
                                <td>EN VIAJE</td>
                                <td>SI</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                                <td>SI</td>
                                <td>RP1</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td>070ISA0610891</td>
                                <td>CXRU1555272</td>
                                <td>28/09/2017</td>
                                <td>11554</td>
                                <td>886B0F2DBD3A</td>
                                <td>CONTOPSA</td>
                                <td>SI</td>
                                <td>PLANTA</td>
                                <td>08:30</td>
                                <td>08:45</td>
                                <td>09:15</td>
                                <td>EN VIAJE</td>
                                <td>SI</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                                <td>SI</td>
                                <td>RP1</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                            </tr>
                            <tr>
                                <td>6</td>
                                <td>070ISA0610891</td>
                                <td>CXRU1396442</td>
                                <td>28/09/2017</td>
                                <td>11554</td>
                                <td>886B0F2DBD3A</td>
                                <td>CONTOPSA</td>
                                <td>SI</td>
                                <td>PLANTA</td>
                                <td>08:30</td>
                                <td>08:45</td>
                                <td>09:15</td>
                                <td>EN VIAJE</td>
                                <td>SI</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                                <td>SI</td>
                                <td>RP1</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                            </tr>
                            <tr>
                                <td>7</td>
                                <td>SNG9160762</td>
                                <td>CXRU1396442</td>
                                <td>28/09/2017</td>
                                <td>11554</td>
                                <td>886B0F2DBD3A</td>
                                <td>CONTOPSA</td>
                                <td>SI</td>
                                <td>PLANTA</td>
                                <td>08:30</td>
                                <td>08:45</td>
                                <td>09:15</td>
                                <td>EN VIAJE</td>
                                <td>SI</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                                <td>SI</td>
                                <td>RP1</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                            </tr>
                            <tr>
                                <td>8</td>
                                <td>SNG9160762</td>
                                <td>CXRU1396442</td>
                                <td>28/09/2017</td>
                                <td>11554</td>
                                <td>886B0F2DBD3A</td>
                                <td>CONTOPSA</td>
                                <td>SI</td>
                                <td>PLANTA</td>
                                <td>08:30</td>
                                <td>08:45</td>
                                <td>09:15</td>
                                <td>EN VIAJE</td>
                                <td>SI</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                                <td>SI</td>
                                <td>RP1</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                            </tr>
                            <tr>
                                <td>9</td>
                                <td>SNG9160762</td>
                                <td>CXRU1396442</td>
                                <td>28/09/2017</td>
                                <td>11554</td>
                                <td>886B0F2DBD3A</td>
                                <td>CONTOPSA</td>
                                <td>SI</td>
                                <td>PLANTA</td>
                                <td>08:30</td>
                                <td>08:45</td>
                                <td>09:15</td>
                                <td>EN VIAJE</td>
                                <td>SI</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                                <td>SI</td>
                                <td>RP1</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                            </tr>
                            <tr>
                                <td>10</td>
                                <td>SNG9160762</td>
                                <td>CXRU1396442</td>
                                <td>28/09/2017</td>
                                <td>11554</td>
                                <td>886B0F2DBD3A</td>
                                <td>CONTOPSA</td>
                                <td>SI</td>
                                <td>PLANTA</td>
                                <td>08:30</td>
                                <td>08:45</td>
                                <td>09:15</td>
                                <td>EN VIAJE</td>
                                <td>SI</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                                <td>SI</td>
                                <td>RP1</td>
                                <td>NO</td>
                                <td>APROBADO</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <th>ID Servicio</th>
                                <th>Booking</th>
                                <th>N° Contenedor</th>
                                <th>Fecha servicio</th>
                                <th>ServiceReport</th>
                                <th>Controlador (ESN)</th>
                                <th>Lugar Instalación Controlador</th>
                                <th>Cortina instalada</th>
                                <th>Lugar Instalación Cortina</th>
                                <th>Hora de llegada</th>
                                <th>Hora de inicio</th>
                                <th>Hora de salida</th>
                                <th>Estado</th>
                                <th>Gasificado</th>
                                <th>Con filtro</th>
                                <th>LeakTest aprobado</th>
                                <th>Validado</th>
                                <th>Retrieval Provider</th>
                                <th>Posee Claim</th>
                                <th>Fault Analysis</th>
                            </tr>
                        </tfoot>
                    </table>
                </div>
                <div class="col-lg-12 col-sm-12">
                    <input type="text" class="input form_control" id="IdServicio" disabled="disabled" placeholder="Id Servicio" style="text-align:center; text-align-last:center;" />
                    <button type="button" class="btn btn-primary" id="Validar"><i class="fa fa-check" title="Validar Servicio"></i> Validar Servicio</button>
                </div>
            </form>
        </div>
    </div>
</div>


<script>
    $(document).ready(function () {
        $('#Tb_Reserva tfoot th').each(function () {
            var title = $(this).text();
            $(this).html('<input type="text" placeholder="Buscar" />');
        });

        var table = $('#Tb_Reserva').DataTable({

        });

        table.columns().every(function () {
            var that = this;

            $('input', this.footer()).on('keyup change', function () {
                if (that.search() !== this.value) {
                    that
                        .search(this.value)
                        .draw();
                }
            });
        });


        $('#Tb_Reserva tbody').on('click', 'tr', function () {
            if ($(this).hasClass('selected')) {
                $("#IdServicio").val(this.children[0].innerText);
                $(this).removeClass('selected');
            }
            else {
                table.$('tr.selected').removeClass('selected');
                $("#IdServicio").val(this.children[0].innerText);
                $(this).addClass('selected');
            }
        });
    });
            //Botón Agregar Nota//
            $("#Validar").click(function () {
                var valores = [];
                var i = 0;
                // Obtenemos todos los valores contenidos en los <td> de la fila
                // seleccionada
                $(this).parents("tr").find("td").each(function () {
                    valores[i++] = $(this).html();
                });
                swal({
                    showCancelButton: true,
                    cancelButtonText: "Cancelar",
                    title: 'Validar Servicio',
                    html:
                        '<div class="row">' +
                            '<div class="form-group col-lg-12"><label for="Descripcion">¿Esta seguro que los datos son correctos?</label></div>' +
                        '</div>',
                    preConfirm: function () {
                        return new Promise(function (resolve) {
                            resolve([
                                //Obtener nuevos Datos Ingresados
                            ])
                        })
                    },
                    onOpen: function () {
                    }
                }).then(function (result) {

                }).catch(swal.noop)
            });
            //Botón Agregar Nota//

</script>

