
@{
    ViewBag.Title = "ConsultarEntradaSalidaControlador";
    Layout = "~/Views/MasterPage.cshtml";
}

<div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>Consultar Entrada/Salida de Controlador <small></small></h2>
                <div class="clearfix"></div>
            </div>
            <div class="x_content">
                <br />

                <form id="FormControl" data-parsley-validate class="form-horizontal form-label-left">
                    <div class="form-group">
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <label id="lb_booking" class="control-label col-md-3 col-sm-3 col-xs-6">
                                Tipo de Registro 
                            </label>
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <select class="custom-select form-control col-md-7 col-xs-12">
                                    <option selected>Seleccione un tipo de registro</option>
                                    <option value="1">ENTRADA</option>
                                    <option value="2">SALIDA</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <label id="lb_naviera" class="control-label col-md3 col-sm-3 col-xs-6">
                               Controlador (ESN)
                            </label>
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <input type="text" id="naviera" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <label id="lb_viaje" class="control-label col-md-3 col-sm-3 col-xs-6">
                                Fecha Inicio Busqueda
                            </label>
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <input type="text" id="fecha_inicio" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <label id="lb_exportador" class="control-label col-md-3 col-sm-3 col-xs-6">
                                Fecha Fin Busqueda
                            </label>
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <input type="text" id="fecha_termino" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-3 col-sm-3 col-xs-3 col-md-offset-3">
                            <label id="lb_eta" class="control-label col-md-6 col-sm-6 col-xs-6">
                                Buscar por Fecha Entrada Contr.
                            </label>
                            <div class="col-md-2 col-sm-2 col-xs-2">
                                <input id="chk_entrada_controlador" type="checkbox" value="" class="checkbox-inline">
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-3 col-xs-3">
                            <label id="lb_eta" class="control-label col-md-6 col-sm-6 col-xs-6">
                                Buscar por Fecha Salida Contr.
                            </label>
                            <div class="col-md-2 col-sm-2 col-xs-2">
                                <input id="chk_salida_controlador" type="checkbox" value="" class="checkbox-inline">
                            </div>
                        </div>
                    </div>
                    <br />
                    <div class="form-group">
                        <div class="col-md-12 col-sm-12 col-xs-12" style="text-align:center">
                            <button type="button" class="btn btn-success" onclick="MostrarIngresoPrestacionServicio()">Buscar</button>
                        </div>
                    </div>
                    <br />

                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <table id="datatable" class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th>ID Registro</th>
                                    <th>Tipo Registro</th>
                                    <th>Controlador (ESN)</th>
                                    <th>Ultimo Estado Tecnico</th>
                                    <th>Ultimo Estado Logistico</th>
                                    <th>Booking Asociado</th>
                                    <th>Contenedor Asociado</th>
                                    <th>Fecha registro de Entrada</th>
                                    <th>Origen de registro de Entrada</th>
                                    <th>Destino de registro de Entrada</th>
                                    <th>Dias de Viaje</th>
                                    <th>Courier</th>
                                    <th>Ticket envio</th>
                                    <th colspan="1">Modificar Entrada/Salida</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>ENTRADA</td>
                                    <td>87555DDSA15</td>
                                    <td>TRAVELING</td>
                                    <td>RECUPERADO</td>
                                    <td>070ISA0610891</td>
                                    <td>GESU9533509</td>
                                    <td>28/09/2017</td>
                                    <td>PHILLADELPHIA</td>
                                    <td>VALPARAISO</td>
                                    <td>15</td>
                                    <td>DHL</td>
                                    <td>115453255</td>
                                    <td style="font-size:18px; text-align:center"><i class="fa fa-edit" title="Editar Entrada/Salida" id="Editar"></i></td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>SALIDA</td>
                                    <td>87555DDSA15</td>
                                    <td>TRAVELING</td>
                                    <td>RECUPERADO</td>
                                    <td>070ISA0610891</td>
                                    <td>GESU9533509</td>
                                    <td>28/09/2017</td>
                                    <td>PHILLADELPHIA</td>
                                    <td>VALPARAISO</td>
                                    <td>15</td>
                                    <td>DHL</td>
                                    <td>115453255</td>
                                    <td style="font-size:18px; text-align:center"><i class="fa fa-edit" title="Editar Entrada/Salida" id="Editar"></i></td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td>ENTRADA</td>
                                    <td>87555DDSA15</td>
                                    <td>TRAVELING</td>
                                    <td>RECUPERADO</td>
                                    <td>070ISA0610891</td>
                                    <td>GESU9533509</td>
                                    <td>28/09/2017</td>
                                    <td>PHILLADELPHIA</td>
                                    <td>VALPARAISO</td>
                                    <td>15</td>
                                    <td>DHL</td>
                                    <td>115453255</td>
                                    <td style="font-size:18px; text-align:center"><i class="fa fa-edit" title="Editar Entrada/Salida" id="Editar"></i></td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td>ENTRADA</td>
                                    <td>87555DDSA15</td>
                                    <td>TRAVELING</td>
                                    <td>RECUPERADO</td>
                                    <td>070ISA0610891</td>
                                    <td>GESU9533509</td>
                                    <td>28/09/2017</td>
                                    <td>PHILLADELPHIA</td>
                                    <td>VALPARAISO</td>
                                    <td>15</td>
                                    <td>DHL</td>
                                    <td>115453255</td>
                                    <td style="font-size:18px; text-align:center"><i class="fa fa-edit" title="Editar Entrada/Salida" id="Editar"></i></td>
                                </tr>
                                <tr>
                                    <td>5</td>
                                    <td>SALIDA</td>
                                    <td>87555DDSA15</td>
                                    <td>TRAVELING</td>
                                    <td>RECUPERADO</td>
                                    <td>070ISA0610891</td>
                                    <td>GESU9533509</td>
                                    <td>28/09/2017</td>
                                    <td>PHILLADELPHIA</td>
                                    <td>VALPARAISO</td>
                                    <td>15</td>
                                    <td>DHL</td>
                                    <td>115453255</td>
                                    <td style="font-size:18px; text-align:center"><i class="fa fa-edit" title="Editar Entrada/Salida" id="Editar"></i></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


<script type="text/javascript">

    //Botón Editar Reserva//
    $("#Editar").click(function () {
        var valores = [];
        var i = 0;
        // Obtenemos todos los valores contenidos en los <td> de la fila
        // seleccionada
        $(this).parents("tr").find("td").each(function () {
            valores[i++] = $(this).html();
        });
        var url = '@Url.Action("EditarEntradaSalidaControlador", "Controlador")?controlador=00078001B208&tiporegistro=' + valores[1] + '&estadotecnico=' + valores[2] + '&estadologistico=' + valores[3] + '&booking=' + valores[4] + '&contenedor=' + valores[5] + '&fecha=' + valores[6] + '&origen=' + valores[7] + '&destino=' + valores[8] + '&dias=' + valores[9] + '&courier=' + valores[10] + '&ticket=' + valores[11];
        window.location.href = url;
    });
    //Botón Editar Reserva//

    //Botón Editar Reserva//
    $("#Servicio").click(function () {
        var valores = [];
        var i = 0;
        // Obtenemos todos los valores contenidos en los <td> de la fila
        // seleccionada
        $(this).parents("tr").find("td").each(function () {
            valores[i++] = $(this).html();
        });
        var url = '@Url.Action("EditarPrestacionServicio", "Reservas")?id=1&booking=070ISA0610891&contenedor=GESU9533509&fechaservicio=28/09/2017&servicereport=11554&controlador=886B0F2DBD3A&lugarinstcontrolador=CONTOPSA&cortina=SI&lugarinstcortina=PLANTA&horallegada=08:30&horainicio=08:45&horasalida=09:15&estado=EN%20VIAJE&gasificado=SI&confiltro=NO&leaktest=APROBADO&validado=SI&claimNO';
        window.location.href = url;
    });
    //Botón Editar Reserva//

    $(function () {
        $("#fecha_inicio").datepicker({
            dateFormat: "dd-mm-yy",
            firstDay: 1,
            dayNamesMin: ["Do", "Lu", "Ma", "Mi", "Ju", "Vi", "Sa"],
            dayNamesShort: ["Dom", "Lun", "Mar", "Mie", "Jue", "Vie", "Sab"],
            monthNames:
                ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio",
                "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"],
            monthNamesShort:
                ["Ene", "Feb", "Mar", "Abr", "May", "Jun",
                "Jul", "Ago", "Sep", "Oct", "Nov", "Dic"]
        });

        $("#fecha_termino").datepicker({
            dateFormat: "dd-mm-yy",
            firstDay: 1,
            dayNamesMin: ["Do", "Lu", "Ma", "Mi", "Ju", "Vi", "Sa"],
            dayNamesShort: ["Dom", "Lun", "Mar", "Mie", "Jue", "Vie", "Sab"],
            monthNames:
                ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio",
                "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"],
            monthNamesShort:
                ["Ene", "Feb", "Mar", "Abr", "May", "Jun",
                "Jul", "Ago", "Sep", "Oct", "Nov", "Dic"]
        });
    });

</script>

